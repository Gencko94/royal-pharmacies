(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[16],{281:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var l=a(2),n=a(1),r=a.n(n),c=a(10),s=a.n(c),m=a(16),o=a.n(m),i=(a(28),a(154)),d=a(104),u=a(155),b=a(44),g=a(35),p=a(3),h=a.n(p),E=a(12),v=a(6),f=a(29),x=a(64),y=a(24),N=a(54),A=a(18),j=a(43),C=a(5),k=[{value:"+965",label:"+965"},{value:"+966",label:"+966"}];function Q(e){var t=e.markerAddress,a=e.setShowMap,n=e.marker,c=e.setMarker,s=e.outOfBorder,m=r.a.useState(k[0]),i=Object(l.a)(m,2),d=i[0],u=i[1],b=r.a.useContext(A.a).addAddressMutation,g=r.a.useState(""),p=Object(l.a)(g,2),N=p[0],Q=p[1],B=r.a.useState(!1),S=Object(l.a)(B,2),I=S[0],F=S[1],V=Object(x.a)().formatMessage,U=r.a.useState(!1),z=Object(l.a)(U,2),R=z[0],P=z[1],M=y.a({apartmentOrHouseNumber:y.c().required(V({id:"required-field"})),buildingOrTowerNumber:y.c().required(V({id:"required-field"})),addressName:y.c().required(V({id:"required-field"})),phoneNumber:y.c().matches(/^\d+$/,V({id:"number-only"})).min(8,V({id:"invalid-phone"})).required(V({id:"required-field"})),additionalDetails:y.c()});return r.a.createElement("div",null,r.a.createElement(C.a,null,I&&r.a.createElement(j.a,{message:V({id:"something-went-wrong-snackbar"}),closeFunction:function(){F(!1)}})),r.a.createElement("div",{className:"font-bold p-2"},r.a.createElement("h1",null,V({id:"location-details"}))),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("label",{htmlFor:"location",className:"text-sm font-bold text-gray-700"},V({id:"delivery-location"})),r.a.createElement("button",{onClick:function(){c(null),Q("")},className:"text-main-color text-sm hover:underline"},V({id:"clear"}))),r.a.createElement("textarea",{rows:"3",id:"location",className:" mt-1 w-full rounded border  p-1  ",type:"textarea",value:t||N,readOnly:t,onChange:function(e){return Q(e.target.value)}}),r.a.createElement(f.a,{initialValues:{apartmentOrHouseNumber:"",buildingOrTowerNumber:"",phoneNumber:"",additionalDetails:"",addressName:""},validationSchema:M,onSubmit:function(){var e=Object(v.a)(h.a.mark((function e(l){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b({lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng,defaultLocation:R,addressDetails:Object(E.a)(Object(E.a)({phoneNumber:"".concat(d.value).concat(l.phoneNumber)},l),{},{markerAddress:t,userTyped_address:N})});case 3:a(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),F(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,l=e.values,n=e.isSubmitting;return r.a.createElement("form",{onSubmit:a},r.a.createElement(D,{label:V({id:"maps-detailed-address-phone"}),name:"phoneNumber",value:l.phoneNumber,type:"text",countryCode:d,setCountryCode:u}),r.a.createElement("div",{className:"grid grid-cols-2 gap-1"},r.a.createElement(w,{label:V({id:"maps-detailed-address-apartment"}),name:"apartmentOrHouseNumber",value:l.apartmentOrHouseNumber,type:"text"}),r.a.createElement(w,{label:V({id:"maps-detailed-address-building"}),name:"buildingOrTowerNumber",value:l.buildingOrTowerNumber,type:"text"})),r.a.createElement(w,{label:V({id:"maps-detailed-address-name"}),name:"addressName",value:l.addressName,type:"text"}),r.a.createElement(O,{label:V({id:"maps-details-extra-details"}),name:"additionalDetails",value:l.additionalDetails}),r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement("label",null,V({id:"mark-as-default"})),r.a.createElement("input",{className:" mx-2",type:"checkbox",checked:R,onChange:function(){return P(!R)}})),r.a.createElement("button",{type:"submit",disabled:!t&&!N||s,className:"  ".concat(!t&&!N||s?"bg-gray-500 text-gray-300":"bg-main-color text-main-text"," p-2 rounded  w-full  flex items-center uppercase justify-center font-semibold")},n?r.a.createElement(o.a,{type:"ThreeDots",color:"#fff",height:23,width:23,visible:n}):r.a.createElement("h1",null,V({id:"confirm-btn"})))))}))))}var w=function(e){var t=e.label,a=(e.value,e.name),n=Object(g.a)(e,["label","value","name"]),c=Object(f.b)(a),s=Object(l.a)(c,2),m=s[0],o=s[1];return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-bold text-gray-700 mb-1"},t),r.a.createElement("input",Object.assign({},m,n,{onBlur:function(e){m.onBlur(e)},className:" w-full rounded-sm border   p-1"})),o.touched&&o.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},o.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},O=function(e){var t=e.label,a=(e.value,e.name),n=Object(g.a)(e,["label","value","name"]),c=Object(f.b)(a),s=Object(l.a)(c,1)[0],m=Object(x.a)().formatMessage;return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("div",{className:"flex items-center mb-1"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-bold text-gray-700"},t),r.a.createElement("h1",{className:"text-xs italic mx-3"},"(",m({id:"maps-details-optional"}),")")),r.a.createElement("textarea",Object.assign({rows:3},s,n,{onBlur:function(e){s.onBlur(e)},className:" w-full rounded-sm border   p-1"})))},D=function(e){var t=e.label,a=(e.value,e.name),n=e.countryCode,c=e.setCountryCode,s=Object(g.a)(e,["label","value","name","countryCode","setCountryCode"]),m=Object(f.b)(a),o=Object(l.a)(m,2),i=o[0],d=o[1];return r.a.createElement("div",{className:"w-full mb-1 flex flex-col "},r.a.createElement("label",{htmlFor:a,className:"text-sm font-bold text-gray-800 mb-1"},t),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"0.4fr 1fr",gap:"0.5rem"}},r.a.createElement(N.a,{options:k,isSearchable:!1,value:n,onChange:c,styles:{dropdownIndicator:function(e){return Object(E.a)(Object(E.a)({},e),{},{padding:"0.25rem"})},valueContainer:function(e){return Object(E.a)(Object(E.a)({},e),{},{padding:"0.5rem"})}}}),r.a.createElement("input",Object.assign({},i,s,{onBlur:function(e){i.onBlur(e)},className:" border rounded w-full p-2 ".concat(d.error&&"border-main-color")}))),d.touched&&d.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},d.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},B=["places"],S={lat:29.3759,lng:47.9774},I={styles:i.a,disableDefaultUI:!0,zoomControl:!0};function F(e){var t=e.setShowMap,a=Object(b.useMediaQuery)({query:"(min-width: 768px)"}),n=r.a.useState(!1),c=Object(l.a)(n,2),m=c[0],i=c[1],g=Object(x.a)(),p=g.formatMessage,h=g.locale,E=Object(d.d)({googleMapsApiKey:"AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg",libraries:B,language:h}),v=E.isLoaded,f=E.loadError,y=r.a.useState(null),N=Object(l.a)(y,2),A=N[0],j=N[1],C=r.a.useState(null),k=Object(l.a)(C,2),w=k[0],O=k[1],D=r.a.useState(null),F=Object(l.a)(D,2),V=F[0],U=F[1],z=r.a.useRef(),R=r.a.useCallback((function(e){z.current=e}),[]),P=r.a.useCallback((function(e){var t=e.lat,a=e.lng;z.current.panTo({lat:t,lng:a}),j({lat:t,lng:a}),O(null)}),[]);return r.a.useEffect((function(){A?s.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(A.lat,",").concat(A.lng,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg","&language=").concat(h)).then((function(e){if(0===e.data.results.length)return U(null),O(null),void i(!0);"KW"!==e.data.results[0].address_components.find((function(e){return e.types.includes("country")})).short_name||0===e.data.results.length?i(!0):!0===m&&i(!1),U("".concat(e.data.results[0].formatted_address)),O("".concat(e.data.results[0].address_components.map((function(e){return e.short_name})).join(", ")))})).catch((function(e){})):(U(null),O(null))}),[A,h]),f?r.a.createElement("div",{className:"flex justify-center items-center h-full"},r.a.createElement("h1",null,p({id:"error-loading-maps"}))):v?r.a.createElement("div",{className:"".concat(a?"my-addresses-desktop-maps__grid":"my-addresses-mobile-maps__grid")},r.a.createElement("div",{className:"relative h-full"},r.a.createElement(u.a,{panTo:P,markerAddress:V}),r.a.createElement(d.a,{mapContainerStyle:{width:"100%",height:a?"100%":"400px"},zoom:15,center:S,options:I,clickableIcons:!1,onLoad:R,onClick:function(e){j({lat:e.latLng.lat(),lng:e.latLng.lng()})}},A&&r.a.createElement(d.c,{position:{lat:null===A||void 0===A?void 0:A.lat,lng:null===A||void 0===A?void 0:A.lng}}),m&&r.a.createElement("div",{className:"absolute mx-2 rounded p-2  bg-main-color text-main-text text-center",style:{top:"110px",left:"2%",right:"2%",width:"94%"}},r.a.createElement("h1",{className:"text-sm"},p({id:"out-of-border"}))),w&&r.a.createElement(d.b,{onCloseClick:function(){return O(null)},position:{lat:null===A||void 0===A?void 0:A.lat,lng:null===A||void 0===A?void 0:A.lng},options:{pixelOffset:new window.google.maps.Size(0,-50)}},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",null,r.a.createElement("h1",null,w)))))),r.a.createElement(Q,{markerAddress:V,marker:A,setShowMap:t,setMarker:j,outOfBorder:m})):r.a.createElement("div",{className:"flex justify-center items-center h-full"},r.a.createElement(o.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!v}))}},287:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(1),n=a.n(l),r=a(56),c=a.n(r),s=a(289),m=a.n(s);function o(e){var t=e.alt,a=e.lat,l=e.width,r=e.height,s=e.lng;return n.a.createElement("div",{style:{position:"relative",backgroundColor:"#fff",paddingBottom:"calc(100% * ".concat(r,"/").concat(l,")"),width:"100%"}},n.a.createElement(c.a,{placeholder:n.a.createElement("img",{src:m.a,alt:t}),className:"max-h-full"},n.a.createElement("img",{src:a?"https://maps.googleapis.com/maps/api/staticmap?center=".concat(a,",").concat(s,"&zoom=15&size=").concat(l,"x").concat(r,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"):m.a,alt:t,style:{maxHeight:"100%",maxWidth:"100%",display:"block",left:0,right:0},className:"mx-auto my-0 absolute"})))}},289:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANoAAADaCAYAAADAHVzbAAAABHNCSVQICAgIfAhkiAAAFEJJREFUeF7tnUeIZNX3x88kcxhHHXPAOGZdlFtRdKGgIiqIguLGgOJCUVwoGFDQhajgUnCh6MKAYgARxKUU5pxz1nHMYdKPT/379v9Z/eq9e6uqp0+d+l4oeqb7vvfO+Z77eTffWmRKUkAKzLsCi+b9CXqAFJACVgpaaX5JLAUiK7Ax17k2cAb9ve263OcrnxSYRAUGATYQvCZgqn9L/xZgk1gsZPN8KZDAqgJWC1tbjVUFrA42gTdfIdR9PSpQBxS/6wduDmx1oPTDtajb7a716LVskgIeFOh0OstmYKuDrmdiP2hzIDOzxd1u9x8PDskGKeBRgU6ns7mZbWiCbRBoi2cg5Ceg/eXRQdkkBTwo0Ol0tpwBLcHGT9JsE3LQgAe/70FmZku63e4fHhySDVLAowKdTmdrM1vfB9t/+m2DQJuFbAa03zw6KJukgAcFOp3OtjOg9cM2W6v1g5b+vyTVZma2tNvt/uLBIdkgBTwq0Ol0tjezdZVaDeASZL2arQ601GwENj6Atsajg7JJCnhQoNPpLK+Almq1NALZCFqq0Zaa2bJut7vag0OyQQp4VKDT6awwM6bAqNUYCAG2bNBSjSbQPEZXNrlRoAIagKVPEWipRvvJjVcyRAo4U6DT6exYqdEEmrP4yJwgCgi0IIGUG74VEGi+4yPrgigg0IIEUm74VkCg+Y6PrAuigEALEki54VsBgeY7PrIuiAICLUgg5YZvBQSa7/jIuiAKCLQggZQbvhUQaL7jI+uCKCDQggRSbvhWQKD5jo+sC6KAQAsSSLnhWwGB5js+si6IAgItSCDlhm8FBJrv+Mi6IAoItCCBlBu+FRBovuMj64IoINCCBFJu+FZAoPmOj6wLooBACxJIueFbAYHmOz6yLogCAi1IIOWGbwUEmu/4yLogCgi0IIGUG74VEGi+4yPrgigg0IIEUm74VkCg+Y6PrAuigEALEki54VsBgeY7PrIuiAICLUgg5YZvBQSa7/jIuiAKCLQggZQbvhUQaL7jI+uCKCDQggRSbvhWQKD5jo+sC6KAQAsSSLnhWwGB5js+si6IAgItSCDlhm8FBJrv+Mi6IAoItCCBlBu+FRBovuMj64IoINCCBFJu+FZAoPmOj6wLooBACxJIueFbAYHmOz6yLogCAi1IIOWGbwUEmu/4yLogCgi0IIGUG74VEGi+4yPrgigg0IIEUm74VkCg+Y6PrAuigEALEki54VsBgeY7PrIuiAICLUgg5YZvBQSa7/jIuiAKCLQggZQbvhUQaIXx2bhxo61bt87Wr1//nyuXLFliS5cutUWLFhXeUdmnQQGBVhDln3/+2Z5//nl79tlnjX8DG+AB2XbbbWfHH3+8nXTSSbZy5cqCuyrrNCgg0AZE+Y8//rAPPvjAPvroI/vxxx9tq622soceesh22mknu+yyy+yII46wLbfcsnf133//be+//749+OCD9tJLL9nVV19tJ5xwQg9AJSmAAgKtrxxQSz333HN211132bJly2z//fe39957r9dcXLFihX377bd2+umn2yWXXGJbbLHFnFL0/fff28UXX9zLc/7559vixYtV0qSAQOsvA9RGb775pt1888129NFH28svv2xXXnmlPfzww70m4XfffWfXXXedffXVV/bII4/Y1ltvPacY/fnnn3buuefaeeedZ2effbaKmRQQaKkM0Ne65ZZb7J133unVZjQRaTKec845ds8999jBBx88W1z+/fdfu+OOO+yNN96we++9t7Zme+utt+yqq67qNTeXL1+uojblCqjpOFMA6I/R1Hvsscds11137f32vvvus1deecXuvPPOOaOJgAmE1FhnnXVWbTG6/fbb7Z9//rHrr79+youZ3BdoM2XgmmuusUMOOcQuvPDC3m82bNhgZ5xxht199922zz771JYUaj+ue/TRR3v9uf5EjUcz8/HHH1dJm3IFBJqZ/f7773bKKafYCy+8MFtzff3113bRRRfZk08+2VhEzjzzTLvxxhvt8MMPn5Nv7dq1duKJJ/amBDQoMt2kCTQz+/jjj+3yyy+3p59+erY00Me69dZb7YEHHmgsIYw+nnbaaT1Q6xKDIrfddpvttdde013Sptx7gWZmn3zySW9urArau+++azfccENvMKMpXXHFFXbccccZNVtduuCCC3p9tAMOOGDKi9p0uz8VoLEsiglnPpttttmciNN0pB/FcHxKDN+feuqpveH9pvTUU0/ZqlWrevNt/Yl+Hk1KJrHT5HbdvZijY9AEO/i3UjwFwoO288472y677FI7BN8UTgr8nnvuaS+++OLAwZC24sBgCcuymOTOSTxz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"},331:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var l=a(3),n=a.n(l),r=a(6),c=a(27),s=a(12),m=a(2),o=a(1),i=a.n(o),d=a(170),u=a(171),b=a(16),g=a.n(b),p=(a(28),a(18)),h=a(281),E=a(5),v=a(23),f=a(102),x=a.n(f),y=a(64),N=a(287);function A(e){var t=e.setShowMap,a=e.userAddresses,l=e.handleSelectAddress,n=Object(y.a)().formatMessage,r=i.a.useState(null),c=Object(m.a)(r,2),s=c[0],o=c[1],d={partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}};return i.a.createElement("div",{className:"min-h-full"},i.a.createElement("div",{className:" p-3 flex items-center justify-between bg-main-color text-main-text"},i.a.createElement("h1",{className:"text-lg"},n({id:"select-address-header"}))),i.a.createElement(E.b,null,i.a.createElement(E.c.div,{layout:!0,className:"p-3 locations-grid__desktop"},a.map((function(e){return i.a.createElement(E.c.div,{layout:!0,key:e.id,className:"rounded border relative  bg-body-light"},i.a.createElement(E.c.div,{layout:!0},i.a.createElement("div",{style:{minHeight:"150px",position:"relative"}},i.a.createElement(N.a,{height:150,width:200,lat:e.lat,lng:e.lng,alt:e.address_name}),i.a.createElement(E.c.div,{variants:d,initial:"partial",animate:s===e.id?"full":"partial",layout:!0,exit:"partial",onClick:function(){return t=e.id,void o(s===t?null:t);var t},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-50 bg-gray-800 hover:opacity-75"},i.a.createElement(v.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),i.a.createElement(E.a,null,s===e.id&&i.a.createElement(E.c.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-sm"},i.a.createElement("div",null,i.a.createElement("h1",null,n({id:"maps-detailed-address-apartment-short"}),":"),i.a.createElement("h1",null,e.apartment_house_number)),i.a.createElement("div",null,i.a.createElement("h1",null,n({id:"maps-detailed-address-building-short"}),":"),i.a.createElement("h1",null,e.building_tower_number)),i.a.createElement("div",null,i.a.createElement("h1",null,n({id:"maps-detailed-address-phone-short"}),":"),i.a.createElement("h1",null,e.phone_number)))))),i.a.createElement("div",{className:"p-2"},i.a.createElement("div",{className:"text-xs text-gray-600 font-semibold"},i.a.createElement("h1",null,e.address_name)),i.a.createElement("div",{className:"text-sm mb-2 font-semibold",style:{height:"65px"}},i.a.createElement("h1",null,e.marked_address||e.userTyped_addres),i.a.createElement("h1",null,e.addition_direction)),i.a.createElement("button",{onClick:function(){return l(e)},className:"w-full p-1 rounded uppercase bg-main-color text-main-text"},n({id:"select-btn"})))))})),i.a.createElement("button",{onClick:function(){return t(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text"},i.a.createElement(x.a,{background:!0}),i.a.createElement(v.q,{className:"h-8 w-8"})))))}function j(e){var t=e.handleSelectAddress,a=i.a.useState(!1),l=Object(m.a)(a,2),n=l[0],r=l[1],c=i.a.useContext(p.a),s=c.userAddresses;return c.userAddressesLoading?i.a.createElement("div",{className:"flex h-full justify-center items-center",style:{minHeight:"calc(100vh - 150px)"}},i.a.createElement(g.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})):i.a.createElement("div",{className:"h-full",style:{minHeight:"calc(100vh - 150px)"}},0!==s.length&&!n&&i.a.createElement(A,{userAddresses:s,setShowMap:r,handleSelectAddress:t}),(0===s.length||n)&&i.a.createElement("div",{className:"rounded-sm border"},i.a.createElement(h.a,{setShowMap:r})))}var C=a(70),k=a(21),Q=a(110),w=a.n(Q),O=a(111),D=a.n(O),B=a(115),S=a.n(B),I=a(112),F=a.n(I),V=a(7),U=a(34),z=a(4);function R(e){var t=e.handleStepBack,a=e.selectedAddress,l=e.paymentMethod,n=e.setPaymentMethod,r=e.handleCheckout,c=e.checkoutLoading,s=Object(y.a)(),m=s.formatMessage,o=s.locale,d=i.a.useContext(V.a).deliveryCountry,u=i.a.useContext(U.a),b=u.cartItems,p=u.cartSubtotal,h=u.cartTotal,E=u.shippingCost,v=u.couponCost,f=u.coupon,x=function(e){n(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"user-checkout-personal-info__container h-full rounded border"},i.a.createElement("div",{className:"font-semibold overflow-y-auto",style:{maxHeight:"calc(100vh - 190px)"}},i.a.createElement("div",{className:"border-b"},i.a.createElement("div",{className:"p-2 border-b"},i.a.createElement("h1",{className:" text-center",style:{fontWeight:900}},m({id:"order-receipt"}))),i.a.createElement("div",{className:"my-orders-items__table-desktop font-semibold text-center mb-1 py-2"},i.a.createElement("h1",null,"#"),i.a.createElement("h1",null,m({id:"the-item"})),i.a.createElement("h1",null,m({id:"quantity"})),i.a.createElement("h1",null,m({id:"price"})),i.a.createElement("h1",null,m({id:"total"}))),null===b||void 0===b?void 0:b.map((function(e,t){return i.a.createElement("div",{key:e.id,className:"my-orders-item-desktop text-sm text-center mb-1"},i.a.createElement("div",{className:""},i.a.createElement("h1",{className:""},t+1)),i.a.createElement(z.b,{to:"/".concat(o,"/products/").concat(e.slug,"/").concat(e.id),className:"hover:underline font-semibold truncate"},e["name_".concat(o)]),i.a.createElement("div",{className:""},i.a.createElement("h1",{className:""},e.qty)),i.a.createElement("div",{style:{fontWeight:900}},i.a.createElement("h1",{className:""},e.price," ",null===d||void 0===d?void 0:d.currency.translation[o].symbol)),i.a.createElement("div",{style:{fontWeight:900},className:"text-green-700"},i.a.createElement("h1",{className:""},e.total," ",null===d||void 0===d?void 0:d.currency.translation[o].symbol)))})),i.a.createElement("hr",{className:"my-1"}),i.a.createElement("div",{className:"my-orders-receipt-summary font-bold p-2"},i.a.createElement("h1",null,m({id:"cart-total"})),i.a.createElement("h1",{className:"text-center"},p,i.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[o].symbol)),i.a.createElement("h1",null,m({id:"cart-delivery-cost"})),i.a.createElement("h1",{className:" text-center"},"0"===E?m({id:"cart-free"}):E,i.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[o].symbol)),f&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{className:""},m({id:"coupon-sale"})),i.a.createElement("h1",{className:"text-center text-green-700"},v,i.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[o].symbol))),i.a.createElement("h1",{className:"text-green-700 text-xl font-bold mt-3"},m({id:"subtotal"})),i.a.createElement("h1",{className:"text-green-700 text-center text-xl font-bold mt-3"},h," ",null===d||void 0===d?void 0:d.currency.translation[o].symbol))),i.a.createElement("div",{className:""},i.a.createElement("div",{className:"p-2 border-b"},i.a.createElement("h1",{style:{fontWeight:900},className:"text-center"},m({id:"delivery-address"}))),i.a.createElement("div",{className:" p-2",style:{display:"grid",gridTemplateColumns:"1fr 0.4fr"}},i.a.createElement("div",null,i.a.createElement("div",{className:"mb-2 text-center"},i.a.createElement("h1",{className:" text-gray-700"},m({id:"delivery-location"})," "),i.a.createElement("h1",null,null===a||void 0===a?void 0:a.marked_address)),i.a.createElement("div",{className:" mb-2 text-center"},i.a.createElement("div",null,i.a.createElement("h1",{className:" text-gray-700"},m({id:"maps-detailed-address-apartment"})," "),i.a.createElement("h1",null,null===a||void 0===a?void 0:a.apartment_house_number)),i.a.createElement("div",null,i.a.createElement("h1",{className:"font-semibold text-gray-700"},m({id:"maps-detailed-address-building"})," "),i.a.createElement("h1",null,null===a||void 0===a?void 0:a.building_tower_number))),i.a.createElement("div",{className:"text-center"},i.a.createElement("div",null,i.a.createElement("h1",{className:"font-semibold text-gray-700"},m({id:"maps-details-extra-details"})," ",":"," "),i.a.createElement("h1",{className:""},(null===a||void 0===a?void 0:a.addition_direction)||m({id:"none"}))))),(null===a||void 0===a?void 0:a.lat)&&i.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(a.lat,",").concat(a.lng,"&zoom=15&size=200x200&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"),alt:"map",className:"self-start"})))),i.a.createElement("div",{className:"font-semibold border-l"},i.a.createElement("div",{className:" mb-4 relative  "},i.a.createElement("div",{className:"p-2 border-b"},i.a.createElement("h1",{className:"text-center"},m({id:"select-payment-method"}))),i.a.createElement("div",{className:"p-2"},i.a.createElement("div",{className:"flex flex-col "},function(){var e=[];if(d)return d.payment.forEach((function(t){if(0===t.status)return null;"knet"===t.key&&e.push(i.a.createElement("button",{key:t.key,onClick:function(){return x(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},i.a.createElement("img",{src:w.a,alt:t.key}),i.a.createElement("div",{className:"flex-1 mx-3 text-left"},m({id:t.key})),i.a.createElement("div",null,l===t.key?i.a.createElement(k.j,{className:"w-6 h-6 text-btn-secondary-light"}):i.a.createElement(k.i,{className:"w-6 h-6 text-btn-primary-light"})))),"credit"===t.key&&e.push(i.a.createElement("button",{key:t.key,onClick:function(){return x(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},i.a.createElement("img",{src:D.a,alt:t.key}),i.a.createElement("div",{className:"flex-1 mx-3 text-left"},m({id:t.key})),i.a.createElement("div",null,l===t.key?i.a.createElement(k.j,{className:"w-6 h-6 text-btn-secondary-light"}):i.a.createElement(k.i,{className:"w-6 h-6 text-btn-primary-light"})))),"amex"===t.key&&e.push(i.a.createElement("button",{key:t.key,onClick:function(){return x(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},i.a.createElement("img",{src:F.a,alt:t.key}),i.a.createElement("div",{className:"flex-1 mx-3 text-left"},m({id:t.key})),i.a.createElement("div",null,l===t.key?i.a.createElement(k.j,{className:"w-6 h-6 text-btn-secondary-light"}):i.a.createElement(k.i,{className:"w-6 h-6 text-btn-primary-light"})))),"cod"===t.key&&e.push(i.a.createElement("button",{key:t.key,onClick:function(){return x(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},i.a.createElement("img",{src:S.a,alt:t.key}),i.a.createElement("div",{className:"flex-1 mx-3 text-left"},m({id:"cash-on-delivery"})),i.a.createElement("div",null,l===t.key?i.a.createElement(k.j,{className:"w-6 h-6 text-main-text"}):i.a.createElement(k.i,{className:"w-6 h-6 text-main-color"}))))})),e}()))))),i.a.createElement("div",{className:"flex justify-end items-center p-3"},i.a.createElement("button",{className:"px-3 py-1 uppercase bg-main-color text-main-text rounded font-semibold",onClick:t},m({id:"btn-back-to-addresses"})),i.a.createElement("button",{disabled:!l,className:"\n              ".concat(l?"bg-main-color text-main-text":"bg-gray-600 text-gray-100","\n             flex items-center justify-center uppercase px-3 py-1 mx-3  rounded font-semibold"),onClick:r},c?i.a.createElement(g.a,{type:"ThreeDots",color:"#fff",height:24,width:24,visible:!0}):m({id:"btn-proceed"}))))}var P=a(13),M=a(17),H=a(43);function L(){var e=Object(P.b)(M.i,{throwOnError:!0}),t=Object(m.a)(e,2),a=t[0],l=t[1].isLoading,o=i.a.useContext(U.a),b=o.cartItems,p=o.cartItemsLoading,h=o.coupon,E=i.a.useContext(V.a).deliveryCountry,v=i.a.useState(0),f=Object(m.a)(v,2),x=f[0],N=f[1],A=i.a.useState(null),k=Object(m.a)(A,2),Q=k[0],w=k[1],O=i.a.useState(null),D=Object(m.a)(O,2),B=D[0],S=D[1],I=i.a.useState(!1),F=Object(m.a)(I,2),z=F[0],L=F[1],Z=i.a.useState(""),q=Object(m.a)(Z,2),K=q[0],W=q[1],Y=Object(y.a)().formatMessage,T=i.a.useState({0:!1,1:!1,2:!1}),X=Object(m.a)(T,2),G=X[0],J=X[1],_=function(){N(x+1),J(Object(s.a)(Object(s.a)({},G),{},Object(c.a)({},x,!0)))},$=function(){var e=Object(r.a)(n.a.mark((function e(){var t,l,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={address:Q.id,payment_method:B,order_type:"Kuwait"===(null===E||void 0===E?void 0:E.translation.en.name)?"local":"international"},e.prev=1,e.next=4,a({deliveryCountry:E,order:t,coupon:h});case 4:l=e.sent,J(Object(s.a)(Object(s.a)({},G),{},{1:!0})),"cod"===B?N(2):window.location.href=l.payment,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),L(!0),"Coupon already used by this customer."!==(null===(r=e.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)){e.next=14;break}return e.abrupt("return",W(Y({id:"coupon-limit-reached"})));case 14:W(Y({id:"something-went-wrong-snackbar"}));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return i.a.useEffect((function(){window.scrollTo(0,0)}),[x]),p?i.a.createElement("div",{className:"flex items-center justify-center min-h-screen"},i.a.createElement(g.a,{type:"ThreeDots",color:"#b72b2b",height:50,width:50,visible:!0})):p||0!==b.length?i.a.createElement(C.a,null,i.a.createElement("div",{className:"xxl:max-w-default md:max-w-screen-xl mx-auto"},z&&i.a.createElement(H.a,{message:K,closeFunction:function(){L(!1)}}),i.a.createElement(u.a,{selectedStep:x,stepDone:G}),i.a.createElement("div",{className:"mb-3",style:{minHeight:"calc(100vh - 150px)"}},0===x&&i.a.createElement(j,{handleSelectAddress:function(e){w(e),_()}}),1===x&&i.a.createElement(R,{handleStepBack:function(){0!==x&&(N(x-1),J(Object(s.a)(Object(s.a)({},G),{},Object(c.a)({},x-1,!1))))},selectedAddress:Q,paymentMethod:B,setPaymentMethod:S,handleCheckout:$,checkoutLoading:l}),2===x&&i.a.createElement(d.a,null)))):i.a.createElement(C.a,null,i.a.createElement("div",{className:"flex items-center justify-center mx-auto text-center",style:{height:"calc(100vh - 56px)",maxWidth:"600px"}},i.a.createElement("h1",{className:"text-2xl font-semibold"},Y({id:"checkout-cart-empty"}))))}}}]);
//# sourceMappingURL=16.491c137a.chunk.js.map