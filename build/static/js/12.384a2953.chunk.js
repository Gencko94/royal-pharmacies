(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[12],{456:function(e,t,n){"use strict";t.a=n.p+"static/media/cartEmpty.4e6c2887.png"},457:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(2),c=n.n(a),r=n(78),i=n(8),s=n(29),l=n(456),o=n(115),d=n(144),u=n(39),b=n(10),j=n(4),x=n.n(j),h=n(9),m=n(6),f=n(18),g=n(17),v=n.n(g),p=(n(37),n(62)),y=n(1);function O(e){var t=e.item,n=e.setSideMenuOpen,a=c.a.useContext(u.a),s=a.removeFromCartMutation,l=a.removeFromGuestCartMutation,d=a.coupon,j=c.a.useContext(b.a).deliveryCountry,g=Object(r.a)(),O=g.formatMessage,N=g.locale,w=c.a.useState(!1),C=Object(m.a)(w,2),P=C[0],k=C[1],B=c.a.useContext(f.a).userId,S=function(){var e=Object(h.a)(x.a.mark((function e(){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),e.prev=1,!B){e.next=10;break}return n=t.id,a=t.cart_id,e.next=7,s({id:n,cart_id:a,userId:B,deliveryCountry:j,coupon:d});case 7:k(!1),e.next=14;break;case 10:return c=t.options.sku,e.next=13,l({sku:c,deliveryCountry:j,coupon:d});case 13:k(!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),k(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),L={hidden:{x:"".concat("ar"===N?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return Object(y.jsxs)(o.a.div,{initial:"hidden",animate:"visible",exit:"exited",variants:L,className:" side-cart-menu__item mb-2 ",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)(i.b,{title:"".concat(t["name_".concat(N)]),to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)(p.a,{src:t.image,origin:"original",alt:t["name_".concat(N)],pb:"calc(100% * 210/210)"})})}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(i.b,{title:"".concat(t["name_".concat(N)]),className:"hover:underline",to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)("h1",{className:"font-semibold text-clamp-2 text-sm uppercase ",children:"".concat(t["name_".concat(N)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(y.jsxs)("div",{className:"flex items-center text-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("h1",{className:"text-xs font-semibold",children:O({id:"price"})}),Object(y.jsxs)("h1",{className:"text-xs font-bold mx-1",children:[t.total," ",null===j||void 0===j?void 0:j.currency.translation[N].symbol]})]}),Object(y.jsxs)("div",{className:"flex items-center text-xs mx-2",children:[Object(y.jsxs)("h1",{className:"font-semibold",children:[O({id:"qty"})," :"]}),Object(y.jsx)("h1",{className:"mx-1 font-bold",children:t.qty})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"\n                bg-main-color text-main-text\n            text-xs rounded p-1 my-1 flex uppercase items-center font-semibold justify-center ",style:{width:"140px"},onClick:S,children:P?Object(y.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):O({id:"remove-from-cart"})})})]})]})}function N(e){var t=e.setSideMenuOpen,n=c.a.useContext(u.a),a=n.sideCartItems,j=n.sideCartSubTotal,x=n.sideCartCouponCost,h=c.a.useContext(b.a).deliveryCountry,m=Object(r.a)(),f=m.formatMessage,g=m.locale,v={hidden:{x:"".concat("ar"===g?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween"}},exited:{x:"".concat("ar"===g?"-100%":"100%"),transition:{when:"afterChildren"}}};return Object(y.jsx)(o.a.div,{variants:v,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===g?"left-0":"right-0"),children:Object(y.jsxs)("div",{className:" bg-body-light p-2 h-full flex flex-col ",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("h1",{className:"font-semibold",children:f({id:"shopping-cart"})}),Object(y.jsx)("button",{onClick:function(){return t(!1)},children:Object(y.jsx)(s.b,{className:"w-5 h-5 "})})]}),Object(y.jsx)("hr",{className:"my-2"}),0===(null===a||void 0===a?void 0:a.length)&&Object(y.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(y.jsx)("img",{src:l.a,alt:"Empty cart"}),Object(y.jsx)("h1",{className:"font-bold mb-2",children:f({id:"cart-empty"})}),Object(y.jsx)(i.b,{to:"/".concat(g),className:"text-sm text-blue-600 hover:underline",children:f({id:"check-today-deals"})})]}),a.length>0&&Object(y.jsx)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden",children:Object(y.jsx)(d.a,{children:a.map((function(e){return Object(y.jsx)(O,{item:e,setSideMenuOpen:t},e.options.sku)}))})}),Object(y.jsx)("hr",{className:"my-1"}),a.length>0&&Object(y.jsxs)("div",{children:["0.000"!==x&&Object(y.jsxs)("div",{className:"flex text-green-700 justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold ",children:f({id:"coupon-sale"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[x," ",null===h||void 0===h?void 0:h.currency.translation[g].symbol]})]}),Object(y.jsxs)("div",{className:"flex justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold",children:f({id:"subtotal"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[j," ",null===h||void 0===h?void 0:h.currency.translation[g].symbol]})]}),Object(y.jsx)("hr",{className:"my-1"}),Object(y.jsx)("div",{className:" flex items-center my-2 text-center text-main-text ",children:Object(y.jsx)(i.b,{to:"/".concat(g,"/cart"),className:"flex-1 py-2 px-3 border font-semibold border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded",children:f({id:"go-to-cart"})})})]})]})})}},470:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(2);var a=n(79),c=n.n(a),r=n(50),i=n.p+"static/media/DesktopBannerPlaceholder.800789ab.png",s=n.p+"static/media/MobileBannerPlaceholder.2796699e.png",l=n(1);function o(e){var t=e.src,n=e.pb,a=e.alt,o=e.origin,d=Object(r.useMediaQuery)({query:"(min-width:768px)"});return Object(l.jsx)("div",{style:{position:"relative",backgroundColor:"#fff",paddingBottom:n,width:"100%",borderRadius:!d&&"12px",overflow:"hidden"},children:Object(l.jsx)(c.a,{offset:400,placeholder:Object(l.jsx)("img",{src:d?i:s,alt:a}),className:"max-h-full",children:Object(l.jsx)("img",{src:t?"".concat("https://admin.royal-online.co/storage","/").concat(o||"original","/").concat(t):d?i:s,alt:a,style:{maxHeight:"100%",maxWidth:"100%",display:"block",left:0,right:0},className:"mx-auto my-0 absolute"})})})}},480:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(115),c=n(2),r=n.n(c),i=n(104),s=n(78),l=n(10),o=n(1);function d(e){var t=e.productsLoading,n=e.categoryInfoLoading,c=e.setSelectedPrice,d=e.selectedPrice,u=Object(s.a)(),b=u.locale,j=u.formatMessage,x=r.a.useContext(l.a).deliveryCountry,h=r.a.useMemo((function(){return[1,5,10,20,50,100]}),[]);return n||t?Object(o.jsx)("div",{className:"py-2",children:Object(o.jsxs)(i.a,{speed:2,viewBox:"0 0 300 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(o.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"30"}),Object(o.jsx)("rect",{x:"0",y:"40",rx:"5",ry:"5",width:"100%",height:"15"}),Object(o.jsx)("rect",{x:"0",y:"65",rx:"5",ry:"5",width:"100%",height:"15"}),Object(o.jsx)("rect",{x:"0",y:"90",rx:"5",ry:"5",width:"100%",height:"15"}),Object(o.jsx)("rect",{x:"0",y:"115",rx:"5",ry:"5",width:"100%",height:"15"})]})}):Object(o.jsxs)(a.a.div,{layout:!0,className:"mb-4",children:[Object(o.jsx)("h1",{className:"text-lg font-bold py-2",children:j({id:"filter-by-price"})}),Object(o.jsx)("hr",{}),h.map((function(e){var t=d===e;return Object(o.jsxs)("div",{className:"flex items-center my-1 text-lg",children:[Object(o.jsx)("input",{id:e,type:"radio",className:"border-gray-600 text-main-color",onChange:function(){c(e)},checked:!!t}),Object(o.jsx)("label",{htmlFor:e,className:" mx-5",children:"".concat(j({id:"less-than"})," ").concat(e," ").concat(null===x||void 0===x?void 0:x.currency.translation[b].symbol)})]},e)}))]})}},504:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var a=n(6),c=n(2),r=n.n(c),i=n(200),s=n(78),l=n(10),o=n(52),d=n(104),u=n(1);function b(e){var t=e.brands,n=e.categoryInfoLoading,a=e.productsLoading,c=e.selectedBrands,r=e.setSelectedBrands,i=Object(s.a)(),l=i.formatMessage,b=i.locale;return n||a?Object(u.jsx)("div",{className:"py-2",children:Object(u.jsxs)(d.a,{speed:2,viewBox:"0 0 300 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(u.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"30"}),Object(u.jsx)("rect",{x:"0",y:"40",rx:"5",ry:"5",width:"100%",height:"15"}),Object(u.jsx)("rect",{x:"0",y:"65",rx:"5",ry:"5",width:"100%",height:"15"}),Object(u.jsx)("rect",{x:"0",y:"90",rx:"5",ry:"5",width:"100%",height:"15"}),Object(u.jsx)("rect",{x:"0",y:"115",rx:"5",ry:"5",width:"100%",height:"15"})]})}):0!==(null===t||void 0===t?void 0:t.length)&&t?Object(u.jsxs)("div",{className:"mb-4 px-2",children:[Object(u.jsx)("h1",{className:"text-lg py-2 font-bold",children:l({id:"filter-by-brand"})}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"flex flex-col justify-center",style:{maxHeight:"300px",overflow:"auto"},children:null===t||void 0===t?void 0:t.map((function(e){var t=c.find((function(t){return t.id===e.id}));return Object(u.jsxs)("div",{className:"flex items-center my-2",children:[Object(u.jsx)("input",{id:e.id,type:"checkbox",className:"form-checkbox border-gray-600 text-main-color",onChange:function(){return function(e){var t=c.find((function(t){return t.id===e.id}));r(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Object(o.a)(t),[e])})}({id:e.id,label:e.translation[b].name})},checked:!!t}),Object(u.jsx)("label",{htmlFor:e.id,className:"hover:underline text-sm hover:text-blue-700 cursor-pointer font-semibold  mx-5",children:e.translation[b].name})]},e.id)}))})]}):null}var j=n(480);function x(e){var t=e.categoryInfoLoading,n=e.brandFilters,c=e.priceFilters,i=e.productsLoading,o=e.products,d=e.brands,x=e.handleSubmitFilters,h=e.offers,m=r.a.useContext(l.a),f=m.deliveryCountriesLoading,g=m.deliveryCountriesIdle,v=Object(s.a)().formatMessage,p=r.a.useState((function(){return n.length>0?n:[]})),y=Object(a.a)(p,2),O=y[0],N=y[1],w=r.a.useState((function(){return c||null})),C=Object(a.a)(w,2),P=C[0],k=C[1];return r.a.useEffect((function(){N((function(){return n.length>0?n:[]})),k((function(){return c||null}))}),[c,n]),Object(u.jsxs)("div",{className:"self-start sticky top-0",children:[0===(null===o||void 0===o?void 0:o.length)&&"t"!==h&&Object(u.jsx)(b,{brands:d,categoryInfoLoading:t,productsLoading:i,setSelectedBrands:N,selectedBrands:O}),Object(u.jsx)(j.a,{productsLoading:i,productsLength:null===o||void 0===o?void 0:o.length,categoryInfoLoading:t,setSelectedPrice:k,selectedPrice:P}),!i&&!g&&!f&&!t&&o.length>0&&Object(u.jsx)("div",{className:"p-2",children:Object(u.jsx)("button",{disabled:!P&&0===O.length,className:"p-2 uppercase bg-green-700 text-main-text rounded w-full",onClick:function(){x(P,O)},children:v({id:"submit"})})})]})}var h=n(452),m=n(115),f=n(204),g=n(202),v=n(5),p=n(69);function y(e){var t=e.sortBy,n=e.resultsPerPage,a=e.handleSortByChange,c=e.handleResultPerPageChange,i=e.category,l=Object(s.a)(),o=l.formatMessage,d=l.locale,b=r.a.useMemo((function(){return[{value:"newest",label:o({id:"Newest"})},{label:o({id:"Price (Low to High)"}),value:"price-asc"},{label:o({id:"Price (High to Low)"}),value:"price-desc"}]}),[o]),j=r.a.useMemo((function(){return[{label:20,value:20},{label:30,value:30}]}),[]);return Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-2 gap-2 mb-2 md:flex md:justify-end py-2",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("h1",{children:o({id:"number-per-page"})}),Object(u.jsx)(p.a,{isSearchable:!1,options:j,value:n,onChange:c,className:"mx-2",styles:{valueContainer:function(e){return Object(v.a)(Object(v.a)({},e),{},{paddingRight:"ar"===d?e.paddingRight:"2rem",paddingLeft:"ar"===d?"2rem":e.paddingLeft})}}})]}),!["best-seller","latest-products"].includes(i)&&Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("h1",{children:o({id:"sort-by"})}),Object(u.jsx)(p.a,{isSearchable:!1,options:b,value:t,onChange:a,className:"mx-2",styles:{valueContainer:function(e){return Object(v.a)(Object(v.a)({},e),{},{paddingRight:"ar"===d?e.paddingRight:"7rem",paddingLeft:"ar"===d?"7rem":e.paddingLeft})}}})]})]})}var O=n(203);function N(e){var t,n,a=e.data,c=e.productsLoading,i=e.resultsPerPage,o=e.sortBy,b=e.handleRemoveFilters,j=e.handleSortByChange,x=e.filters,v=e.setCartMenuOpen,p=e.handleResultPerPageChange,N=e.offers,w=e.category,C=Object(s.a)().formatMessage,P=r.a.useContext(l.a);P.deliveryCountriesLoading,P.deliveryCountriesIdle;return Object(u.jsxs)("div",{className:"h-full relative",children:[x.length>0||(null===a||void 0===a||null===(t=a.pages[0].products)||void 0===t?void 0:t.length)>0?Object(u.jsx)(y,{category:w,sortBy:o,resultsPerPage:i,handleSortByChange:j,handleResultPerPageChange:p}):c&&Object(u.jsx)(d.a,{speed:2,viewBox:"0 0 752 38",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(u.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"38"})}),Object(u.jsx)(h.a,{children:Object(u.jsx)(m.a.div,{layout:!0,className:"flex items-center",children:0!==x.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m.a.h1,{layout:!0,className:"text-lg font-semibold",children:C({id:"filtered-by"})}),Object(u.jsx)(m.a.div,{layout:!0,className:"mx-1 flex items-center",children:x.map((function(e){return Object(u.jsxs)(m.a.button,{layout:!0,className:"mx-1 py-1 px-2 bg-main-color text-main-text rounded-full whitespace-no-wrap",onClick:function(){return b(e)},children:[C({id:e.type})," : ",e.value]},e.value)}))})]})})}),c&&Object(u.jsx)("div",{className:"category-page-items__grid py-2",style:{minHeight:"calc(100vh - 150px)"},children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19].map((function(e){return Object(u.jsx)(f.a,{},e)}))}),(null===a||void 0===a||null===(n=a.pages[0].products)||void 0===n?void 0:n.length)>0&&!c&&Object(u.jsx)("div",{className:"category-page-items__grid py-2 min-h-full relative",style:{minHeight:"calc(100vh - 150px)"},children:null===a||void 0===a?void 0:a.pages.map((function(e,t){return Object(u.jsx)(r.a.Fragment,{children:null===e||void 0===e?void 0:e.products.map((function(e){return"variation"===e.type&&Object.keys(e.new_variation_addons).length>0?Object(u.jsx)(O.a,{setCartMenuOpen:v,item:e},e.id):Object(u.jsx)(g.a,{setCartMenuOpen:v,item:e},e.id)}))},t)}))}),0===(null===a||void 0===a?void 0:a.pages[0].products.length)&&"t"!==N&&Object(u.jsx)("div",{className:"p-6 flex flex-col items-center justify-center text-xl h-64",children:C({id:"no-products"})})]})}var w=n(95),C=n(454),P=n(94),k=n(40),B=n(19),S=n(8),L=n(451),M=n(447),_=(n(201),n(62));function F(e){var t,n=e.categoryInfo,a=Object(s.a)(),c=a.locale,r=a.formatMessage,i=Object(k.i)().category;return Object(u.jsx)("div",{children:Object(u.jsxs)(L.a,{id:"main",className:"my-3",breakpoints:{640:{slidesPerView:4,spaceBetween:20},860:{slidesPerView:4,spaceBetween:20},1100:{slidesPerView:8.25,spaceBetween:20},1440:{slidesPerView:7,spaceBetween:20}},children:[(null===n||void 0===n?void 0:n.children.length)>0&&Object(u.jsxs)(M.a,{className:"overflow-hidden  rounded-lg m-2  relative",children:[Object(u.jsx)(S.c,{activeClassName:"border-l-8  border-main-color",isActive:function(){if(i===(null===n||void 0===n?void 0:n.slug))return!0},to:"/".concat(c,"/category/").concat(null===n||void 0===n?void 0:n.slug,"/").concat(null===n||void 0===n?void 0:n.id),className:"block rounded-lg overflow-hidden shadow-lg m-2",children:Object(u.jsx)(_.a,{src:null===n||void 0===n||null===(t=n.title[c].image)||void 0===t?void 0:t.link,alt:null===n||void 0===n?void 0:n.title[c].name,pb:"calc(100% * 210/210)",origin:"original"})}),Object(u.jsx)("h1",{className:"text-center mt-4 text-lg font-semibold",children:r({id:"all"})})]},"first"),function(){var e;return(null===n||void 0===n?void 0:n.children.length)>0?n.children:(null===n||void 0===n||null===(e=n.parentChildren)||void 0===e?void 0:e.length)>0?null===n||void 0===n?void 0:n.parentChildren:[]}().map((function(e){var t;return Object(u.jsxs)(M.a,{className:"overflow-hidden  rounded-lg m-2  relative \n             \n            ",children:[Object(u.jsx)(S.c,{activeClassName:"border-l-8  border-main-color",isActive:function(){if(i===(null===e||void 0===e?void 0:e.slug))return!0},to:"/".concat(c,"/category/").concat(e.slug,"/").concat(e.id),className:"block rounded-lg overflow-hidden shadow-lg m-2",replace:0===(null===n||void 0===n?void 0:n.children.length),children:Object(u.jsx)(_.a,{src:null===(t=e.translation[c].image)||void 0===t?void 0:t.link,alt:e.translation[c].name,pb:"calc(100% * 210/210)",origin:"original"})}),Object(u.jsx)("h1",{className:"text-center mt-4 text-lg font-semibold",children:e.translation[c].name})]},e.id)}))]})})}var I=n(470);function R(e){var t=e.categoryInfo,n=e.categoryInfoLoading,a=e.offers,c=Object(s.a)(),r=c.locale,i=c.formatMessage;return n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.a,{speed:4,viewBox:"0 0 1440 300",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(u.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"300"})}),Object(u.jsx)(L.a,{id:"main",slidesPerView:7,spaceBetween:15,className:"my-3",breakpoints:{320:{slidesPerView:2,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},860:{slidesPerView:5,spaceBetween:20},1100:{slidesPerView:6,spaceBetween:20},1440:{slidesPerView:7,spaceBetween:20}},children:[0,1,2,3,4,5,6].map((function(e){return Object(u.jsx)(M.a,{className:"my-2",children:Object(u.jsx)(d.a,{speed:4,viewBox:"0 0   171 258.36",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(u.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"258.36"})})},e)}))})]}):Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(I.a,{src:t.title[r].landscape,origin:"original",alt:null===t||void 0===t?void 0:t.title[r].name,pb:"calc(100% * 300/1440)"}),Object(u.jsxs)("div",{className:"mt-2",children:[Object(u.jsx)("h1",{className:"text-4xl font-bold text-center ",children:null===t||void 0===t?void 0:t.title[r].name}),a&&Object(u.jsx)("h1",{className:"text-2xl font-bold text-center ",children:i({id:"offers"})})]}),!a&&Object(u.jsx)(F,{categoryInfo:t})]})}var V=n(144),H=n(457),E=n(178),D=n(17),q=n.n(D);n(37);function T(){var e=Object(k.g)(),t=Object(k.i)(),n=t.category,c=t.id,o=r.a.useContext(l.a),d=o.deliveryCountry,b=o.settings,j=Object(s.a)(),h=j.locale,f=j.formatMessage,g=r.a.useState([]),v=Object(a.a)(g,2),p=v[0],y=v[1],O=Object(k.h)(),S=new URLSearchParams(O.search).get("offers"),L=r.a.useState({value:"newest",label:f({id:"Newest"})}),M=Object(a.a)(L,2),_=M[0],F=M[1],I=r.a.useState({label:20,value:20}),D=Object(a.a)(I,2),T=D[0],A=D[1],J=r.a.useState(null),G=Object(a.a)(J,2),Q=G[0],U=G[1],W=r.a.useState((function(){return[]})),z=Object(a.a)(W,2),K=z[0],X=z[1],Y=r.a.useState(!1),Z=Object(a.a)(Y,2),$=Z[0],ee=Z[1],te=Object(C.a)(["category-products",{resultsPerPage:T,id:c,brandFilters:p,priceFilters:Q,sortBy:_,offers:"t"===S}],(function(e){var t=e.pageParam;return Object(B.p)({resultsPerPage:T,id:c,brandFilters:p,priceFilters:Q,sortBy:_,offers:"t"===S,pageParam:t})}),{retry:!0,getNextPageParam:function(e){return e.currentPage<e.lastPage?e.currentPage+1:void 0}}),ne=te.data,ae=te.isLoading,ce=te.error,re=te.hasNextPage,ie=te.fetchNextPage,se=te.isFetchingNextPage,le=Object(P.a)(["categoryInfo",n],(function(){return Object(B.y)(n)}),{retry:!0,keepPreviousData:!0}),oe=le.data,de=le.isLoading;return ce&&"Category not founded"===ce.response.data.message?Object(u.jsx)(k.a,{to:"/".concat(h,"/page/404")}):Object(u.jsxs)(w.a,{children:[Object(u.jsx)(i.a,{children:Object(u.jsx)("title",{children:oe?"".concat(f({id:"shop"})," ").concat(null===oe||void 0===oe?void 0:oe.title[h].name):null===b||void 0===b?void 0:b.store_name_en})}),Object(u.jsxs)(V.a,{children:[$&&Object(u.jsx)(H.a,{setSideMenuOpen:ee},"side-cart"),$&&Object(u.jsx)(m.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return ee(!1)},className:"side__addCart-bg"},"sidecart-bg")]}),Object(u.jsxs)("div",{className:"max-w-default mx-auto p-4 overflow-hidden",style:{minHeight:"calc(100vh - 150px)"},children:[Object(u.jsx)(R,{categoryInfo:oe,categoryInfoLoading:de,offers:S}),Object(u.jsxs)("div",{className:"search-page__container",children:[Object(u.jsx)(x,{categoryInfoLoading:de,products:null===ne||void 0===ne?void 0:ne.pages[0].products,offers:S,productsLoading:ae,brandFilters:p,setBrandFilters:y,priceFilters:Q,brands:null===oe||void 0===oe?void 0:oe.brands,handleSubmitFilters:function(e,t){y(t),U(e),Object(E.b)(window,{top:600,behavior:"smooth"}),X((function(){if(e&&!t.length>0)return[{type:"Price",value:"".concat(f({id:"less-than"})," ").concat(e," ").concat(null===d||void 0===d?void 0:d.currency.translation[h].symbol)}];if(!e&&t.length>0){var n=[];return t.forEach((function(e){return n.push({type:"Brand",value:e.label})})),[].concat(n)}var a={type:"Price",value:"".concat(f({id:"less-than"})," ").concat(e," ").concat(null===d||void 0===d?void 0:d.currency.translation[h].symbol)},c=[];return t.forEach((function(e){return c.push({type:"Brand",value:e.label})})),[a].concat(c)}))}}),Object(u.jsx)(N,{data:ne,productsLoading:ae,sortBy:_,setResultsPerPage:A,filters:K,handleRemoveFilters:function(e){X((function(t){return t.filter((function(t){return t.value!==e.value}))})),"Brand"===e.type&&y((function(t){return t.filter((function(t){return t.label!==e.value}))})),"Sort"===e.type&&F({value:"newest",label:f({id:"Newest"})}),"Price"===e.type&&U(null)},handleSortByChange:function(e){if("newest"===e.value)return X((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void F(e);X((function(t){var n=t.filter((function(e){return"Sort"!==e.type}));return n.push({type:"Sort",value:e.label}),n})),F(e)},setCartMenuOpen:ee,resultsPerPage:T,handleResultPerPageChange:function(e){A(e)},category:n,offers:S})]}),ne&&re&&Object(u.jsx)("div",{className:"flex my-2 justify-center",children:Object(u.jsx)("button",{className:"p-2 w-40 text-lg font-semibold flex items-center justify-center rounded bg-main-color text-main-text",onClick:function(){ie()},children:se?Object(u.jsx)(q.a,{type:"ThreeDots",color:"#fff",height:27,width:27,visible:!0}):f({id:"show-more"})})}),0===(null===ne||void 0===ne?void 0:ne.pages[0].products.length)&&"t"===S&&Object(u.jsxs)("div",{className:"p-6 flex flex-col items-center justify-center  h-full",children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-center",children:f({id:"no-offers"})}),Object(u.jsx)("h1",{className:"text-xl text-center",children:f({id:"comeback-later"})}),Object(u.jsx)("button",{onClick:function(){return e.push("/".concat(h,"/category/").concat(n,"/").concat(c))},className:"p-2 bg-main-color mt-2 text-main-text rounded text-lg ",children:f({id:"go-to-products"})})]})]})]})}}}]);
//# sourceMappingURL=12.384a2953.chunk.js.map