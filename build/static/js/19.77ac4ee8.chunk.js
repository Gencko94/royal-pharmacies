(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[19],{456:function(e,t,n){"use strict";t.a=n.p+"static/media/cartEmpty.4e6c2887.png"},457:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(2),c=n.n(a),s=n(78),i=n(8),o=n(29),r=n(456),l=n(115),d=n(144),m=n(39),u=n(10),x=n(4),j=n.n(x),b=n(9),h=n(6),p=n(18),v=n(17),f=n.n(v),O=(n(37),n(62)),y=n(1);function g(e){var t=e.item,n=e.setSideMenuOpen,a=c.a.useContext(m.a),o=a.removeFromCartMutation,r=a.removeFromGuestCartMutation,d=a.coupon,x=c.a.useContext(u.a).deliveryCountry,v=Object(s.a)(),g=v.formatMessage,N=v.locale,C=c.a.useState(!1),_=Object(h.a)(C,2),w=_[0],k=_[1],M=c.a.useContext(p.a).userId,P=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),e.prev=1,!M){e.next=10;break}return n=t.id,a=t.cart_id,e.next=7,o({id:n,cart_id:a,userId:M,deliveryCountry:x,coupon:d});case 7:k(!1),e.next=14;break;case 10:return c=t.options.sku,e.next=13,r({sku:c,deliveryCountry:x,coupon:d});case 13:k(!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),k(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),S={hidden:{x:"".concat("ar"===N?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return Object(y.jsxs)(l.a.div,{initial:"hidden",animate:"visible",exit:"exited",variants:S,className:" side-cart-menu__item mb-2 ",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)(i.b,{title:"".concat(t["name_".concat(N)]),to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)(O.a,{src:t.image,origin:"original",alt:t["name_".concat(N)],pb:"calc(100% * 210/210)"})})}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(i.b,{title:"".concat(t["name_".concat(N)]),className:"hover:underline",to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)("h1",{className:"font-semibold text-clamp-2 text-sm uppercase ",children:"".concat(t["name_".concat(N)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(y.jsxs)("div",{className:"flex items-center text-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("h1",{className:"text-xs font-semibold",children:g({id:"price"})}),Object(y.jsxs)("h1",{className:"text-xs font-bold mx-1",children:[t.total," ",null===x||void 0===x?void 0:x.currency.translation[N].symbol]})]}),Object(y.jsxs)("div",{className:"flex items-center text-xs mx-2",children:[Object(y.jsxs)("h1",{className:"font-semibold",children:[g({id:"qty"})," :"]}),Object(y.jsx)("h1",{className:"mx-1 font-bold",children:t.qty})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"\n                bg-main-color text-main-text\n            text-xs rounded p-1 my-1 flex uppercase items-center font-semibold justify-center ",style:{width:"140px"},onClick:P,children:w?Object(y.jsx)(f.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):g({id:"remove-from-cart"})})})]})]})}function N(e){var t=e.setSideMenuOpen,n=c.a.useContext(m.a),a=n.sideCartItems,x=n.sideCartSubTotal,j=n.sideCartCouponCost,b=c.a.useContext(u.a).deliveryCountry,h=Object(s.a)(),p=h.formatMessage,v=h.locale,f={hidden:{x:"".concat("ar"===v?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween"}},exited:{x:"".concat("ar"===v?"-100%":"100%"),transition:{when:"afterChildren"}}};return Object(y.jsx)(l.a.div,{variants:f,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===v?"left-0":"right-0"),children:Object(y.jsxs)("div",{className:" bg-body-light p-2 h-full flex flex-col ",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("h1",{className:"font-semibold",children:p({id:"shopping-cart"})}),Object(y.jsx)("button",{onClick:function(){return t(!1)},children:Object(y.jsx)(o.b,{className:"w-5 h-5 "})})]}),Object(y.jsx)("hr",{className:"my-2"}),0===(null===a||void 0===a?void 0:a.length)&&Object(y.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(y.jsx)("img",{src:r.a,alt:"Empty cart"}),Object(y.jsx)("h1",{className:"font-bold mb-2",children:p({id:"cart-empty"})}),Object(y.jsx)(i.b,{to:"/".concat(v),className:"text-sm text-blue-600 hover:underline",children:p({id:"check-today-deals"})})]}),a.length>0&&Object(y.jsx)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden",children:Object(y.jsx)(d.a,{children:a.map((function(e){return Object(y.jsx)(g,{item:e,setSideMenuOpen:t},e.options.sku)}))})}),Object(y.jsx)("hr",{className:"my-1"}),a.length>0&&Object(y.jsxs)("div",{children:["0.000"!==j&&Object(y.jsxs)("div",{className:"flex text-green-700 justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold ",children:p({id:"coupon-sale"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[j," ",null===b||void 0===b?void 0:b.currency.translation[v].symbol]})]}),Object(y.jsxs)("div",{className:"flex justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold",children:p({id:"subtotal"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[x," ",null===b||void 0===b?void 0:b.currency.translation[v].symbol]})]}),Object(y.jsx)("hr",{className:"my-1"}),Object(y.jsx)("div",{className:" flex items-center my-2 text-center text-main-text ",children:Object(y.jsx)(i.b,{to:"/".concat(v,"/cart"),className:"flex-1 py-2 px-3 border font-semibold border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded",children:p({id:"go-to-cart"})})})]})]})})}},491:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var a=n(6),c=n(144),s=n(115),i=n(2),o=n.n(i),r=n(200),l=n(78),d=n(454),m=n(40),u=(n(178),n(204)),x=n(202),j=n(203),b=n(95),h=n(457),p=n(10),v=n(19),f=n(17),O=n.n(f),y=(n(37),n(1));function g(){var e,t,n,i,f,g,N,C=Object(l.a)(),_=C.formatMessage,w=C.locale,k=Object(m.i)().slug,M=o.a.useState(!1),P=Object(a.a)(M,2),S=P[0],F=P[1],I=o.a.useContext(p.a),D=I.deliveryCountriesLoading,L=I.deliveryCountriesIdle,T=I.settings,q=Object(d.a)(["single-brand",{slug:k,number:42}],(function(e){var t=e.pageParam;return Object(v.x)({slug:k,number:42,pageParam:t})}),{retry:!0,refetchOnWindowFocus:!1,keepPreviousData:!0,getNextPageParam:function(e){return e.currentPage<e.pageCount?e.currentPage+1:void 0}}),E=q.data,H=q.isLoading,J=q.isFetchingNextPage,G=q.fetchNextPage,W=q.hasNextPage;return Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(r.a,{children:[Object(y.jsx)("title",{children:E?"".concat(E.pages[0].brandName[w].name):null===T||void 0===T?void 0:T.store_name_en}),Object(y.jsx)("meta",{name:"description",content:E?"".concat(_({id:"shop"})," ").concat(null===(e=E.pages[0])||void 0===e||null===(t=e.brandName)||void 0===t?void 0:t[w].name):null===T||void 0===T?void 0:T.store_name_en}),Object(y.jsx)("meta",{property:"og:title",content:E?"".concat(E.pages[0].brandName[w].name," }"):null===T||void 0===T?void 0:T.store_name_en}),Object(y.jsx)("meta",{property:"og:description",content:E?"".concat(_({id:"shop"})," ").concat(null===(n=E.pages[0])||void 0===n||null===(i=n.brandName)||void 0===i?void 0:i[w].name):null===T||void 0===T?void 0:T.store_name_en})]}),Object(y.jsxs)(c.a,{children:[S&&Object(y.jsx)(h.a,{setSideMenuOpen:F},"side-cart"),S&&Object(y.jsx)(s.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return F(!1)},className:"side__addCart-bg"},"sidecart-bg")]}),Object(y.jsxs)("div",{className:"max-w-default mx-auto p-4 overflow-hidden",style:{minHeight:"calc(100vh - 150px)"},children:[!H&&Object(y.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[Object(y.jsxs)("h1",{className:"font-bold text-2xl mb-3",children:[_({id:"shop-brands"})," ",null===E||void 0===E||null===(f=E.pages[0].brandName)||void 0===f?void 0:f[w].name]}),Object(y.jsx)("img",{src:"".concat("https://admin.royal-online.co/storage","/original/").concat(null===E||void 0===E||null===(g=E.pages[0])||void 0===g?void 0:g.brandLogo),alt:null===E||void 0===E||null===(N=E.pages[0].brandName)||void 0===N?void 0:N[w].name,style:{maxHeight:"200px",width:"auto"}})]}),(H||D||L)&&Object(y.jsx)("div",{className:"brand-grid__desktop py-2 ",children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27].map((function(e){return Object(y.jsx)(u.a,{},e)}))}),Object(y.jsx)("div",{className:"brand-grid__desktop py-2 ",children:null===E||void 0===E?void 0:E.pages.map((function(e,t){return Object(y.jsx)(o.a.Fragment,{children:null===e||void 0===e?void 0:e.products.map((function(e){return"variation"===e.type&&Object.keys(e.new_variation_addons).length>0?Object(y.jsx)(j.a,{setCartMenuOpen:F,item:e},e.id):Object(y.jsx)(x.a,{setCartMenuOpen:F,item:e},e.id)}))},t)}))})]}),E&&W&&Object(y.jsx)("div",{className:"flex my-2 justify-center",children:Object(y.jsx)("button",{className:"p-2 w-40 text-lg font-semibold flex items-center justify-center rounded bg-main-color text-main-text",onClick:function(){G()},children:J?Object(y.jsx)(O.a,{type:"ThreeDots",color:"#fff",height:27,width:27,visible:!0}):_({id:"show-more"})})})]})}}}]);
//# sourceMappingURL=19.77ac4ee8.chunk.js.map