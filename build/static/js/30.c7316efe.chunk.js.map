{"version":3,"sources":["pages/SingleBrandMobile.js"],"names":["SingleBrandMobile","useIntl","formatMessage","locale","slug","useParams","React","useState","page","setPage","useContext","DataProvider","deliveryCountriesLoading","deliveryCountriesIdle","settings","cartMenuOpen","setCartMenuOpen","useQuery","number","getSingleBrandProducts","retry","keepPreviousData","data","productsLoading","isLoading","className","style","minHeight","map","i","brandName","name","store_name_en","content","id","property","full_translation","title","setSideMenuOpen","div","initial","opacity","animate","exit","onClick","src","process","brandLogo","alt","maxHeight","width","products","item","type","Object","entries","new_variation_addons","length","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","initialPage","disableInitialCallback","onPageChange","scrollTo","window","top","selected","containerClassName","subContainerClassName","pageLinkClassName","activeClassName","pageClassName","previousClassName","nextClassName","disabledClassName"],"mappings":"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","file":"static/js/30.c7316efe.chunk.js","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { GoChevronLeft, GoChevronRight } from 'react-icons/go';\r\nimport { useIntl } from 'react-intl';\r\nimport ReactPaginate from 'react-paginate';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router-dom';\r\nimport { scrollTo } from 'scroll-js';\r\nimport CategoryItemLoader from '../components/Category/CategoryItemLoader';\r\nimport CategoryProductItem from '../components/Category/CategoryProductItem';\r\nimport VariantCategoryProductItem from '../components/Category/VariantCategoryProductItem';\r\nimport Layout from '../components/Layout';\r\nimport SideCartMenuMobile from '../components/SingleProductMobile/SideCartMenuMobile';\r\nimport { DataProvider } from '../contexts/DataContext';\r\nimport { getSingleBrandProducts } from '../Queries/Queries';\r\n\r\nexport default function SingleBrandMobile() {\r\n  const { formatMessage, locale } = useIntl();\r\n  const { slug } = useParams();\r\n  const [page, setPage] = React.useState(1);\r\n  const {\r\n    deliveryCountriesLoading,\r\n    deliveryCountriesIdle,\r\n    settings,\r\n  } = React.useContext(DataProvider);\r\n  const [cartMenuOpen, setCartMenuOpen] = React.useState(false);\r\n  const handlePageChange = data => {\r\n    scrollTo(window, { top: 100 });\r\n    setPage(data.selected + 1);\r\n  };\r\n  const { data, isLoading: productsLoading } = useQuery(\r\n    ['single-brand', { slug, page, number: 42 }],\r\n    () => getSingleBrandProducts({ slug, page, number: 42 }),\r\n    {\r\n      retry: true,\r\n\r\n      keepPreviousData: true,\r\n    }\r\n  );\r\n  if (productsLoading || deliveryCountriesLoading || deliveryCountriesIdle) {\r\n    return (\r\n      <div\r\n        key=\"loader\"\r\n        className=\"brand-grid__mobile py-2\"\r\n        style={{ minHeight: 'calc(100vh - 150px)' }}\r\n      >\r\n        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(i => {\r\n          return <CategoryItemLoader key={i} />;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen p-3\">\r\n        <Helmet>\r\n          <title>\r\n            {data ? `${data.brandName[locale].name}` : settings?.store_name_en}\r\n          </title>\r\n          <meta\r\n            name=\"description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.brandName?.[locale].name\r\n                  }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:title\"\r\n            content={\r\n              data\r\n                ? `${data.brandName[locale].name} }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.full_translation?.[locale].title\r\n                  }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n        </Helmet>\r\n        <AnimatePresence>\r\n          {cartMenuOpen && (\r\n            <SideCartMenuMobile\r\n              key=\"side-cart\"\r\n              setSideMenuOpen={setCartMenuOpen}\r\n            />\r\n          )}\r\n          {cartMenuOpen && (\r\n            <motion.div\r\n              key=\"sidecart-bg\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 0.5 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setCartMenuOpen(false)}\r\n              className=\"side__addCart-bg\"\r\n            ></motion.div>\r\n          )}\r\n\r\n          {!productsLoading && (\r\n            <div\r\n              key=\"header\"\r\n              className=\"flex justify-center flex-col items-center\"\r\n            >\r\n              <h1 className=\"font-bold text-xl mb-3\">\r\n                {formatMessage({ id: 'shop-brands' })}{' '}\r\n                {data?.brandName?.[locale].name}\r\n              </h1>\r\n              <img\r\n                src={`${process.env.REACT_APP_IMAGES_URL}/original/${data?.brandLogo}`}\r\n                alt={data?.brandName?.[locale].name}\r\n                style={{ maxHeight: '150px', width: 'auto' }}\r\n              />\r\n            </div>\r\n          )}\r\n          <div\r\n            key=\"items\"\r\n            className=\"brand-grid__mobile py-2 min-h-full\"\r\n            style={{ minHeight: 'calc(100vh - 150px)' }}\r\n          >\r\n            {data?.products?.map(item => {\r\n              return item.type === 'variation' &&\r\n                Object.entries(item.new_variation_addons).length > 0 ? (\r\n                <VariantCategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              ) : (\r\n                <CategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </AnimatePresence>\r\n        <ReactPaginate\r\n          previousLabel={<GoChevronLeft className=\"w-6 h-6 inline\" />}\r\n          nextLabel={<GoChevronRight className=\"w-6 h-6 inline\" />}\r\n          breakLabel={'...'}\r\n          breakClassName={'inline'}\r\n          pageCount={data?.pageCount}\r\n          marginPagesDisplayed={2}\r\n          pageRangeDisplayed={2}\r\n          initialPage={page - 1}\r\n          disableInitialCallback={true}\r\n          onPageChange={handlePageChange}\r\n          containerClassName={'my-2 w-full text-center'}\r\n          subContainerClassName={'p-3 inline'}\r\n          pageLinkClassName=\"p-3\"\r\n          activeClassName={'bg-main-color font-bold text-main-text'}\r\n          pageClassName=\" inline-block mx-2 rounded-full text-lg\"\r\n          previousClassName=\"p-3 inline font-bold\"\r\n          nextClassName=\"p-3 inline font-bold\"\r\n          disabledClassName=\"text-gray-500\"\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"sourceRoot":""}