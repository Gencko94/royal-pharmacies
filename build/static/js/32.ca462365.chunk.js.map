{"version":3,"sources":["pages/SingleBrandMobile.js"],"names":["SingleBrandMobile","useIntl","formatMessage","locale","slug","useParams","React","useState","page","setPage","useContext","DataProvider","deliveryCountriesLoading","deliveryCountriesIdle","cartMenuOpen","setCartMenuOpen","useQuery","number","getSingleBrandProducts","retry","refetchOnWindowFocus","keepPreviousData","data","productsLoading","isLoading","key","className","style","minHeight","map","i","brandName","name","id","content","property","full_translation","title","setSideMenuOpen","div","initial","opacity","animate","exit","onClick","src","process","brandLogo","alt","maxHeight","width","products","item","type","Object","entries","new_variation_addons","length","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","initialPage","disableInitialCallback","onPageChange","scrollTo","window","top","selected","containerClassName","subContainerClassName","pageLinkClassName","activeClassName","pageClassName","previousClassName","nextClassName","disabledClassName"],"mappings":"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","file":"static/js/32.ca462365.chunk.js","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { GoChevronLeft, GoChevronRight } from 'react-icons/go';\r\nimport { useIntl } from 'react-intl';\r\nimport ReactPaginate from 'react-paginate';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router-dom';\r\nimport { scrollTo } from 'scroll-js';\r\nimport CategoryItemLoader from '../components/Category/CategoryItemLoader';\r\nimport CategoryProductItem from '../components/Category/CategoryProductItem';\r\nimport VariantCategoryProductItem from '../components/Category/VariantCategoryProductItem';\r\nimport Layout from '../components/Layout';\r\nimport SideCartMenuMobile from '../components/SingleProductMobile/SideCartMenuMobile';\r\nimport { DataProvider } from '../contexts/DataContext';\r\nimport { getSingleBrandProducts } from '../Queries/Queries';\r\n\r\nexport default function SingleBrandMobile() {\r\n  const { formatMessage, locale } = useIntl();\r\n  const { slug } = useParams();\r\n  const [page, setPage] = React.useState(1);\r\n  const { deliveryCountriesLoading, deliveryCountriesIdle } = React.useContext(\r\n    DataProvider\r\n  );\r\n  const [cartMenuOpen, setCartMenuOpen] = React.useState(false);\r\n  const handlePageChange = data => {\r\n    scrollTo(window, { top: 100 });\r\n    setPage(data.selected + 1);\r\n  };\r\n  const { data, isLoading: productsLoading } = useQuery(\r\n    ['single-brand', { slug, page, number: 42 }],\r\n    getSingleBrandProducts,\r\n    {\r\n      retry: true,\r\n      refetchOnWindowFocus: false,\r\n      keepPreviousData: true,\r\n    }\r\n  );\r\n  if (productsLoading || deliveryCountriesLoading || deliveryCountriesIdle) {\r\n    return (\r\n      <div\r\n        key=\"loader\"\r\n        className=\"brand-grid__mobile py-2\"\r\n        style={{ minHeight: 'calc(100vh - 150px)' }}\r\n      >\r\n        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(i => {\r\n          return <CategoryItemLoader key={i} />;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen p-3\">\r\n        <Helmet>\r\n          <title>\r\n            {data\r\n              ? `${data.brandName[locale].name} | ${formatMessage({\r\n                  id: 'mrg-mall-kuwait',\r\n                })}`\r\n              : 'MRG Mall Kuwait Online Shop | متجر إم آر جي الإلكتروني الكويت'}\r\n          </title>\r\n          <meta\r\n            name=\"description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.brandName?.[locale].name\r\n                  } ${formatMessage({ id: 'on-mrg-mall-kuwait' })}`\r\n                : 'MRG Mall Kuwait Online Shop | متجر إم آر جي الإلكتروني الكويت'\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:title\"\r\n            content={\r\n              data\r\n                ? `${data.brandName[locale].name} | ${formatMessage({\r\n                    id: 'mrg-mall-kuwait',\r\n                  })}`\r\n                : 'MRG Mall Kuwait Online Shop | متجر إم آر جي الإلكتروني الكويت'\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.full_translation?.[locale].title\r\n                  }  ${formatMessage({ id: 'on-mrg-mall-kuwait' })}`\r\n                : 'MRG Mall Kuwait Online Shop | متجر إم آر جي الإلكتروني الكويت'\r\n            }\r\n          />\r\n        </Helmet>\r\n        <AnimatePresence>\r\n          {cartMenuOpen && (\r\n            <SideCartMenuMobile\r\n              key=\"side-cart\"\r\n              setSideMenuOpen={setCartMenuOpen}\r\n            />\r\n          )}\r\n          {cartMenuOpen && (\r\n            <motion.div\r\n              key=\"sidecart-bg\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 0.5 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setCartMenuOpen(false)}\r\n              className=\"side__addCart-bg\"\r\n            ></motion.div>\r\n          )}\r\n\r\n          {!productsLoading && (\r\n            <div\r\n              key=\"header\"\r\n              className=\"flex justify-center flex-col items-center\"\r\n            >\r\n              <h1 className=\"font-bold text-xl mb-3\">\r\n                {formatMessage({ id: 'shop-brands' })}{' '}\r\n                {data?.brandName?.[locale].name}{' '}\r\n                {formatMessage({ id: 'at-mrg' })}\r\n              </h1>\r\n              <img\r\n                src={`${process.env.REACT_APP_IMAGES_URL}/original/${data?.brandLogo}`}\r\n                alt={data?.brandName?.[locale].name}\r\n                style={{ maxHeight: '150px', width: 'auto' }}\r\n              />\r\n            </div>\r\n          )}\r\n          <div\r\n            key=\"items\"\r\n            className=\"brand-grid__mobile py-2 min-h-full\"\r\n            style={{ minHeight: 'calc(100vh - 150px)' }}\r\n          >\r\n            {data?.products?.map(item => {\r\n              return item.type === 'variation' &&\r\n                Object.entries(item.new_variation_addons).length > 0 ? (\r\n                <VariantCategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              ) : (\r\n                <CategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </AnimatePresence>\r\n        <ReactPaginate\r\n          previousLabel={<GoChevronLeft className=\"w-6 h-6 inline\" />}\r\n          nextLabel={<GoChevronRight className=\"w-6 h-6 inline\" />}\r\n          breakLabel={'...'}\r\n          breakClassName={'inline'}\r\n          pageCount={data?.pageCount}\r\n          marginPagesDisplayed={2}\r\n          pageRangeDisplayed={2}\r\n          initialPage={page - 1}\r\n          disableInitialCallback={true}\r\n          onPageChange={handlePageChange}\r\n          containerClassName={'my-2 w-full text-center'}\r\n          subContainerClassName={'p-3 inline'}\r\n          pageLinkClassName=\"p-3\"\r\n          activeClassName={'bg-main-color font-bold text-main-text'}\r\n          pageClassName=\" inline-block mx-2 rounded-full text-lg\"\r\n          previousClassName=\"p-3 inline font-bold\"\r\n          nextClassName=\"p-3 inline font-bold\"\r\n          disabledClassName=\"text-gray-500\"\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"sourceRoot":""}