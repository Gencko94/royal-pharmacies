(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[26],{322:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return se}));var n=a(5),l=a(1),r=a.n(l),s=a(145),c=a(64),i=a(31),m=a(70),o=a(4);function d(){var e=Object(c.a)().formatMessage,t=Object(i.j)().url;return r.a.createElement("div",{className:"overflow-hidden"},r.a.createElement("ul",{className:" mobile-tabs overflow-x-scroll  whitespace-no-wrap bg-red-100 p-2"},[{url:"",name:"my-profile"},{url:"/addresses",name:"my-addresses"},{url:"/orders",name:"my-orders"}].map((function(a){return r.a.createElement("li",{key:a.name,className:"inline-block mx-1  "},r.a.createElement(o.c,{exact:!0,className:"w-full font-semibold p-3 rounded inline-block text-center ",activeClassName:"font-bold bg-main-color text-main-text ",to:"".concat(t).concat(a.url)},e({id:a.name})))}))))}var u=a(2),p=a(16),x=a.n(p),b=(a(28),a(303)),f=a(281),h=a(3),E=a.n(h),v=a(6),y=a(23),g=a(287);function N(e){var t=e.address,a=e.handleRemoveLocation,l=e.deleteButtonLoading,s=r.a.useState(!1),i=Object(u.a)(s,2),m=i[0],o=i[1],d=Object(c.a)().formatMessage;return r.a.createElement(n.c.div,{className:"flex flex-col  rounded border bg-body-light layout",variants:{hidden:{opacity:0},visible:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"},exited:{opacity:0,clipPath:"polygon(0 54%, 100% 53%, 100% 53%, 0 54%)"}},initial:"hidden",animate:"visible",exit:"exited"},r.a.createElement("div",{style:{position:"relative"}},"map"===t.type?r.a.createElement(g.a,{height:150,width:200,lat:t.lat,lng:t.lng,alt:t.address_name}):r.a.createElement("div",{className:"p-2 text-sm border-b",style:{height:"150px"}},r.a.createElement("div",null,r.a.createElement("h1",null,d({id:"maps-detailed-address-apartment-short"}),":"),r.a.createElement("h1",null,t.apartment_house_number)),r.a.createElement("div",null,r.a.createElement("h1",null,d({id:"maps-detailed-address-building-short"}),":"),r.a.createElement("h1",null,t.building_tower_number)),r.a.createElement("div",null,r.a.createElement("h1",null,d({id:"maps-detailed-address-phone-short"}),":"),r.a.createElement("h1",null,t.phone_number))),"map"===t.type&&r.a.createElement(n.c.div,{variants:{partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}},initial:"partial",animate:m?"full":"partial",layout:!0,exit:"partial",onClick:function(){return t.id,void o(!m)},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-75 bg-gray-800"},r.a.createElement(y.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),r.a.createElement(n.a,null,m&&r.a.createElement(n.c.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-xs"},r.a.createElement("div",null,r.a.createElement("h1",null,d({id:"maps-detailed-address-apartment-short"}),":"),r.a.createElement("h1",null,t.apartment_house_number)),r.a.createElement("div",null,r.a.createElement("h1",null,d({id:"maps-detailed-address-building-short"}),":"),r.a.createElement("h1",null,t.building_tower_number)),r.a.createElement("div",null,r.a.createElement("h1",null,d({id:"maps-detailed-address-phone-short"}),":"),r.a.createElement("h1",null,t.phone_number)))))),r.a.createElement("div",{className:"p-1 flex flex-1 flex-col"},r.a.createElement("div",{className:"text-xs text-gray-600 font-semibold"},r.a.createElement("h1",null,t.address_name)),r.a.createElement("div",{className:"text-sm mb-2 font-semibold"},r.a.createElement("h1",null," ","text"===t.type?t.userTyped_address:t.marked_address)),r.a.createElement("button",{onClick:function(){return a(t.id)},className:" \n                  bg-main-color\n               text-main-text rounded uppercase mt-auto   px-2 py-1 text-sm w-full flex justify-center"},l===t.id?r.a.createElement(x.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:!0}):r.a.createElement("h1",null,d({id:"remove-location"})))))}var w=a(18),j=a(43),O=a(102),k=a.n(O);function S(e){var t=e.locations,a=e.setShowMap,l=r.a.useContext(w.a).deleteAddressMutation,s=Object(c.a)().formatMessage,i=r.a.useState(null),m=Object(u.a)(i,2),o=m[0],d=m[1],p=r.a.useState(!1),x=Object(u.a)(p,2),b=x[0],f=x[1],h=r.a.useState(""),g=Object(u.a)(h,2),O=g[0],S=g[1],_=function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(t),e.next=4,l(t);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),d(null),f(!0),S({id:"something-went-wrong-snackbar"});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{minHeight:"calc(-173px + 100vh)"}},b&&r.a.createElement(j.a,{message:O,closeFunction:function(){f(!1)}}),r.a.createElement("div",{className:"p-3 font-semibold bg-main-color text-main-text"},r.a.createElement("h1",{className:""},s({id:"we-have-found"}),r.a.createElement("span",{className:"mx-1"},t.length),1===t.length?s({id:"one-address"}):s({id:"addresses"}))),r.a.createElement(n.b,null,r.a.createElement(n.c.div,{layout:!0,initial:!1,className:"p-2 locations-grid__mobile"},r.a.createElement(n.a,null,t.map((function(e){return r.a.createElement(N,{key:e.id,address:e,handleRemoveLocation:_,deleteButtonLoading:o})}))),r.a.createElement(n.c.button,{layout:!0,key:"add-button",onClick:function(){return a(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text"},r.a.createElement(k.a,{background:!0}),r.a.createElement(y.p,{className:"h-8 w-8"})))))}function _(){var e=r.a.useContext(w.a),t=e.userAddresses,a=e.userAddressesLoading,l=r.a.useState(!1),s=Object(u.a)(l,2),c=s[0],i=s[1];if(a)return r.a.createElement("div",{className:" p-4 flex justify-center items-center ",style:{minHeight:"calc(-173px + 100vh)"}},r.a.createElement(x.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}));return r.a.createElement(n.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit"},!c&&(0===t.length?r.a.createElement(b.a,{setShowMap:i}):r.a.createElement(S,{locations:t,setShowMap:i})),c&&r.a.createElement("div",{className:"relative",style:{minHeight:"calc(-176px + 100vh)"}},r.a.createElement(f.a,{setShowMap:i})))}var M=a(304),C=a.n(M);function P(){var e=Object(c.a)(),t=e.formatMessage,a=e.locale;return r.a.createElement("div",{className:"  flex flex-col justify-center items-center p-4 ",style:{minHeight:"calc(-176px + 100vh)"}},r.a.createElement("div",{className:"flex flex-col items-center justify-center"},r.a.createElement("img",{className:"mt-b",style:{height:"200px"},src:C.a,alt:"lostManWallet"}),r.a.createElement("h1",{className:"text-lg text-center font-bold"},t({id:"no-orders-placed"})),r.a.createElement(o.b,{to:"/".concat(a,"/"),className:" mt-3 uppercase font-semibold flex items-center rounded px-3 py-2 bg-main-color text-main-text"},r.a.createElement("h1",{className:"uppercase mx-2"},t({id:"start-shopping-now"})),r.a.createElement("span",{className:"text-main-text "},r.a.createElement(y.c,{className:"w-20p h-20p"})))))}var D=a(277),F=a.n(D);function R(e){var t=e.order,a=e.handleShowOrderDetails,n=e.handleShowAddReviews,l=e.index,s=Object(c.a)().formatMessage;return r.a.createElement("div",{className:" bg-body-light border overflow-hidden rounded-lg "},function(){switch(t.status){case"completed":return r.a.createElement("div",{className:" text-body-text-dark flex items-center   px-2 py-1 font-semibold bg-green-700  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-completed"})));case"canceled":return r.a.createElement("div",{className:" text-body-text-dark flex items-center px-2 py-1 font-semibold bg-main-color  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-cancelled"})));case"pending":return r.a.createElement("div",{className:" text-body-text-dark  flex items-center   px-2 py-1 font-semibold bg-yellow-600  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-pending"})));case"delivery":return r.a.createElement("div",{className:" text-body-text-dark  flex items-center   px-2 py-1 font-semibold bg-blue-600  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-delivery"})));case"waiting_for_payment":return r.a.createElement("div",{className:" text-body-text-dark flex items-center  px-2 py-1 font-semibold bg-yellow-600  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-waiting-for-payment"})));case"confirmed":return r.a.createElement("div",{className:" text-body-text-dark flex items-center  px-2 py-1 font-semibold bg-blue-600  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-confirmed"})));case"new":return r.a.createElement("div",{className:"text-body-text-dark  px-2 py-1 font-semibold flex items-center  bg-blue-600  "},r.a.createElement("h1",null,s({id:"order-status"})),":",r.a.createElement("h1",{className:"mx-1"},s({id:"order-new"})))}}(),r.a.createElement("div",{className:" text-sm mr-2 p-2 "},r.a.createElement("div",null,r.a.createElement("div",{className:"font-semibold flex items-center"},r.a.createElement("h1",{className:"text-gray-700"},s({id:"order-number"})," :"),r.a.createElement("h1",{className:"mx-1"},t.id)),r.a.createElement("div",{className:"font-semibold flex items-center"},r.a.createElement("h1",{className:"text-gray-700"},s({id:"order-date"})," :"),r.a.createElement("h1",{className:"mx-1"}," ",F()(t.created_at).format("DD/MM/YYYY - HH:MM"))),r.a.createElement("div",{className:" mt-8 flex items-center"},r.a.createElement("button",{onClick:function(){return a(t)},className:"px-3 py-1 text-body-text-dark bg-blue-700 uppercase  rounded font-semibold"},s({id:"order-details"})),"canceled"!==(null===t||void 0===t?void 0:t.status)&&r.a.createElement("button",{onClick:function(){return n(l)},className:"px-3 py-1 mx-3 text-body-text-dark bg-green-700 uppercase  rounded font-semibold"},s({id:"add-reviews"}))))))}var H=a(110),z=a.n(H),A=a(111),T=a.n(A),L=a(115),Y=a.n(L),B=a(112),q=a.n(B),W=a(7);function J(e){var t=e.orderDetailsOpen,a=e.selectedOrder,l=e.handleOrderDetailsClose,s=Object(c.a)(),i=s.formatMessage,m=s.locale,d=r.a.useContext(W.a).deliveryCountry;r.a.useEffect((function(){return t&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow="unset"}}),[t]);return r.a.createElement(n.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed top-0 left-0 right-0 bottom-0 overflow-y-auto bg-body-light z-30 h-screen"},r.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},r.a.createElement("button",{className:"text-white text-center",onClick:l},"en"===m?r.a.createElement(y.f,{className:"w-6 h-6 "}):r.a.createElement(y.g,{className:"w-6 h-6 "})),r.a.createElement("h1",{className:"font-semibold text-lg mx-4"},i({id:"order-details"}))),a&&r.a.createElement("div",{className:"px-1 py-2 "},r.a.createElement("div",{className:"mb-3 p-3 mx-1 rounded-lg flex bg-gray-900 text-main-text"},r.a.createElement("div",{className:"flex-1"},r.a.createElement("div",{className:"flex items-center font-bold"},r.a.createElement("h1",null,i({id:"order-number"})),r.a.createElement("h1",{className:"mx-1"},a.id)),r.a.createElement("div",{className:"flex items-center text-sm"},r.a.createElement("h1",{className:"font-semibold  text-gray-600"},i({id:"order-date"})," :"),r.a.createElement("h1",{className:"mx-1"}," ",F()(a.created_at).format("DD/MM/YYYY - HH:MM"))),r.a.createElement("div",{className:"flex items-center text-sm"},r.a.createElement("h1",{className:"text-gray-600"},"completed"===a.status?i({id:"delivered-at"}):i({id:"expected-delivery"})," ",":"),r.a.createElement("h1",{className:"mx-1"},"completed"===a.status?a.deliveryDate:"Soon")),r.a.createElement("div",{className:" text-sm"},r.a.createElement("h1",{className:"text-gray-600 "},"completed"===a.status?i({id:"delivered-to"}):i({id:"deliver-to"}),":"," "),r.a.createElement("h1",{className:"mx-1"},"map"===a.address.type?a.address.marked_address:a.address.userTyped_address)),r.a.createElement("div",{className:"text-sm"},r.a.createElement("h1",{className:"text-gray-600"},i({id:"payment-method"})," :"),"knet"===a.payment_method?r.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},r.a.createElement("img",{src:z.a,alt:a.payment_method}),r.a.createElement("div",{className:"flex-1 mx-3 text-left"},"K-net")):"credit"===a.payment_method?r.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},r.a.createElement("img",{src:T.a,alt:a.payment_method}),r.a.createElement("div",{className:"flex-1 mx-3 text-left"},"Credit Card")):"amex"===a.payment_method?r.a.createElement("div",{className:" flex  items-center justify-start  p-2 font-semibold"},r.a.createElement("img",{src:q.a,alt:a.payment_method}),r.a.createElement("div",{className:"flex-1 mx-3 text-left"},"American Express")):"cod"===a.payment_method?r.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},r.a.createElement("img",{src:Y.a,alt:a.payment_method}),r.a.createElement("div",{className:"flex-1 mx-3 text-left"},i({id:"cash-on-delivery"}))):void 0)),r.a.createElement("div",{className:" text-sm flex flex-col justify-center font-semibold"},function(){switch(a.status){case"completed":return r.a.createElement("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-green-700  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-completed"})));case"canceled":return r.a.createElement("div",{className:"uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-main-color  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-cancelled"})));case"pending":return r.a.createElement("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-yellow-600  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-pending"})));case"delivery":return r.a.createElement("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-blue-600  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-delivery"})));case"waiting_for_payment":return r.a.createElement("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-yellow-600  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-waiting-for-payment"})));case"confirmed":return r.a.createElement("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-blue-600  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-confirmed"})));case"new":return r.a.createElement("div",{className:"uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold  bg-blue-600  "},r.a.createElement("h1",{className:"mx-1"},i({id:"order-new"})))}}(),r.a.createElement("div",{className:"mt-auto text-center font-bold"},r.a.createElement("h1",null,i({id:"subtotal"})),r.a.createElement("h1",{className:"text-green-700"},a.subtotal," ",null===d||void 0===d?void 0:d.currency.translation[m].symbol)))),r.a.createElement("div",null,r.a.createElement("h1",{className:"font-bold"},i({id:"order-receipt"}))),r.a.createElement("hr",{className:"my-1"}),r.a.createElement("div",{className:"my-orders-items__grid-mobile"},r.a.createElement("div",{className:"my-orders-items__table-mobile font-semibold "},r.a.createElement("h1",null,"#"),r.a.createElement("h1",null,i({id:"the-item"})),r.a.createElement("h1",null,i({id:"qty"})),r.a.createElement("h1",null,i({id:"price"})),r.a.createElement("h1",null,i({id:"total"}))),a.items.map((function(e,t){return r.a.createElement("div",{key:e.id,className:"my-orders-item-mobile text-sm"},r.a.createElement("div",{className:"text-center "},r.a.createElement("h1",{className:""},t+1)),r.a.createElement(o.b,{to:"/".concat(m,"/products/").concat(e.product.slug,"/").concat(e.id),className:"hover:underline truncate uppercase text-center font-semibold block text-xs"},e.product.translation[m].title),r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:""},e.qty)),r.a.createElement("div",{style:{fontWeight:900}},r.a.createElement("h1",{className:"text-center"},e.price," ")),r.a.createElement("div",{style:{fontWeight:900},className:"text-green-700"},r.a.createElement("h1",{className:"text-center"},(e.price*e.qty).toFixed(3)," ",null===d||void 0===d?void 0:d.currency.translation[m].symbol)))})),r.a.createElement("hr",{className:"my-1"}),r.a.createElement("div",{className:"my-orders-receipt-summary-mobile font-bold rounded-lg border bg-gray-100 p-2 text-sm"},r.a.createElement("h1",null,i({id:"cart-total"})),r.a.createElement("h1",null,a.total),r.a.createElement("h1",null,i({id:"cart-delivery-cost"})),r.a.createElement("h1",{className:"mb-2"}," ","0"===a.shipping_cost?i({id:"cart-free"}):a.shipping_cost),a.coupon&&r.a.createElement("h1",{className:"mb-2 text-center"},i({id:"coupon-sale"})),a.coupon&&r.a.createElement("h1",{className:"mb-2 text-center"},a.coupon_cost,r.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[m].symbol)),r.a.createElement("h1",{className:"text-green-700 text-base"},i({id:"subtotal"})),r.a.createElement("h1",{className:"text-green-700 text-base"},a.subtotal," ",null===d||void 0===d?void 0:d.currency.translation[m].symbol)))))}var V=a(13),G=a(17),K=a(286),I=a(275);function Q(e){var t=e.product,a=e.handleCloseReviewPage,l=Object(c.a)(),s=l.formatMessage,i=l.locale,m=r.a.useState(""),o=Object(u.a)(m,2),d=o[0],p=o[1],b=r.a.useState(2.5),f=Object(u.a)(b,2),h=f[0],g=f[1],N=r.a.useContext(w.a).addReviewMutation,O=r.a.useState(!1),k=Object(u.a)(O,2),S=k[0],_=k[1],M=r.a.useState(""),C=Object(u.a)(M,2),P=C[0],D=C[1],F=r.a.useState(!1),R=Object(u.a)(F,2),H=R[0],z=R[1],A=function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,N({id:t.id,review:d,rating:h});case 4:a("success"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),_(!0),D(s({id:"something-went-wrong-snackbar"})),z(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed  top-0 left-0 right-0 bottom-0 overflow-y-auto overflow-x-hidden bg-body-light z-40",style:{height:"calc(100vh - 62px)"}},S&&r.a.createElement(j.a,{message:P,closeFunction:function(){_(!1)}}),r.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},r.a.createElement("button",{className:"text-white text-center",onClick:a},"en"===i?r.a.createElement(y.f,{className:"w-6 h-6 "}):r.a.createElement(y.g,{className:"w-6 h-6 "})),r.a.createElement("h1",{className:"font-semibold text-lg mx-4 text-clamp-2"},s({id:"add-review"})," ",t.translation[i].title)),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:""},r.a.createElement("h1",{className:"font-bold text-xl"},s({id:"what-is-your-rating"})),r.a.createElement(I.a,{emptySymbol:r.a.createElement(y.s,{className:"text-main-color w-6 h-6"}),fullSymbol:r.a.createElement(y.d,{className:"text-main-color w-6 h-6"}),className:"pt-1 mx-2",initialRating:h,onChange:function(e){return g(e)},fractions:2})),r.a.createElement("h1",{className:"font-semibold my-2"},s({id:"add-feedback"})," :"),r.a.createElement("textarea",{rows:"6",id:"location",className:" mt-1 w-full rounded border  p-1  ",type:"textarea",value:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement("button",{onClick:A,className:"p-2 uppercase text-sm font-semibold rounded ".concat(d?"bg-main-color text-main-text":"bg-gray-600 text-gray-400"," flex items-center justify-center "),style:{width:"80px"}},H&&r.a.createElement(x.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:!0}),!H&&s({id:"submit"})))))}function U(e){var t=e.handleAddReviewClose,a=e.data,l=e.selectedOrder,s=e.showAddReview,i=Object(c.a)(),m=i.formatMessage,o=i.locale,d=r.a.useState(!1),p=Object(u.a)(d,2),x=p[0],b=p[1],f=r.a.useState(null),h=Object(u.a)(f,2),E=h[0],v=h[1],g=r.a.useState(!1),N=Object(u.a)(g,2),w=N[0],j=N[1],O=r.a.useState(""),k=Object(u.a)(O,2),S=k[0],_=k[1];r.a.useEffect((function(){return s&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow="unset"}}),[s]);return r.a.createElement(n.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed  top-0 left-0 right-0 bottom-0 \n      overflow-y-auto overflow-x-hidden h-full\n       bg-body-light z-30"},w&&r.a.createElement(K.a,{message:S,closeFunction:function(){j(!1)}}),!x&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},r.a.createElement("button",{className:"text-white text-center",onClick:t},"en"===o?r.a.createElement(y.f,{className:"w-6 h-6 "}):r.a.createElement(y.g,{className:"w-6 h-6 "})),r.a.createElement("h1",{className:"font-semibold text-lg mx-4"},m({id:"add-reviews"}))),r.a.createElement("div",{className:"font-bold text-lg p-2"},r.a.createElement("h1",null,m({id:"select-product-to-review"}))),r.a.createElement("div",{className:"grid grid-cols-1 gap-2 p-2"},a[l].items.map((function(e){var t;return r.a.createElement("div",{key:e.id,onClick:function(){return function(e){b(!0),v(e)}(e.product)},className:"p-3 border cursor-pointer flex items-center hover:shadow hover:bg-gray-100  transition duration-150  rounded-lg"},r.a.createElement("img",{src:"".concat("https://admin-mrg.mrg-mall.com/storage","/small/").concat(null===(t=e.product.image)||void 0===t?void 0:t.link),alt:e.product.translation[o].title,style:{width:"50px",height:"50px"}}),r.a.createElement("h1",{className:"mx-4"},e.product.translation[o].title))})))),r.a.createElement(n.a,null,x&&r.a.createElement(Q,{product:E,handleCloseReviewPage:function(e){b(!1),"success"===e&&setTimeout((function(){j(!0),_(m({id:"review-added"}))}),300)}})))}function X(){var e=r.a.useState(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],s=r.a.useState(null),c=Object(u.a)(s,2),i=c[0],m=c[1],o=r.a.useState(null),d=Object(u.a)(o,2),p=d[0],b=d[1],f=Object(V.c)("userOrders",Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.H)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),h=f.data,y=f.isLoading,g=function(e){m(e),l(!0)},N=r.a.useCallback((function(){m(null),l(!1)}),[]),w=r.a.useState(!1),j=Object(u.a)(w,2),O=j[0],k=j[1],S=function(e){k(!0),b(e)};return y?r.a.createElement("div",{className:"flex  justify-center items-center",style:{minHeight:"calc(-176px + 100vh)"}},r.a.createElement(x.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:y})):r.a.createElement(r.a.Fragment,null,r.a.createElement(n.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"",style:{minHeight:"calc(-176px + 100vh)"}},0===h.length?r.a.createElement(P,null):r.a.createElement("div",{className:"p-3 my-orders-items__grid-mobile"},h.map((function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement(R,{order:e,handleShowOrderDetails:g,handleShowAddReviews:S,index:t}))})))),r.a.createElement(n.a,null,a&&r.a.createElement(J,{key:"order-details",selectedOrder:i,handleOrderDetailsClose:N,orderDetailsOpen:a})),r.a.createElement(n.a,null,O&&r.a.createElement(U,{key:"order-review",handleAddReviewClose:function(){k(!1)},data:h,selectedOrder:p,showAddReview:O})))}var Z=a(35),$=a(29),ee=a(24);function te(e){var t=e.changePasswordMutation,a=e.setPasswordChangeModalOpen,l=Object(c.a)(),s=l.formatMessage,i=l.locale,m=r.a.useState(!1),o=Object(u.a)(m,2),d=o[0],p=o[1],b=r.a.useState(""),f=Object(u.a)(b,2),h=f[0],g=f[1],N=r.a.useState(!1),w=Object(u.a)(N,2),O=w[0],k=w[1],S=r.a.useState(""),_=Object(u.a)(S,2),M=_[0],C=_[1],P=function(){p(!1)},D=ee.a({newPassword:ee.c().required(s({id:"password-empty"})).min(6,s({id:"password-min-6"})).max(15,s({id:"password-max-15"})),confirmPassword:ee.c().required(s({id:"password-empty"})).when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:ee.c().oneOf([ee.b("newPassword")],s({id:"same-password"}))})});return r.a.useEffect((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]),r.a.createElement(n.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed top-0 left-0 right-0 bottom-0  bg-body-light z-30 h-screen"},d&&r.a.createElement(j.a,{message:h,closeFunction:P}),O&&r.a.createElement(K.a,{message:M,closeFunction:P}),r.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},r.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return a(!1)}},"en"===i?r.a.createElement(y.f,{className:"w-6 h-6 "}):r.a.createElement(y.g,{className:"w-6 h-6 "})),r.a.createElement("h1",{className:"font-semibold text-lg mx-4"},s({id:"change-password"}))),r.a.createElement($.a,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:D,onSubmit:function(){var e=Object(v.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),e.prev=1,e.next=4,t(a);case 4:C(s({id:"password-change-success"})),k(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),p(!0),g("Something went wrong, Please try again");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting;return r.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},r.a.createElement(ae,{label:s({id:"old-password"}),name:"oldPassword",value:a.oldPassword,type:"password"}),r.a.createElement(ae,{label:s({id:"new-password"}),name:"newPassword",value:a.newPassword,type:"password"}),r.a.createElement(ae,{label:s({id:"confirm-password"}),name:"confirmPassword",value:a.confirmPassword,type:"password"}),r.a.createElement("div",{className:"mt-1"},r.a.createElement("button",{type:"submit",className:"\n                  \n                      bg-main-color text-main-text\n                   w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase "},n&&r.a.createElement(x.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:n}),!n&&s({id:"save-button"}))))})))}var ae=function(e){var t=e.label,a=(e.value,e.name),n=Object(Z.a)(e,["label","value","name"]),l=Object($.b)(a),s=Object(u.a)(l,2),c=s[0],i=s[1];return r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),r.a.createElement("input",Object.assign({},c,n,{onBlur:function(e){c.onBlur(e)},className:" ".concat(i.error&&i.touched&&"border-main-color"," w-full rounded-lg border p-2 mt-1")})),i.touched&&i.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},i.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))};function ne(e){var t=e.setProfileEditModalOpen,a=e.userData,l=e.editMutation,s=r.a.useState(!1),i=Object(u.a)(s,2),m=i[0],o=i[1],d=r.a.useState(""),p=Object(u.a)(d,2),b=p[0],f=p[1],h=Object(c.a)(),g=h.formatMessage,N=h.locale;r.a.useEffect((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]);var w=ee.a({email:ee.c().email(g({id:"email-validation"})),name:ee.c().required(g({id:"fullname-empty"}))});return r.a.createElement(n.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed top-0 left-0 right-0 bottom-0 overflow-y-scroll bg-body-light z-30 h-screen"},m&&r.a.createElement(j.a,{message:b,closeFunction:function(){o(!1)}}),r.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},r.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return t(!1)}},"en"===N?r.a.createElement(y.f,{className:"w-6 h-6 "}):r.a.createElement(y.g,{className:"w-6 h-6 "})),r.a.createElement("h1",{className:"font-semibold text-lg mx-4"},g({id:"edit-personal-information"}))),r.a.createElement($.a,{initialValues:{email:a.email||"",name:a.name},validationSchema:w,onSubmit:function(){var e=Object(v.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.prev=1,e.next=4,l(a);case 4:t(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o(!0),f("Something went wrong, Please try again");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting;return r.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},r.a.createElement(le,{label:g({id:"full-name"}),name:"name",value:a.name,type:"text"}),r.a.createElement(le,{label:g({id:"email-address"}),name:"email",value:a.email,type:"email"}),r.a.createElement("div",{className:"mt-1"},r.a.createElement("button",{type:"submit",className:" bg-main-color text-main-text hover:bg-red-800 w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase "},n&&r.a.createElement(x.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:n}),!n&&g({id:"save-button"}))))})))}var le=function(e){var t=e.label,a=(e.value,e.name),n=Object(Z.a)(e,["label","value","name"]),l=Object($.b)(a),s=Object(u.a)(l,2),c=s[0],i=s[1];return r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),r.a.createElement("input",Object.assign({},c,n,{onBlur:function(e){c.onBlur(e)},className:" w-full rounded-lg border p-2 mt-1"})),i.touched&&i.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},i.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))};function re(){var e=Object(c.a)().formatMessage,t=r.a.useState(!1),a=Object(u.a)(t,2),l=a[0],s=a[1],i=r.a.useState(!1),m=Object(u.a)(i,2),o=m[0],d=m[1],p=r.a.useContext(w.a),b=p.userData,f=p.editMutation,h=p.authenticationLoading,E=p.authenticationFetching,v=p.changePasswordMutation;return h||E?r.a.createElement("div",{className:" p-4 ",style:{height:"calc(-173px + 100vh)"}},r.a.createElement("div",{className:"flex h-full justify-center items-center"},r.a.createElement(x.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(n.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"px-3 py-3 flex justify-between  text-gray-900"},r.a.createElement("h1",{className:"text-xl font-semibold"}," ",e({id:"general-information"})),r.a.createElement("button",{onClick:function(){return s(!0)},className:"px-2 py-1 text-sm  font-semibold bg-main-color text-main-text rounded uppercase"},e({id:"edit"}))),r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"py-4 px-3 flex  "},r.a.createElement("h1",{className:" font-semibold w-2/4"},e({id:"full-name"})),r.a.createElement("h1",{className:""},b.name)),r.a.createElement("div",{className:"py-4 px-3 flex  bg-red-100"},r.a.createElement("h1",{className:" font-semibold w-2/4"},e({id:"phone-number"})),r.a.createElement("h1",{className:""},b.mobile)),r.a.createElement("div",{className:"py-4 px-3 flex  "},r.a.createElement("h1",{className:" font-semibold w-2/4"},e({id:"email-address"})),r.a.createElement("h1",{className:""},b.email)))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"px-3 py-3 flex items-center justify-end"},r.a.createElement("button",{onClick:function(){return d(!0)},className:"py-2 px-3 text-sm  font-semibold bg-main-color text-main-text rounded uppercase"},e({id:"change-password"})))),r.a.createElement(n.a,null,l&&r.a.createElement(ne,{userData:b,setProfileEditModalOpen:s,editMutation:f})),r.a.createElement(n.a,null,o&&r.a.createElement(te,{setPasswordChangeModalOpen:d,changePasswordMutation:v})))}function se(){var e=Object(c.a)().formatMessage,t=Object(i.h)(),a=Object(i.j)().path;return r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement("title",null,e({id:"my-account"}),"| MRG")),r.a.createElement("div",{className:"relative"},r.a.createElement(d,null),r.a.createElement("div",{style:{minHeight:"calc(-176px + 100vh)"}},r.a.createElement(n.a,{exitBeforeEnter:!0},r.a.createElement(i.d,{location:t,key:t.key},r.a.createElement(i.b,{path:"".concat(a),exact:!0,component:re}),r.a.createElement(i.b,{path:"".concat(a,"/addresses"),component:_}),r.a.createElement(i.b,{path:"".concat(a,"/orders"),component:X}))))))}}}]);
//# sourceMappingURL=26.9243e620.chunk.js.map