{"version":3,"sources":["pages/SingleBrandMobile.js"],"names":["SingleBrandMobile","useIntl","formatMessage","locale","slug","useParams","React","useState","page","setPage","useContext","DataProvider","deliveryCountriesLoading","deliveryCountriesIdle","settings","cartMenuOpen","setCartMenuOpen","useQuery","number","getSingleBrandProducts","retry","refetchOnWindowFocus","keepPreviousData","data","productsLoading","isLoading","key","className","style","minHeight","map","i","brandName","name","store_name_en","content","id","property","full_translation","title","setSideMenuOpen","div","initial","opacity","animate","exit","onClick","src","process","brandLogo","alt","maxHeight","width","products","item","type","Object","entries","new_variation_addons","length","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","initialPage","disableInitialCallback","onPageChange","scrollTo","window","top","selected","containerClassName","subContainerClassName","pageLinkClassName","activeClassName","pageClassName","previousClassName","nextClassName","disabledClassName"],"mappings":"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","file":"static/js/30.2078fd1f.chunk.js","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { GoChevronLeft, GoChevronRight } from 'react-icons/go';\r\nimport { useIntl } from 'react-intl';\r\nimport ReactPaginate from 'react-paginate';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router-dom';\r\nimport { scrollTo } from 'scroll-js';\r\nimport CategoryItemLoader from '../components/Category/CategoryItemLoader';\r\nimport CategoryProductItem from '../components/Category/CategoryProductItem';\r\nimport VariantCategoryProductItem from '../components/Category/VariantCategoryProductItem';\r\nimport Layout from '../components/Layout';\r\nimport SideCartMenuMobile from '../components/SingleProductMobile/SideCartMenuMobile';\r\nimport { DataProvider } from '../contexts/DataContext';\r\nimport { getSingleBrandProducts } from '../Queries/Queries';\r\n\r\nexport default function SingleBrandMobile() {\r\n  const { formatMessage, locale } = useIntl();\r\n  const { slug } = useParams();\r\n  const [page, setPage] = React.useState(1);\r\n  const {\r\n    deliveryCountriesLoading,\r\n    deliveryCountriesIdle,\r\n    settings,\r\n  } = React.useContext(DataProvider);\r\n  const [cartMenuOpen, setCartMenuOpen] = React.useState(false);\r\n  const handlePageChange = data => {\r\n    scrollTo(window, { top: 100 });\r\n    setPage(data.selected + 1);\r\n  };\r\n  const { data, isLoading: productsLoading } = useQuery(\r\n    ['single-brand', { slug, page, number: 42 }],\r\n    getSingleBrandProducts,\r\n    {\r\n      retry: true,\r\n      refetchOnWindowFocus: false,\r\n      keepPreviousData: true,\r\n    }\r\n  );\r\n  if (productsLoading || deliveryCountriesLoading || deliveryCountriesIdle) {\r\n    return (\r\n      <div\r\n        key=\"loader\"\r\n        className=\"brand-grid__mobile py-2\"\r\n        style={{ minHeight: 'calc(100vh - 150px)' }}\r\n      >\r\n        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(i => {\r\n          return <CategoryItemLoader key={i} />;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen p-3\">\r\n        <Helmet>\r\n          <title>\r\n            {data ? `${data.brandName[locale].name}` : settings?.store_name_en}\r\n          </title>\r\n          <meta\r\n            name=\"description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.brandName?.[locale].name\r\n                  }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:title\"\r\n            content={\r\n              data\r\n                ? `${data.brandName[locale].name} }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.full_translation?.[locale].title\r\n                  }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n        </Helmet>\r\n        <AnimatePresence>\r\n          {cartMenuOpen && (\r\n            <SideCartMenuMobile\r\n              key=\"side-cart\"\r\n              setSideMenuOpen={setCartMenuOpen}\r\n            />\r\n          )}\r\n          {cartMenuOpen && (\r\n            <motion.div\r\n              key=\"sidecart-bg\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 0.5 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setCartMenuOpen(false)}\r\n              className=\"side__addCart-bg\"\r\n            ></motion.div>\r\n          )}\r\n\r\n          {!productsLoading && (\r\n            <div\r\n              key=\"header\"\r\n              className=\"flex justify-center flex-col items-center\"\r\n            >\r\n              <h1 className=\"font-bold text-xl mb-3\">\r\n                {formatMessage({ id: 'shop-brands' })}{' '}\r\n                {data?.brandName?.[locale].name}\r\n              </h1>\r\n              <img\r\n                src={`${process.env.REACT_APP_IMAGES_URL}/original/${data?.brandLogo}`}\r\n                alt={data?.brandName?.[locale].name}\r\n                style={{ maxHeight: '150px', width: 'auto' }}\r\n              />\r\n            </div>\r\n          )}\r\n          <div\r\n            key=\"items\"\r\n            className=\"brand-grid__mobile py-2 min-h-full\"\r\n            style={{ minHeight: 'calc(100vh - 150px)' }}\r\n          >\r\n            {data?.products?.map(item => {\r\n              return item.type === 'variation' &&\r\n                Object.entries(item.new_variation_addons).length > 0 ? (\r\n                <VariantCategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              ) : (\r\n                <CategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </AnimatePresence>\r\n        <ReactPaginate\r\n          previousLabel={<GoChevronLeft className=\"w-6 h-6 inline\" />}\r\n          nextLabel={<GoChevronRight className=\"w-6 h-6 inline\" />}\r\n          breakLabel={'...'}\r\n          breakClassName={'inline'}\r\n          pageCount={data?.pageCount}\r\n          marginPagesDisplayed={2}\r\n          pageRangeDisplayed={2}\r\n          initialPage={page - 1}\r\n          disableInitialCallback={true}\r\n          onPageChange={handlePageChange}\r\n          containerClassName={'my-2 w-full text-center'}\r\n          subContainerClassName={'p-3 inline'}\r\n          pageLinkClassName=\"p-3\"\r\n          activeClassName={'bg-main-color font-bold text-main-text'}\r\n          pageClassName=\" inline-block mx-2 rounded-full text-lg\"\r\n          previousClassName=\"p-3 inline font-bold\"\r\n          nextClassName=\"p-3 inline font-bold\"\r\n          disabledClassName=\"text-gray-500\"\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"sourceRoot":""}