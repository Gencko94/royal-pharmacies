{"version":3,"sources":["pages/SingleBrandMobile.js"],"names":["SingleBrandMobile","userId","useContext","AuthProvider","CartAndWishlistProvider","cartItems","guestCartItems","useIntl","formatMessage","locale","slug","useParams","React","useState","page","setPage","DataProvider","deliveryCountriesLoading","deliveryCountriesIdle","settings","mobileCartPopupOpen","sideMenuOpen","cartMenuOpen","setCartMenuOpen","useQuery","number","getSingleBrandProducts","retry","keepPreviousData","data","productsLoading","isLoading","className","style","minHeight","map","i","brandName","name","store_name_en","content","id","property","full_translation","title","div","initial","opacity","animate","exit","onClick","src","process","brandLogo","alt","maxHeight","width","products","item","type","Object","entries","new_variation_addons","length","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","initialPage","disableInitialCallback","onPageChange","scrollTo","window","top","selected","containerClassName","subContainerClassName","pageLinkClassName","activeClassName","pageClassName","previousClassName","nextClassName","disabledClassName","checkShowCondition"],"mappings":"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","file":"static/js/30.fbae1a8b.chunk.js","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport React, { useContext } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { GoChevronLeft, GoChevronRight } from 'react-icons/go';\r\nimport { useIntl } from 'react-intl';\r\nimport ReactPaginate from 'react-paginate';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router-dom';\r\nimport { scrollTo } from 'scroll-js';\r\nimport CategoryItemLoader from '../components/Category/CategoryItemLoader';\r\nimport CategoryProductItem from '../components/Category/CategoryProductItem';\r\nimport VariantCategoryProductItem from '../components/Category/VariantCategoryProductItem';\r\nimport Layout from '../components/Layout';\r\nimport MobileCartPopup from '../components/MobileCartPopup/MobileCartPopup';\r\nimport { AuthProvider } from '../contexts/AuthContext';\r\nimport { CartAndWishlistProvider } from '../contexts/CartAndWishlistContext';\r\nimport { DataProvider } from '../contexts/DataContext';\r\nimport { getSingleBrandProducts } from '../Queries/Queries';\r\n\r\nexport default function SingleBrandMobile() {\r\n  const { userId } = useContext(AuthProvider);\r\n  const { cartItems, guestCartItems } = useContext(CartAndWishlistProvider);\r\n  const { formatMessage, locale } = useIntl();\r\n  const { slug } = useParams();\r\n  const [page, setPage] = React.useState(1);\r\n  const {\r\n    deliveryCountriesLoading,\r\n    deliveryCountriesIdle,\r\n    settings,\r\n    mobileCartPopupOpen,\r\n    sideMenuOpen,\r\n  } = React.useContext(DataProvider);\r\n  const [cartMenuOpen, setCartMenuOpen] = React.useState(false);\r\n  const checkShowCondition = () => {\r\n    if (sideMenuOpen) return false;\r\n    if (userId) {\r\n      if (cartItems?.length > 0) {\r\n        return true;\r\n      }\r\n    } else {\r\n      if (guestCartItems?.length > 0) {\r\n        return true;\r\n      } else if (mobileCartPopupOpen) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  const handlePageChange = data => {\r\n    scrollTo(window, { top: 100 });\r\n    setPage(data.selected + 1);\r\n  };\r\n  const { data, isLoading: productsLoading } = useQuery(\r\n    ['single-brand', { slug, page, number: 42 }],\r\n    () => getSingleBrandProducts({ slug, page, number: 42 }),\r\n    {\r\n      retry: true,\r\n\r\n      keepPreviousData: true,\r\n    }\r\n  );\r\n  if (productsLoading || deliveryCountriesLoading || deliveryCountriesIdle) {\r\n    return (\r\n      <div\r\n        key=\"loader\"\r\n        className=\"brand-grid__mobile py-2\"\r\n        style={{ minHeight: 'calc(100vh - 150px)' }}\r\n      >\r\n        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(i => {\r\n          return <CategoryItemLoader key={i} />;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen p-3\">\r\n        <Helmet>\r\n          <title>\r\n            {data ? `${data.brandName[locale].name}` : settings?.store_name_en}\r\n          </title>\r\n          <meta\r\n            name=\"description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.brandName?.[locale].name\r\n                  }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:title\"\r\n            content={\r\n              data\r\n                ? `${data.brandName[locale].name} }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n          <meta\r\n            property=\"og:description\"\r\n            content={\r\n              data\r\n                ? `${formatMessage({ id: 'shop' })} ${\r\n                    data?.full_translation?.[locale].title\r\n                  }`\r\n                : settings?.store_name_en\r\n            }\r\n          />\r\n        </Helmet>\r\n        <AnimatePresence>\r\n          {cartMenuOpen && (\r\n            <motion.div\r\n              key=\"sidecart-bg\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 0.5 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setCartMenuOpen(false)}\r\n              className=\"side__addCart-bg\"\r\n            ></motion.div>\r\n          )}\r\n\r\n          {!productsLoading && (\r\n            <div\r\n              key=\"header\"\r\n              className=\"flex justify-center flex-col items-center\"\r\n            >\r\n              <h1 className=\"font-bold text-xl mb-3\">\r\n                {formatMessage({ id: 'shop-brands' })}{' '}\r\n                {data?.brandName?.[locale].name}\r\n              </h1>\r\n              <img\r\n                src={`${process.env.REACT_APP_IMAGES_URL}/original/${data?.brandLogo}`}\r\n                alt={data?.brandName?.[locale].name}\r\n                style={{ maxHeight: '150px', width: 'auto' }}\r\n              />\r\n            </div>\r\n          )}\r\n          <div\r\n            key=\"items\"\r\n            className=\"brand-grid__mobile py-2 min-h-full\"\r\n            style={{ minHeight: 'calc(100vh - 150px)' }}\r\n          >\r\n            {data?.products?.map(item => {\r\n              return item.type === 'variation' &&\r\n                Object.entries(item.new_variation_addons).length > 0 ? (\r\n                <VariantCategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              ) : (\r\n                <CategoryProductItem\r\n                  key={item.id}\r\n                  setCartMenuOpen={setCartMenuOpen}\r\n                  item={item}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </AnimatePresence>\r\n        <ReactPaginate\r\n          previousLabel={<GoChevronLeft className=\"w-6 h-6 inline\" />}\r\n          nextLabel={<GoChevronRight className=\"w-6 h-6 inline\" />}\r\n          breakLabel={'...'}\r\n          breakClassName={'inline'}\r\n          pageCount={data?.pageCount}\r\n          marginPagesDisplayed={2}\r\n          pageRangeDisplayed={2}\r\n          initialPage={page - 1}\r\n          disableInitialCallback={true}\r\n          onPageChange={handlePageChange}\r\n          containerClassName={'my-2 w-full text-center'}\r\n          subContainerClassName={'p-3 inline'}\r\n          pageLinkClassName=\"p-3\"\r\n          activeClassName={'bg-main-color font-bold text-main-text'}\r\n          pageClassName=\" inline-block mx-2 rounded-full text-lg\"\r\n          previousClassName=\"p-3 inline font-bold\"\r\n          nextClassName=\"p-3 inline font-bold\"\r\n          disabledClassName=\"text-gray-500\"\r\n        />\r\n      </div>\r\n      <AnimatePresence>\r\n        {checkShowCondition() && <MobileCartPopup />}\r\n      </AnimatePresence>\r\n    </Layout>\r\n  );\r\n}\r\n"],"sourceRoot":""}