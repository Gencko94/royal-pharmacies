(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[22],{276:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(1),c=a.n(n),i=a(64),l=a(4),r=a(26),s=a(147),o=a.n(s),m=a(5),d=a(34),u=a(7),h=a(3),x=a.n(h),v=a(6),f=a(2),p=a(18),E=a(16),b=a.n(E),y=(a(28),a(48));function g(e){var t=e.item,a=e.setSideMenuOpen,n=c.a.useContext(d.a),r=n.removeFromCartMutation,s=n.removeFromGuestCartMutation,o=n.coupon,h=c.a.useContext(u.a).deliveryCountry,E=Object(i.a)(),g=E.formatMessage,N=E.locale,w=c.a.useState(!1),C=Object(f.a)(w,2),k=C[0],j=C[1],L=c.a.useContext(p.a).userId,O=function(){var e=Object(v.a)(x.a.mark((function e(){var a,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),e.prev=1,!L){e.next=10;break}return a=t.id,n=t.cart_id,e.next=7,r({id:a,cart_id:n,userId:L,deliveryCountry:h,coupon:o});case 7:j(!1),e.next=14;break;case 10:return c=t.options.sku,e.next=13,s({sku:c,deliveryCountry:h,coupon:o});case 13:j(!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),j(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),_={hidden:{x:"".concat("ar"===N?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return c.a.createElement(m.c.div,{initial:"hidden",animate:"visible",exit:"exited",variants:_,className:" side-cart-menu__item mb-2 "},c.a.createElement("div",{className:""},c.a.createElement(l.b,{title:"".concat(t["name_".concat(N)]),to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return a(!1)}},c.a.createElement(y.a,{src:t.image,origin:"original",alt:t["name_".concat(N)],pb:"calc(100% * 210/210)"}))),c.a.createElement("div",{className:""},c.a.createElement(l.b,{title:"".concat(t["name_".concat(N)]),className:"hover:underline",to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return a(!1)}},c.a.createElement("h1",{className:"font-semibold text-clamp-2 text-sm uppercase "},"".concat(t["name_".concat(N)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):""))),c.a.createElement("div",{className:"flex items-center text-gray-700"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("h1",{className:"text-xs font-semibold"},g({id:"price"})),c.a.createElement("h1",{className:"text-xs font-bold mx-1"},t.total," ",null===h||void 0===h?void 0:h.currency.translation[N].symbol)),c.a.createElement("div",{className:"flex items-center text-xs mx-2"},c.a.createElement("h1",{className:"font-semibold"},g({id:"qty"})," :"),c.a.createElement("h1",{className:"mx-1 font-bold"},t.qty))),c.a.createElement("div",null,c.a.createElement("button",{className:"\n                bg-main-color text-main-text\n            text-xs rounded p-1 my-1 flex uppercase items-center font-semibold justify-center ",style:{width:"140px"},onClick:O},k?c.a.createElement(b.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):g({id:"remove-from-cart"})))))}function N(e){var t=e.setSideMenuOpen,a=c.a.useContext(d.a),n=a.sideCartItems,s=a.sideCartSubTotal,h=a.sideCartCouponCost,x=c.a.useContext(u.a).deliveryCountry,v=Object(i.a)(),f=v.formatMessage,p=v.locale,E={hidden:{x:"".concat("ar"===p?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween"}},exited:{x:"".concat("ar"===p?"-100%":"100%"),transition:{when:"afterChildren"}}};return c.a.createElement(m.c.div,{variants:E,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===p?"left-0":"right-0")},c.a.createElement("div",{className:" bg-body-light p-2 h-full flex flex-col "},c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("h1",{className:"font-semibold"},f({id:"shopping-cart"})),c.a.createElement("button",{onClick:function(){return t(!1)}},c.a.createElement(r.b,{className:"w-5 h-5 "}))),c.a.createElement("hr",{className:"my-2"}),0===(null===n||void 0===n?void 0:n.length)&&c.a.createElement("div",{className:"flex flex-col justify-center items-center"},c.a.createElement("img",{src:o.a,alt:"Empty cart"}),c.a.createElement("h1",{className:"font-bold mb-2"},f({id:"cart-empty"})),c.a.createElement(l.b,{to:"/".concat(p),className:"text-sm text-blue-600 hover:underline"},f({id:"check-today-deals"}))),n.length>0&&c.a.createElement("div",{className:" flex-1 overflow-y-auto overflow-x-hidden"},c.a.createElement(m.a,null,n.map((function(e){return c.a.createElement(g,{key:e.options.sku,item:e,setSideMenuOpen:t})})))),c.a.createElement("hr",{className:"my-1"}),n.length>0&&c.a.createElement("div",null,"0.000"!==h&&c.a.createElement("div",{className:"flex text-green-700 justify-between semibold items-center  my-2"},c.a.createElement("h1",{className:"font-bold "},f({id:"coupon-sale"})),c.a.createElement("h1",{className:" font-bold"},h," ",null===x||void 0===x?void 0:x.currency.translation[p].symbol)),c.a.createElement("div",{className:"flex justify-between semibold items-center  my-2"},c.a.createElement("h1",{className:"font-bold"},f({id:"subtotal"})),c.a.createElement("h1",{className:" font-bold"},s," ",null===x||void 0===x?void 0:x.currency.translation[p].symbol)),c.a.createElement("hr",{className:"my-1"}),c.a.createElement("div",{className:" flex items-center my-2 text-center text-main-text "},c.a.createElement(l.b,{to:"/".concat(p,"/cart"),className:"flex-1 py-2 px-3 border font-semibold border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded"},f({id:"go-to-cart"}))))))}},329:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(3),c=a.n(n),i=a(6),l=a(2),r=a(5),s=a(1),o=a.n(s),m=a(145),d=a(64),u=a(306),h=a(70),x=a(276),v=a(284),f=a(296),p=a(4),E=a(147),b=a.n(E);function y(){var e=Object(d.a)().formatMessage;return o.a.createElement(r.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exited:{opacity:0}},initial:"hidden",animate:"visible",exit:"exited",className:" flex items-center justify-center h-full"},o.a.createElement("div",{className:"p-2 flex flex-col items-center justify-center "},o.a.createElement("div",{style:{width:"275px"}},o.a.createElement("img",{src:b.a,alt:"Empty Cart Bag",className:""})),o.a.createElement("div",{className:"text-center"},o.a.createElement("h1",{className:"text-2xl font-bold p-2 "},e({id:"wishlist-empty"})),o.a.createElement(p.b,{to:"/",className:"text-blue-600 hover:underline"},e({id:"check-today-deals"})))))}var g=a(16),N=a.n(g),w=(a(28),a(48)),C=a(275),k=a(23);function j(e){var t=e.item,a=e.handleRemoveItemFromWishList,n=e.removeFromWishListButtonLoading,c=Object(d.a)(),i=c.formatMessage,l=c.locale;return o.a.createElement(r.c.div,{layout:!0,variants:{hidden:{opacity:0},visible:{opacity:1},exited:{x:300,opacity:0,transition:{duration:.3,ease:"easeOut"}}},initial:"hidden",animate:"visible",exit:"exited",className:"wishlist-item"},o.a.createElement(p.b,{to:"/".concat(l,"/products/").concat(t.slug,"/").concat(t.id,"}")},o.a.createElement(w.a,{src:t.image,origin:"original",alt:t["name_".concat(l)],pb:"calc(100% * 286/210)"})),o.a.createElement("div",{className:""},o.a.createElement(p.b,{to:"/".concat(l,"/products/").concat(t.slug,"/").concat(t.id,"}")},o.a.createElement("h1",{className:"font-semibold uppercase"},"".concat(t["name_".concat(l)]))),o.a.createElement(C.a,{initialRating:t.rating_avg,emptySymbol:o.a.createElement(k.t,{className:"text-main-color"}),fullSymbol:o.a.createElement(k.d,{className:"text-main-color"}),className:"pt-1",readonly:!0}),o.a.createElement("div",{className:"flex text-sm  items-center my-2 "},o.a.createElement("button",{onClick:function(){a(t.id)},className:"border-main-color hover:bg-main-color hover:text-main-text transition duration-100 text-main-color border text-sm uppercase flex items-center justify-center  p-2 rounded  font-semibold ",style:{width:"200px"}},n===t.id?o.a.createElement(N.a,{type:"ThreeDots",color:"#fff",height:21,width:21,visible:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:"mx-2 whitespace-no-wrap"},i({id:"remove-from-wishlist"})))))))}function L(e){var t=e.wishlistItemsLoading,a=e.wishlistItems,n=e.handleRemoveItemFromWishList,c=e.removeFromWishListButtonLoading,i=Object(d.a)(),l=i.formatMessage,s=i.locale;return t?o.a.createElement(f.a,{locale:s}):o.a.createElement("div",null,0===a.length&&o.a.createElement(y,null),0!==a.length&&o.a.createElement(r.b,null,o.a.createElement(r.c.div,{layout:!0,initial:!1,className:"grid grid-cols-1 gap-2"},o.a.createElement(r.c.div,{layout:!0,className:"wishlist-grid-titles mb-2"},o.a.createElement("h1",{className:"text-lg font-semibold"},l({id:"wishlist"}))),o.a.createElement(r.c.hr,{layout:!0}),o.a.createElement(r.a,null,a.map((function(e){return o.a.createElement(j,{key:e.id,item:e,handleRemoveItemFromWishList:n,removeFromWishListButtonLoading:c})}))))))}var O=a(282);function _(){return o.a.createElement(O.a,null)}var I=a(18),M=a(34);function F(e){var t=e.userId,a=Object(d.a)().formatMessage,n=o.a.useState(null),s=Object(l.a)(n,2),f=s[0],p=s[1],E=o.a.useState(!1),b=Object(l.a)(E,2),y=b[0],g=b[1],N=o.a.useContext(I.a).authenticationLoading,w=o.a.useContext(M.a),C=w.wishlistItems,k=w.wishlistItemsLoading,j=w.isGetWishlistError,O=w.removeFromWishListMutation,F=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(a),e.prev=1,e.next=4,O({id:a,userId:t});case 4:p(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(h.a,null,o.a.createElement(m.a,null,o.a.createElement("title",null,a({id:"wishlist"})," | MRG")),o.a.createElement(r.a,null,y&&o.a.createElement(x.a,{key:"side-cart",setSideMenuOpen:g}),y&&o.a.createElement(r.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return g(!1)},className:"side__addCart-bg"})),o.a.createElement("div",{className:"px-4 py-2 max-w-default mx-auto"},N&&o.a.createElement(u.a,null),!N&&t&&!j&&o.a.createElement("div",{className:"wishlist-main-grid"},o.a.createElement(L,{wishlistItemsLoading:k,wishlistItems:C,handleRemoveItemFromWishList:F,removeFromWishListButtonLoading:f}),o.a.createElement(_,null)),o.a.createElement("hr",{className:"my-4"}),o.a.createElement(v.a,{type:"latest_products",title:"New Arrivals",cb:function(){g(!0)}})))}}}]);
//# sourceMappingURL=22.a80e9a48.chunk.js.map