(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[25],{321:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ue}));var n=a(1),l=a.n(n),r=a(145),c=a(5),i=a(64),s=a(31),m=a(4),o=a(18),d=a(78);function u(){return l.a.createElement(d.a,{speed:2,viewBox:"0 0 250 98",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},l.a.createElement("ellipse",{x:"48",y:"48",rx:"50",ry:"50",width:"30",height:"46"}),l.a.createElement("rect",{x:"80",y:"25",rx:"5",ry:"5",width:"140",height:"25"}),l.a.createElement("rect",{x:"80",y:"55",rx:"5",ry:"5",width:"140",height:"25"}),l.a.createElement("rect",{x:"80",y:"85",rx:"5",ry:"5",width:"140",height:"25"}))}var h=a(65);function p(){var e=Object(i.a)().formatMessage,t=l.a.useContext(o.a),a=t.userData,n=t.authenticationLoading,r=t.authenticationFetching,s=t.userLogoutMutation;return n||r?l.a.createElement(u,null):l.a.createElement(c.c.div,{className:"flex mb-4 rounded-lg  p-2 border shadow-itemsSlider-shallow overflow-hidden "},l.a.createElement("div",{className:"flex items-center justify-center",style:{flexBasis:"20%"}},l.a.createElement("div",{className:"p-2 text-xl font-bold text-body-light rounded-full bg-gray-500"},null===a||void 0===a?void 0:a.name.split(" ")[0].charAt(0).toUpperCase())),l.a.createElement("div",{className:" flex flex-col items-center flex-1 justify-center font-semibold mx-2 "},l.a.createElement("div",{className:"flex mb-1 font-bold items-center justify-center flex-wrap"},l.a.createElement("h1",null,e({id:"welcome-user"})," "),l.a.createElement("h1",{className:"mx-1"},null===a||void 0===a?void 0:a.name)),l.a.createElement("h1",{className:"mb-1"},null===a||void 0===a?void 0:a.mobile),l.a.createElement("button",{onClick:s,className:"text-xs md:text-sm transition duration-100 flex items-center justify-center px-2 py-1 rounded-full bg-main-color text-main-text hover:text-main-color hover:bg-body-light font-semibold"},l.a.createElement(h.b,{className:" w-5 h-5"}),l.a.createElement("span",{className:"mx-1"},e({id:"logout"})))))}function x(){var e=Object(i.a)().formatMessage,t=Object(s.j)().url;return l.a.createElement(c.c.div,{initial:!1,layout:!0,className:" flex flex-col self-start "},l.a.createElement(p,null),l.a.createElement("div",{className:"flex flex-col rounded-lg overflow-hidden shadow-itemsSlider-shallow "},[{url:"",name:"my-profile"},{url:"/addresses",name:"my-addresses"},{url:"/orders",name:"my-orders"}].map((function(a){return l.a.createElement("div",{key:a.name},l.a.createElement(m.c,{exact:!0,className:"w-full text-lg font-semibold px-6 py-4 inline-block text-center ",activeClassName:"font-bold bg-main-color text-main-text transition duration-100 ",to:"".concat(t).concat(a.url)},e({id:a.name})),l.a.createElement("hr",null))}))))}var b=a(2),f=a(35),E=a(3),v=a.n(E),y=a(6),g=a(43),N=a(24),w=a(29),j=a(16),k=a.n(j),O=(a(28),a(23));function S(e){var t=e.userData,a=e.setProfileEditModalOpen,n=e.editMutation,r=l.a.useState(!1),s=Object(b.a)(r,2),m=s[0],o=s[1],d=l.a.useState(""),u=Object(b.a)(d,2),h=u[0],p=u[1],x=Object(i.a)(),f=x.formatMessage,E=x.locale,j=N.a({email:N.c().email(f({id:"email-validation"})),name:N.c().required(f({id:"fullname-empty"}))});return l.a.createElement(c.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed bg-body-light  z-50 top-0 w-full h-full left-0 "},m&&l.a.createElement(g.a,{message:h,closeFunction:function(){o(!1)}}),l.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},l.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return a(!1)}},"en"===E?l.a.createElement(O.f,{className:"w-6 h-6 "}):l.a.createElement(O.g,{className:"w-6 h-6 "})),l.a.createElement("h1",{className:" text-lg mx-4"},f({id:"edit-personal-information"}))),l.a.createElement(w.a,{initialValues:{email:t.email||"",name:t.name},validationSchema:j,onSubmit:function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.prev=1,e.next=4,n(t);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o(!0),p(f({id:"something-went-wrong-snackbar"}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting;return l.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},l.a.createElement(_,{label:f({id:"full-name"}),name:"name",value:a.name,type:"text"}),l.a.createElement(_,{label:f({id:"email-address"}),name:"email",value:a.email,type:"email"}),l.a.createElement("div",{className:"mt-1"},l.a.createElement("button",{type:"submit",className:"\n                 \n                      bg-main-color text-second-nav-text-light hover:bg-red-800\n                   w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase "},n&&l.a.createElement(k.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:n}),!n&&f({id:"save-button"}))))})))}var _=function(e){var t=e.label,a=(e.value,e.name),n=Object(f.a)(e,["label","value","name"]),r=Object(w.b)(a),c=Object(b.a)(r,2),i=c[0],s=c[1];return l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),l.a.createElement("input",Object.assign({},i,n,{onBlur:function(e){i.onBlur(e)},className:" w-full rounded-lg border p-2 mt-1"})),s.touched&&s.error?l.a.createElement("h1",{className:"text-xs text-main-color mt-1"},s.error):l.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},C=a(286);function M(e){var t=e.setPasswordChangeModalOpen,a=e.changePasswordMutation,n=Object(i.a)(),r=n.formatMessage,s=n.locale,m=l.a.useState(!1),o=Object(b.a)(m,2),d=o[0],u=o[1],h=l.a.useState(""),p=Object(b.a)(h,2),x=p[0],f=p[1],E=l.a.useState(!1),j=Object(b.a)(E,2),S=j[0],_=j[1],M=l.a.useState(""),D=Object(b.a)(M,2),A=D[0],R=D[1],z=function(){u(!1)},F=N.a({newPassword:N.c().required(r({id:"password-empty"})).min(6,r({id:"password-min-6"})).max(15,r({id:"password-max-15"})),confirmPassword:N.c().required(r({id:"password-empty"})).when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:N.c().oneOf([N.b("newPassword")],r({id:"same-password"}))})});return l.a.createElement(c.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed bg-body-light  z-50 top-0 w-full h-full left-0 "},d&&l.a.createElement(g.a,{message:x,closeFunction:z}),S&&l.a.createElement(C.a,{message:A,closeFunction:z}),l.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},l.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return t(!1)}},"en"===s?l.a.createElement(O.f,{className:"w-6 h-6 "}):l.a.createElement(O.g,{className:"w-6 h-6 "})),l.a.createElement("h1",{className:" text-lg font-semibold mx-4"},r({id:"change-password"}))),l.a.createElement(w.a,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:F,onSubmit:function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,e.next=4,a(t);case 4:R(r({id:"password-change-success"})),_(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),u(!0),f(r({id:"something-went-wrong-snackbar"}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting;return l.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},l.a.createElement(P,{label:r({id:"old-password"}),name:"oldPassword",value:a.oldPassword,type:"password"}),l.a.createElement(P,{label:r({id:"new-password"}),name:"newPassword",value:a.newPassword,type:"password"}),l.a.createElement(P,{label:r({id:"confirm-password"}),name:"confirmPassword",value:a.confirmPassword,type:"password"}),l.a.createElement("div",{className:"mt-1"},l.a.createElement("button",{type:"submit",className:"\n                      bg-main-color text-main-text hover:bg-red-800\n                   w-full rounded flex items-center justify-center p-2 font-semibold  transition duration-150 uppercase "},n&&l.a.createElement(k.a,{type:"ThreeDots",color:"#fff",height:25,width:25,visible:n}),!n&&r({id:"save-button"}))))})))}var P=function(e){var t=e.label,a=(e.value,e.name),n=Object(f.a)(e,["label","value","name"]),r=Object(w.b)(a),c=Object(b.a)(r,2),i=c[0],s=c[1];return l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),l.a.createElement("input",Object.assign({},i,n,{onBlur:function(e){i.onBlur(e)},className:"".concat(s.touched&&s.error&&"border-main-color"," w-full rounded-lg border p-2 mt-1")})),s.touched&&s.error?l.a.createElement("h1",{className:"text-sm text-main-color mt-1"},s.error):l.a.createElement("h1",{className:"text-sm text-main-color mt-1",style:{height:"22px"}}," "))},D=a(277),A=a.n(D);function R(){var e=Object(i.a)().formatMessage,t=l.a.useState(!1),a=Object(b.a)(t,2),n=a[0],r=a[1],s=l.a.useState(!1),m=Object(b.a)(s,2),d=m[0],u=m[1],h=l.a.useContext(o.a),p=h.userData,x=h.editMutation,f=h.authenticationLoading,E=h.authenticationFetching,v=h.changePasswordMutation,y={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}};return f||E?l.a.createElement(c.c.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{height:"calc(-90px + 100vh)"}},l.a.createElement("div",{className:"flex h-full justify-center items-center"},l.a.createElement(k.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}))):l.a.createElement(c.c.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{height:"calc(-90px + 100vh)"}},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"bg-main-color text-main-text px-3 py-3 flex items center justify-between"},l.a.createElement("h1",{className:"text-lg"},e({id:"general-information"})),l.a.createElement("button",{onClick:function(){return r(!0)},className:"px-4 text-sm py-1 font-semibold bg-body-light text-btn-primary-light rounded"},e({id:"edit"}))),l.a.createElement("div",{className:" "},l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:" font-bold w-2/4"},e({id:"full-name"})),l.a.createElement("h1",{className:""},p.name)),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:" font-bold w-2/4"},e({id:"phone-number"})),l.a.createElement("h1",{className:""},p.mobile)),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:" font-bold w-2/4"},e({id:"email-address"})),l.a.createElement("h1",{className:""},p.email)),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:" font-bold w-2/4"},e({id:"date-joined"})),l.a.createElement("h1",{className:""},A()(p.created_at).format("DD/MM/YYYY"))),l.a.createElement("hr",null)))),l.a.createElement("div",{className:"flex items-center justify-end  py-4 px-3"},l.a.createElement("button",{onClick:function(){return u(!0)},className:"px-4 py-1 bg-main-color text-main-text font-semibold rounded uppercase"},e({id:"change-password"}))),l.a.createElement(c.a,null,n&&l.a.createElement(S,{userData:p,setProfileEditModalOpen:r,editMutation:x})),l.a.createElement(c.a,null,d&&l.a.createElement(M,{setPasswordChangeModalOpen:u,changePasswordMutation:v})))}var z=a(281),F=a(287);function T(e){var t=e.data,a=e.handleRemoveLocation,n=e.deleteButtonLoading,r=Object(i.a)().formatMessage,s=l.a.useState(null),m=Object(b.a)(s,2),o=m[0],d=m[1];return l.a.createElement(c.c.div,{layout:!0,variants:{hidden:{opacity:0},visible:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"},exited:{opacity:0,clipPath:"polygon(0 54%, 100% 53%, 100% 53%, 0 54%)"}},initial:"hidden",animate:"visible",exit:"exited",className:"rounded border shadow-itemsSlider-shallow flex flex-col bg-body-light"},l.a.createElement(c.c.div,{layout:!0,style:{position:"relative"}},"map"===t.type?l.a.createElement(F.a,{height:150,width:200,lat:t.lat,lng:t.lng,alt:t.address_name}):l.a.createElement("div",{className:"p-2 text-sm border-b",style:{height:"150px"}},l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-apartment-short"}),":"),l.a.createElement("h1",null,t.apartment_house_number)),l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-building-short"}),":"),l.a.createElement("h1",null,t.building_tower_number)),l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-phone-short"}),":"),l.a.createElement("h1",null,t.phone_number))),"map"===t.type&&l.a.createElement(c.c.div,{variants:{partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}},initial:"partial",animate:o===t.id?"full":"partial",layout:!0,exit:"partial",onClick:function(){return e=t.id,void d(o===e?null:e);var e},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-50 bg-gray-800 hover:opacity-75"},l.a.createElement(O.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),l.a.createElement(c.a,null,o===t.id&&l.a.createElement(c.c.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-sm"},l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-apartment-short"}),":"),l.a.createElement("h1",null,t.apartment_house_number)),l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-building-short"}),":"),l.a.createElement("h1",null,t.building_tower_number)),l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-phone-short"}),":"),l.a.createElement("h1",null,t.phone_number)))))),l.a.createElement(c.c.div,{layout:!0,className:"p-2 flex flex-1 flex-col"},l.a.createElement("div",{className:"text-xs text-gray-600 font-semibold"},l.a.createElement("h1",null,t.address_name)),l.a.createElement("div",{className:"text-sm mb-2 font-semibold flex-1"},l.a.createElement("h1",null,"text"===t.type?t.userTyped_address:t.marked_address),t.addition_direction&&l.a.createElement("h1",null,t.addition_direction)),l.a.createElement("button",{onClick:function(){return a(t.id)},className:" ".concat(n===t.id?"bg-gray-300":"bg-main-color"," text-main-text rounded  p-2 uppercase   text-sm w-full flex justify-center mt-auto")},n===t.id?l.a.createElement(k.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:!0}):l.a.createElement("h1",null,r({id:"remove-location"})))))}var L=a(102),B=a.n(L);function Y(e){var t=e.locations,a=e.setShowMap,n=Object(i.a)().formatMessage,r=l.a.useContext(o.a).deleteAddressMutation,s=l.a.useState(null),m=Object(b.a)(s,2),d=m[0],u=m[1],h=l.a.useState(!1),p=Object(b.a)(h,2),x=p[0],f=p[1],E=l.a.useState(""),N=Object(b.a)(E,2),w=N[0],j=N[1],k=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(t),e.next=4,r(t);case 4:a(!1),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),u(null),f(!0),j({id:"something-went-wrong-snackbar"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"h-full"},x&&l.a.createElement(g.a,{message:w,closeFunction:function(){f(!1)}}),l.a.createElement("div",{className:" p-3  bg-main-color text-main-text"},l.a.createElement("h1",{className:"text-lg font-semibold"},n({id:"my-addresses"}))),l.a.createElement(c.b,null,l.a.createElement(c.c.div,{layout:!0,className:"p-3 locations-grid__desktop"},l.a.createElement(c.a,null,t.map((function(e){return l.a.createElement(T,{key:e.id,data:e,handleRemoveLocation:k,deleteButtonLoading:d})}))),l.a.createElement(c.c.button,{layout:!0,key:"add-button",onClick:function(){return a(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text"},l.a.createElement(B.a,{background:!0}),l.a.createElement(O.q,{className:"h-8 w-8"})))))}var q=a(303);function H(){var e=l.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],r=l.a.useContext(o.a),i=r.userAddresses;return r.userAddressesLoading?l.a.createElement("div",{className:"flex h-full justify-center items-center"},l.a.createElement(k.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})):l.a.createElement(c.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"h-full"},!a&&(0===i.length?l.a.createElement(q.a,{setShowMap:n}):l.a.createElement(Y,{locations:i,setShowMap:n})),a&&l.a.createElement("div",{className:"relative h-full"},l.a.createElement(z.a,{setShowMap:n})))}var V=a(13),W=a(17),I=a(304),U=a.n(I);function J(){var e=Object(i.a)(),t=e.formatMessage,a=e.locale;return l.a.createElement("div",{className:"flex flex-col justify-center items-center h-full"},l.a.createElement("img",{src:U.a,alt:"map",className:"mb-6",style:{height:"200px"}}),l.a.createElement("div",{className:"flex flex-col items-center "},l.a.createElement("h1",{className:"text-lg text-center font-bold"},t({id:"no-orders-placed"})),l.a.createElement(m.b,{to:"/".concat(a,"/"),className:" mt-3  font-semibold flex items-center rounded px-4 py-2  \n            bg-main-color text-main-text"},l.a.createElement("h1",{className:"mx-2 uppercase"},t({id:"start-shopping-now"})),l.a.createElement(O.c,{className:"w-20p h-20p"}))))}var G=a(21),K=a(110),Q=a.n(K),X=a(111),Z=a.n(X),$=a(115),ee=a.n($),te=a(112),ae=a.n(te),ne=a(7);function le(e){var t=e.order,a=e.handleShowAddReviews,n=e.index,r=Object(i.a)().formatMessage,s=l.a.useState(!1),m=Object(b.a)(s,2),o=m[0],d=m[1],u=t.status;return l.a.createElement(c.c.div,{layout:!0,className:"rounded border"},function(){switch(u){case"completed":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark flex items-center  px-3 py-2 font-semibold bg-green-700  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-completed"})));case"canceled":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-main-color  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-cancelled"})));case"pending":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark  flex items-center px-3 py-2 font-semibold bg-yellow-600  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-pending"})));case"delivery":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark  flex items-center px-3 py-2 font-semibold bg-blue-600  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-delivery"})));case"waiting_for_payment":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-yellow-600  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-waiting-for-payment"})));case"confirmed":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-blue-600  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-confirmed"})));case"new":return l.a.createElement(c.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-blue-600  "},l.a.createElement("h1",null,r({id:"order-status"})),":",l.a.createElement("h1",{className:"mx-1"},r({id:"order-new"})))}}(),l.a.createElement(c.c.div,{layout:!0,className:"my-orders-grid__desktop p-3 bg-gray-900 text-main-text"},l.a.createElement(c.c.div,{layout:!0},l.a.createElement("div",{className:"font-semibold"},l.a.createElement("h1",{className:"text-gray-500"},r({id:"order-date"})," :"),l.a.createElement("h1",null," ",A()(t.created_at).format("DD/MM/YYYY - HH:MM"))),l.a.createElement("div",null,l.a.createElement("h1",{className:"text-gray-500 font-semibold"},r({id:"payment-method"}),":"),"knet"===t.payment_method?l.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},l.a.createElement("img",{src:Q.a,alt:t.payment_method}),l.a.createElement("div",{className:"flex-1 mx-3 text-left"},"K-net")):"credit"===t.payment_method?l.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},l.a.createElement("img",{src:Z.a,alt:t.payment_method}),l.a.createElement("div",{className:"flex-1 mx-3 text-left"},"Credit Card")):"amex"===t.payment_method?l.a.createElement("div",{className:" flex  items-center justify-start  p-2 font-semibold"},l.a.createElement("img",{src:ae.a,alt:t.payment_method}),l.a.createElement("div",{className:"flex-1 mx-3 text-left"},"American Express")):"cod"===t.payment_method?l.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},l.a.createElement("img",{src:ee.a,alt:t.payment_method}),l.a.createElement("div",{className:"flex-1 mx-3 text-left"},r({id:"cash-on-delivery"}))):void 0),"canceled"!==u&&l.a.createElement("button",{onClick:function(){return a(n)},className:"rounded text-main-text p-2 font-semibold bg-green-700"},r({id:"add-reviews"}))),l.a.createElement(c.c.div,{className:"flex justify-between",layout:!0},l.a.createElement("div",{className:"mx-1"},l.a.createElement("h1",{className:"font-bold text-lg"},r({id:"delivery-address"})),l.a.createElement("div",{className:" font-semibold"},l.a.createElement("h1",{className:"text-gray-500 "},r({id:"location"})),l.a.createElement("h1",null,"".concat("map"===t.address.type?t.address.marked_address:t.address.userTyped_address))),l.a.createElement("div",{className:"font-semibold"},l.a.createElement("h1",{className:"text-gray-500 "},r({id:"maps-detailed-address-apartment"})),l.a.createElement("h1",null,t.address.apartment_house_number)),t.address.building_tower_number&&l.a.createElement("div",{className:"font-semibold"},l.a.createElement("h1",{className:"text-gray-500 "},r({id:"maps-detailed-address-building"})),l.a.createElement("h1",null,t.address.building_tower_number)),t.address.addition_direction&&l.a.createElement("div",{className:"font-semibold"},l.a.createElement("h1",{className:"text-gray-500 "},r({id:"maps-details-extra-details"})),l.a.createElement("h1",null,t.address.addition_direction))),l.a.createElement(c.c.div,{layout:!0},"map"===t.address.type&&t.address.lat&&l.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(t.address.lat,",").concat(t.address.lng,"&zoom=15&size=150x150&\n              markers=color:blue%7C").concat(t.address.lat,"-").concat(t.address.lng,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"),alt:"map"})))),l.a.createElement(c.c.div,{layout:!0,className:"p-2 font-semibold flex items-center bg-gray-200 "},l.a.createElement("h1",null,r({id:"show-order-receipt"})),l.a.createElement("button",{onClick:function(){d(!o)},className:"p-1 mx-2 border rounded-full shadow-md"},o?l.a.createElement(G.e,{className:"h-6 w-6"}):l.a.createElement(G.d,{className:"h-6 w-6"}))),o&&l.a.createElement("hr",null),l.a.createElement(c.a,null,o&&l.a.createElement(re,{orderItems:t.items,orderSubtotal:t.subtotal,orderTotal:t.total,shippingCost:t.shipping_cost,coupon:t.coupon,couponCost:t.coupon_cost})))}var re=function(e){var t=e.orderItems,a=e.orderTotal,n=e.orderSubtotal,r=e.shippingCost,s=e.coupon,o=e.couponCost,d=Object(i.a)(),u=d.locale,h=d.formatMessage,p=l.a.useContext(ne.a).deliveryCountry;return l.a.createElement(c.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exited:{opacity:0}},initial:"hidden",animate:"visible",exit:"exited",className:"my-orders-items__grid-desktop p-2"},l.a.createElement("div",{className:"my-orders-items__table-desktop font-semibold text-center mb-1"},l.a.createElement("h1",null,"#"),l.a.createElement("h1",null,h({id:"the-item"})),l.a.createElement("h1",null,h({id:"quantity"})),l.a.createElement("h1",null,h({id:"price"})),l.a.createElement("h1",null,h({id:"total"}))),t.map((function(e,t){return l.a.createElement("div",{key:e.id,className:"my-orders-item-desktop text-sm text-center"},l.a.createElement("div",{className:""},l.a.createElement("h1",{className:""},t+1)),l.a.createElement(m.b,{to:"/".concat(u,"/products/").concat(e.product.slug,"/").concat(e.id),className:"hover:underline truncate uppercase font-semibold block"},e.product.translation[u].title),l.a.createElement("div",{className:""},l.a.createElement("h1",{className:""},e.qty)),l.a.createElement("div",{style:{fontWeight:900}},l.a.createElement("h1",{className:""},e.price," ")),l.a.createElement("div",{style:{fontWeight:900},className:"text-green-700"},l.a.createElement("h1",{className:""},(e.price*e.qty).toFixed(3)," ",null===p||void 0===p?void 0:p.currency.translation[u].symbol)))})),l.a.createElement("hr",{className:"my-1"}),l.a.createElement("div",{className:"my-orders-receipt-summary font-bold"},l.a.createElement("h1",null,h({id:"cart-total"})),l.a.createElement("h1",{className:"text-center"},n," ",l.a.createElement("span",{className:"mx-1"},null===p||void 0===p?void 0:p.currency.translation[u].symbol)),l.a.createElement("h1",null,h({id:"cart-delivery-cost"})),l.a.createElement("h1",{className:"text-center"},"0"===r?h({id:"cart-free"}):r," ",l.a.createElement("span",{className:"mx-1"},null===p||void 0===p?void 0:p.currency.translation[u].symbol)),s&&l.a.createElement("h1",{className:"mb-2"},h({id:"coupon-sale"})),s&&l.a.createElement("h1",{className:"mb-2 text-center"},o,l.a.createElement("span",{className:"mx-1"},null===p||void 0===p?void 0:p.currency.translation[u].symbol)),l.a.createElement("h1",{className:"text-green-700 text-lg font-bold",style:{fontWeight:900}},h({id:"subtotal"})),l.a.createElement("h1",{className:"text-green-700 text-lg font-bold text-center",style:{fontWeight:900}},a," ",null===p||void 0===p?void 0:p.currency.translation[u].symbol)))};function ce(e){var t=e.data,a=e.handleShowAddReviews;return l.a.createElement(c.c.div,{layout:!0,initial:!1,className:"grid grid-cols-1 gap-2"},t.map((function(e,t){return l.a.createElement(le,{key:e.id,index:t,order:e,handleShowAddReviews:a})})))}var ie=a(275);function se(e){var t=e.product,a=e.handleCloseReviewPage,n=Object(i.a)(),r=n.formatMessage,s=n.locale,m=l.a.useState(""),d=Object(b.a)(m,2),u=d[0],h=d[1],p=l.a.useState(2.5),x=Object(b.a)(p,2),f=x[0],E=x[1],N=l.a.useContext(o.a).addReviewMutation,w=l.a.useState(!1),j=Object(b.a)(w,2),S=j[0],_=j[1],C=l.a.useState(""),M=Object(b.a)(C,2),P=M[0],D=M[1],A=l.a.useState(!1),R=Object(b.a)(A,2),z=R[0],F=R[1],T=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,N({id:t.id,review:u,rating:f});case 4:a("success"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),_(!0),D(r({id:"something-went-wrong-snackbar"})),F(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(c.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed  top-0 left-0 right-0 bottom-0 overflow-y-auto overflow-x-hidden bg-body-light z-40",style:{height:"calc(100vh - 62px)"}},S&&l.a.createElement(g.a,{message:P,closeFunction:function(){_(!1)}}),l.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},l.a.createElement("button",{className:"text-white text-center",onClick:a},"en"===s?l.a.createElement(O.f,{className:"w-6 h-6 "}):l.a.createElement(O.g,{className:"w-6 h-6 "})),l.a.createElement("h1",{className:"font-semibold text-lg mx-4"},r({id:"add-review"})," ",t.translation[s].title)),l.a.createElement("div",{className:"p-2"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement("h1",{className:"font-bold text-2xl"},r({id:"what-is-your-rating"})),l.a.createElement(ie.a,{emptySymbol:l.a.createElement(O.t,{className:"text-main-color w-8 h-8"}),fullSymbol:l.a.createElement(O.d,{className:"text-main-color w-8 h-8"}),className:"pt-1 mx-2",initialRating:f,onChange:function(e){return E(e)},fractions:2})),l.a.createElement("h1",{className:"font-semibold text-lg my-2"},r({id:"add-feedback"})," :"),l.a.createElement("textarea",{rows:"6",id:"location",className:" mt-1 w-full rounded border  p-1  ",type:"textarea",value:u,onChange:function(e){return h(e.target.value)}}),l.a.createElement("div",{className:"flex justify-end"},l.a.createElement("button",{onClick:T,className:"p-2 uppercase font-semibold rounded ".concat(u?"bg-main-color text-main-text":"bg-gray-600 text-gray-400"," flex items-center justify-center "),style:{width:"80px"},disabled:!u},z&&l.a.createElement(k.a,{type:"ThreeDots",color:"#fff",height:25,width:25,visible:!0}),!z&&r({id:"submit"})))))}function me(e){var t=e.handleAddReviewClose,a=e.data,n=e.selectedOrder,r=Object(i.a)(),s=r.formatMessage,m=r.locale,o=l.a.useState(!1),d=Object(b.a)(o,2),u=d[0],h=d[1],p=l.a.useState(null),x=Object(b.a)(p,2),f=x[0],E=x[1],v=l.a.useState(!1),y=Object(b.a)(v,2),g=y[0],N=y[1],w=l.a.useState(""),j=Object(b.a)(w,2),k=j[0],S=j[1];return l.a.createElement(c.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed  top-0 left-0 right-0 bottom-0 \n      overflow-y-auto overflow-x-hidden\n       bg-body-light z-30",style:{height:"calc(100vh - 62px)"}},g&&l.a.createElement(C.a,{message:k,closeFunction:function(){N(!1)}}),!u&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},l.a.createElement("button",{className:"text-white text-center",onClick:t},"en"===m?l.a.createElement(O.f,{className:"w-6 h-6 "}):l.a.createElement(O.g,{className:"w-6 h-6 "})),l.a.createElement("h1",{className:"font-semibold text-lg mx-4"},s({id:"add-reviews"}))),l.a.createElement("div",{className:"font-bold text-lg p-2"},l.a.createElement("h1",null,s({id:"select-product-to-review"}))),l.a.createElement("div",{className:"grid grid-cols-1 gap-2 p-2"},a[n].items.map((function(e){var t;return l.a.createElement("div",{key:e.id,onClick:function(){return function(e){h(!0),E(e)}(e.product)},className:"p-3 border cursor-pointer flex items-center hover:shadow hover:bg-gray-100  transition duration-150  rounded-lg"},l.a.createElement("img",{src:"".concat("https://admin.royal-online.co/storage","/small/").concat(null===(t=e.product.image)||void 0===t?void 0:t.link),alt:e.product.translation[m].title,style:{width:"50px",height:"50px"}}),l.a.createElement("h1",{className:"mx-4"},e.product.translation[m].title))})))),l.a.createElement(c.a,null,u&&l.a.createElement(se,{product:f,handleCloseReviewPage:function(e){h(!1),"success"===e&&setTimeout((function(){N(!0),S(s({id:"review-added"}))}),300)}})))}function oe(){var e=Object(V.c)("userOrders",Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.H)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!0}),t=e.data,a=e.isLoading,n=l.a.useState(!1),r=Object(b.a)(n,2),i=r[0],s=r[1],m=l.a.useState(null),o=Object(b.a)(m,2),d=o[0],u=o[1];if(a)return l.a.createElement("div",{className:"flex h-full justify-center items-center"},l.a.createElement(k.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}));return l.a.createElement(c.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"relative overflow-y-auto",style:{height:"calc(100vh - 62px)"}},0===t.length&&l.a.createElement(J,null),!i&&0!==t.length&&l.a.createElement(ce,{handleShowAddReviews:function(e){s(!0),u(e)},data:t}),l.a.createElement(c.a,null,i&&l.a.createElement(me,{handleAddReviewClose:function(){s(!1)},data:t,selectedOrder:d})))}var de=a(70);function ue(){var e=Object(i.a)().formatMessage,t=Object(s.j)().path,a=Object(s.h)();return l.a.createElement(de.a,null,l.a.createElement(r.b,null,l.a.createElement("title",null,"".concat(e({id:"my-account"})," | MRG"))),l.a.createElement("div",{className:"relative  overflow-hidden myaccount__grid p-4 pb-3 \n          bg-body-light text-body-text-light max-w-default mx-auto",style:{minHeight:"calc(-62px + 100vh)"}},l.a.createElement(x,null),l.a.createElement(c.b,null,l.a.createElement(c.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"rounded-lg overflow-hidden h-full shadow-itemsSlider-shallow"},l.a.createElement(c.a,{exitBeforeEnter:!0},l.a.createElement(s.d,{location:a,key:a.key},l.a.createElement(s.b,{path:"".concat(t),exact:!0,component:R}),l.a.createElement(s.b,{path:"".concat(t,"/addresses"),component:H}),l.a.createElement(s.b,{path:"".concat(t,"/orders"),component:oe})))))))}}}]);
//# sourceMappingURL=25.d2fd9ac2.chunk.js.map