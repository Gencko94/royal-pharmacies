{"version":3,"sources":["components/Swipers/SwiperItem.js","components/Swipers/VariantSwiperItem.js","components/Swipers/StaticSwiper.js","components/Home/SwiperLoader.js"],"names":["SwiperItem","item","setCartMenuOpen","setErrorOpen","setErrorMessage","useIntl","formatMessage","locale","deliveryCountry","React","useContext","DataProvider","useState","showAddButton","setShowAddButton","addToCartButtonLoading","setAddToCartButtonLoading","userId","AuthProvider","message","setMessage","quantity","setQuantity","CartAndWishlistProvider","addToGuestCartMutation","addToCartMutation","coupon","handleAddToCart","a","simple_addons","id","newItem","response","data","price","promotion_price","sku","onMouseEnter","onMouseLeave","className","to","slug","LazyImage","src","image","link","alt","translation","title","pb","origin","style","clipPath","calculateDiscountPrice","div","initial","opacity","animate","exit","onClick","width","type","color","height","visible","href","currency","value","toFixed","symbol","parseInt","console","log","VariantSwiperItem","showOptions","setShowOptions","history","useHistory","Object","keys","new_variation_addons","selectedVariation","setSelectedVariant","forEach","variation","selectedOption","setSelectedOption","variantOnly","options","option","isSale","item_id","addon_item_value","resolveImage","y","display","gridTemplateColumns","gap","marginTop","marginBottom","map","i","selected","prev","key","substr","variationName","resolveName","slice","process","length","push","StaticSwiper","cb","errorOpen","errorMessage","useInView","threshold","inView","ref","useQuery","getStaticSwiperData","retry","refetchOnWindowFocus","enabled","isLoading","isIdle","ErrorSnackbar","closeFunction","SwiperLoader","name","fontWeight","freeMode","navigation","spaceBetween","breakpoints","320","slidesPerView","480","640","768","1100","1440","products","SwiperCore","use","Navigation","860","speed","viewBox","backgroundColor","foregroundColor","rtl","x","rx","ry"],"mappings":"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","file":"static/js/1.d7633aa9.chunk.js","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport React from 'react';\r\nimport { useIntl } from 'react-intl';\r\nimport { AuthProvider } from '../../contexts/AuthContext';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport { CartAndWishlistProvider } from '../../contexts/CartAndWishlistContext';\r\nimport { DataProvider } from '../../contexts/DataContext';\r\nimport LazyImage from '../../helpers/LazyImage';\r\nimport { calculateDiscountPrice } from '../../helpers/calculateDiscountPrice';\r\nimport { Link } from 'react-router-dom';\r\nimport { AiOutlineMinus, AiOutlinePlus } from 'react-icons/ai';\r\nexport default function SwiperItem({\r\n  item,\r\n  setCartMenuOpen,\r\n  setErrorOpen,\r\n  setErrorMessage,\r\n}) {\r\n  const { formatMessage, locale } = useIntl();\r\n  const { deliveryCountry } = React.useContext(DataProvider);\r\n  const [showAddButton, setShowAddButton] = React.useState(false);\r\n  const [addToCartButtonLoading, setAddToCartButtonLoading] = React.useState(\r\n    false\r\n  );\r\n  const { userId } = React.useContext(AuthProvider);\r\n\r\n  const [message, setMessage] = React.useState('');\r\n  const [quantity, setQuantity] = React.useState(1);\r\n  const {\r\n    addToGuestCartMutation,\r\n    addToCartMutation,\r\n    coupon,\r\n  } = React.useContext(CartAndWishlistProvider);\r\n  const handleSubstractQuantity = () => {\r\n    if (parseInt(quantity) === 1) {\r\n      return;\r\n    }\r\n    setQuantity(parseInt(quantity) - 1);\r\n  };\r\n  const handleAddQuantity = () => {\r\n    console.log(item.simple_addons.quantity, 'q');\r\n    console.log(quantity, 'qq');\r\n    if (item.simple_addons.quantity !== quantity) {\r\n      setQuantity(parseInt(quantity) + 1);\r\n    }\r\n  };\r\n  const handleAddToCart = async () => {\r\n    if (item.simple_addons?.quantity < 1) {\r\n      setMessage(formatMessage({ id: 'out-of-stock' }));\r\n      return;\r\n    }\r\n    setAddToCartButtonLoading(true);\r\n    if (userId) {\r\n      try {\r\n        const newItem = { id: item.id, quantity };\r\n        await addToCartMutation({ newItem, userId, deliveryCountry, coupon });\r\n        setAddToCartButtonLoading(false);\r\n        setCartMenuOpen(true);\r\n        setMessage(formatMessage({ id: 'added-to-cart' }));\r\n      } catch (error) {\r\n        if (error.response?.data?.message === 'Item founded on the Cart') {\r\n          setMessage(formatMessage({ id: 'added-to-cart' }));\r\n          setAddToCartButtonLoading(false);\r\n        } else {\r\n          setAddToCartButtonLoading(false);\r\n          setErrorOpen(true);\r\n          setErrorMessage(\r\n            formatMessage({ id: 'something-went-wrong-snackbar' })\r\n          );\r\n        }\r\n      }\r\n    } else {\r\n      try {\r\n        const price = item.simple_addons.promotion_price\r\n          ? item.simple_addons.promotion_price\r\n          : item.simple_addons.price;\r\n        const sku = item.simple_addons.sku;\r\n        const newItem = { id: item.id, quantity, price, sku };\r\n        await addToGuestCartMutation({ newItem, deliveryCountry, coupon });\r\n        setAddToCartButtonLoading(false);\r\n        setCartMenuOpen(true);\r\n        setMessage(formatMessage({ id: 'added-to-cart' }));\r\n      } catch (error) {\r\n        setErrorOpen(true);\r\n        setErrorMessage(formatMessage({ id: 'something-went-wrong-snckbar' }));\r\n        setAddToCartButtonLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onMouseEnter={() => {\r\n        if (!message) {\r\n          setShowAddButton(true);\r\n        }\r\n      }}\r\n      onMouseLeave={() => {\r\n        setShowAddButton(false);\r\n      }}\r\n    >\r\n      <div className=\"relative\">\r\n        <Link\r\n          className=\"block relative\"\r\n          to={`/${locale}/products/${item.slug}/${item.id}`}\r\n        >\r\n          <LazyImage\r\n            src={item.image?.link}\r\n            alt={item.translation[locale].title}\r\n            pb=\"calc(100% * 266/210)\"\r\n            origin=\"small\"\r\n          />\r\n          {item.simple_addons?.promotion_price &&\r\n            item.simple_addons.quantity > 0 && (\r\n              <div\r\n                className={`absolute bg-green-800 px-1 text-main-text font-bold top-0   uppercase text-xs ${\r\n                  locale === 'ar' ? 'pl-4 right-0' : 'pr-4 left-0'\r\n                }`}\r\n                style={{\r\n                  clipPath:\r\n                    locale === 'ar'\r\n                      ? 'polygon(0 0, 100% 0, 100% 100%, 0 100%, 14% 50%)'\r\n                      : 'polygon(0% 0%, 100% 0, 86% 50%, 100% 100%, 0% 100%)',\r\n                }}\r\n              >\r\n                {calculateDiscountPrice(\r\n                  item.simple_addons?.price,\r\n                  item.simple_addons?.promotion_price\r\n                )}{' '}\r\n                {formatMessage({ id: 'off' })}\r\n              </div>\r\n            )}\r\n          {item.simple_addons?.quantity < 1 && (\r\n            <div\r\n              className={`absolute bg-main-color  text-main-text font-bold top-0   uppercase text-xs right-0 left-0 text-center`}\r\n            >\r\n              {formatMessage({ id: 'out-of-stock' })}\r\n            </div>\r\n          )}\r\n        </Link>\r\n        <AnimatePresence>\r\n          {showAddButton && item.simple_addons?.quantity > 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={handleAddToCart}\r\n              className=\"flex items-center justify-center absolute w-full bottom-10\"\r\n            >\r\n              <button\r\n                className=\" flex items-center justify-center rounded uppercase p-2 bg-main-color text-main-text text-sm\"\r\n                style={{ width: '110px' }}\r\n              >\r\n                {addToCartButtonLoading ? (\r\n                  <Loader\r\n                    type=\"ThreeDots\"\r\n                    color=\"#fff\"\r\n                    height={21}\r\n                    width={21}\r\n                    visible={true}\r\n                  />\r\n                ) : (\r\n                  formatMessage({ id: 'add-to-cart' })\r\n                )}\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        <AnimatePresence>\r\n          {message && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 0.5 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"absolute top-0 w-full h-full flex items-center justify-center text-main-text bg-gray-800 text-2xl\"\r\n            >\r\n              <h1 className=\"text-center\">{message}</h1>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      <div className={`bg-body-light text-body-text-light`}>\r\n        <div className=\"p-2\" style={{ height: '55px' }}>\r\n          <a\r\n            title={item.translation[locale].title}\r\n            className=\"hover:underline inline-block\"\r\n            href={`/${locale}/products/${item.slug}/${item.id}`}\r\n          >\r\n            <h1 className=\"text-clamp-2 text-xs uppercase font-semibold\">\r\n              {item.translation[locale].title}\r\n            </h1>\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"p-2 flex items-center font-bold justify-between\">\r\n          {item.simple_addons?.promotion_price ? (\r\n            <div className=\"flex items-center\">\r\n              <h1 className=\" text-lg text-main-color\">\r\n                {(\r\n                  item.simple_addons.promotion_price *\r\n                  deliveryCountry?.currency.value\r\n                ).toFixed(3)}\r\n              </h1>\r\n              <span className=\"mx-1 text-sm  text-main-color\">\r\n                {deliveryCountry?.currency.translation[locale].symbol}\r\n              </span>\r\n              <h1 className=\" text-xs mx-1 italic line-through text-gray-700\">\r\n                {(\r\n                  item.simple_addons?.price * deliveryCountry?.currency.value\r\n                ).toFixed(3)}\r\n                <span className=\"\">\r\n                  {deliveryCountry?.currency.translation[locale].symbol}\r\n                </span>\r\n              </h1>\r\n            </div>\r\n          ) : (\r\n            <h1 className=\"text-lg text-main-color\">\r\n              {(\r\n                item.simple_addons?.price * deliveryCountry?.currency.value\r\n              ).toFixed(3)}\r\n              <span className=\"mx-1 text-sm\">\r\n                {deliveryCountry?.currency.translation[locale].symbol}\r\n              </span>\r\n            </h1>\r\n          )}\r\n        </div>\r\n        <div className=\"flex w-full\">\r\n          <button\r\n            onClick={handleSubstractQuantity}\r\n            className=\" flex-1 p-2 border flex items-center justify-center\"\r\n          >\r\n            <AiOutlineMinus />\r\n          </button>\r\n          <p className=\"p-2 flex-1 border-t border-b flex items-center justify-center\">\r\n            {quantity}\r\n          </p>\r\n          <button\r\n            onClick={handleAddQuantity}\r\n            className=\"p-2 flex-1 border flex items-center justify-center\"\r\n          >\r\n            <AiOutlinePlus />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { AnimatePresence, motion } from 'framer-motion';\r\nimport React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport { useIntl } from 'react-intl';\r\nimport { AuthProvider } from '../../contexts/AuthContext';\r\nimport { CartAndWishlistProvider } from '../../contexts/CartAndWishlistContext';\r\nimport { DataProvider } from '../../contexts/DataContext';\r\nimport LazyImage from '../../helpers/LazyImage';\r\nimport { calculateDiscountPrice } from '../../helpers/calculateDiscountPrice';\r\nimport { BiListPlus } from 'react-icons/bi';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nexport default function VariantSwiperItem({\r\n  item,\r\n  setCartMenuOpen,\r\n  setErrorMessage,\r\n  setErrorOpen,\r\n}) {\r\n  const {\r\n    addToCartMutation,\r\n    addToGuestCartMutation,\r\n    coupon,\r\n  } = React.useContext(CartAndWishlistProvider);\r\n  const { formatMessage, locale } = useIntl();\r\n  const { deliveryCountry } = React.useContext(DataProvider);\r\n  const [showAddButton, setShowAddButton] = React.useState(false);\r\n  const [showOptions, setShowOptions] = React.useState(false);\r\n  const history = useHistory();\r\n  const [selectedVariation, setSelectedVariant] = React.useState(() => {\r\n    return Object.keys(item.new_variation_addons)[0];\r\n  });\r\n  const [selectedOption, setSelectedOption] = React.useState(() => {\r\n    let keys = {};\r\n    Object.keys(item.new_variation_addons).forEach(variation => {\r\n      keys[variation] = 0;\r\n    });\r\n    return keys;\r\n  });\r\n  const { userId } = React.useContext(AuthProvider);\r\n  const [message, setMessage] = React.useState('');\r\n  const [addToCartButtonLoading, setAddToCartButtonLoading] = React.useState(\r\n    null\r\n  );\r\n\r\n  const variantOnly = item.new_variation_addons[selectedVariation].options\r\n    ? false\r\n    : true;\r\n  const option = variantOnly\r\n    ? item.new_variation_addons[selectedVariation]\r\n    : item.new_variation_addons[selectedVariation].options[\r\n        selectedOption[selectedVariation]\r\n      ];\r\n  const isSale = item.new_variation_addons[selectedVariation].options\r\n    ? item.new_variation_addons[selectedVariation].options[\r\n        selectedOption[selectedVariation]\r\n      ].promotion_price\r\n      ? true\r\n      : false\r\n    : item.new_variation_addons[selectedVariation].promotion_price\r\n    ? true\r\n    : false;\r\n  const handleAddToCart = async () => {\r\n    if (option.quantity < 1) {\r\n      setMessage(formatMessage({ id: 'out-of-stock' }));\r\n      return;\r\n    }\r\n\r\n    setAddToCartButtonLoading(true);\r\n    if (userId) {\r\n      try {\r\n        const newItem = {\r\n          id: item.id,\r\n          quantity: 1,\r\n          variation: {\r\n            id: item.new_variation_addons?.[selectedVariation].id,\r\n            item_id:\r\n              item.new_variation_addons?.[selectedVariation].addon_item_value,\r\n          },\r\n          option: {\r\n            id:\r\n              item.new_variation_addons?.[selectedVariation].options?.[\r\n                selectedOption[selectedVariation]\r\n              ].id,\r\n            item_id:\r\n              item.new_variation_addons?.[selectedVariation].options?.[\r\n                selectedOption[selectedVariation]\r\n              ].addon_item_value,\r\n          },\r\n        };\r\n        await addToCartMutation({ newItem, userId, deliveryCountry, coupon });\r\n        setAddToCartButtonLoading(false);\r\n        setCartMenuOpen(true);\r\n        setMessage(formatMessage({ id: 'added-to-cart' }));\r\n      } catch (error) {\r\n        if (error.response.data.message === 'Item founded on the Cart') {\r\n          setMessage(formatMessage({ id: 'added-to-cart' }));\r\n          setAddToCartButtonLoading(false);\r\n        } else {\r\n          setErrorOpen(true);\r\n          setErrorMessage(\r\n            formatMessage({ id: 'something-went-wrong-snackbar' })\r\n          );\r\n          setAddToCartButtonLoading(false);\r\n        }\r\n      }\r\n    } else {\r\n      try {\r\n        const price = isSale ? option.promotion_price : option.price;\r\n        const sku = option.sku;\r\n        const newItem = {\r\n          id: item.id,\r\n          quantity: 1,\r\n          variation: {\r\n            id: item.new_variation_addons?.[selectedVariation].id,\r\n            item_id:\r\n              item.new_variation_addons?.[selectedVariation].addon_item_value,\r\n          },\r\n          option: {\r\n            id:\r\n              item.new_variation_addons?.[selectedVariation].options?.[\r\n                selectedOption[selectedVariation]\r\n              ].id,\r\n            item_id:\r\n              item.new_variation_addons?.[selectedVariation].options?.[\r\n                selectedOption[selectedVariation]\r\n              ].addon_item_value,\r\n          },\r\n          price,\r\n          sku,\r\n        };\r\n\r\n        await addToGuestCartMutation({ newItem, deliveryCountry, coupon });\r\n        setAddToCartButtonLoading(false);\r\n        setCartMenuOpen(true);\r\n        setMessage(formatMessage({ id: 'added-to-cart' }));\r\n      } catch (error) {\r\n        setErrorOpen(true);\r\n        setErrorMessage(formatMessage({ id: 'something-went-wrong-snackbar' }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const resolveAddons = () => {\r\n    if (!variantOnly) {\r\n      return Object.keys(item.new_variation_addons)\r\n        .slice(0, 3)\r\n        .map((variation, i) => {\r\n          return item.new_variation_addons[variation].options[\r\n            selectedOption[variation]\r\n          ].image ? (\r\n            <img\r\n              key={i}\r\n              onClick={() => setSelectedVariant(variation)}\r\n              className={`cursor-pointer ${\r\n                selectedVariation === variation && 'border'\r\n              }`}\r\n              alt={item.new_variation_addons[variation].id}\r\n              src={`${process.env.REACT_APP_IMAGES_URL}/small/${\r\n                item.new_variation_addons[variation].options[\r\n                  selectedOption[variation]\r\n                ]?.image\r\n              }`}\r\n            />\r\n          ) : (\r\n            <button\r\n              onClick={() => setSelectedVariant(variation)}\r\n              className={`p-1 ${\r\n                selectedVariation === variation\r\n                  ? 'bg-main-color text-main-text'\r\n                  : ''\r\n              } rounded flex items-center justify-center`}\r\n            >\r\n              {item.new_variation_addons[variation].addon_item_value.substr(\r\n                0,\r\n                1\r\n              )}\r\n            </button>\r\n          );\r\n        });\r\n    } else {\r\n      return Object.keys(item.new_variation_addons)\r\n        .slice(0, 3)\r\n        .map((variation, i) => {\r\n          return item.new_variation_addons[variation].image ? (\r\n            <img\r\n              onClick={() => {\r\n                setSelectedVariant(variation);\r\n              }}\r\n              key={i}\r\n              className={`cursor-pointer ${\r\n                selectedVariation === variation && 'border'\r\n              }`}\r\n              alt={option.id}\r\n              src={`${process.env.REACT_APP_IMAGES_URL}/small/${item.new_variation_addons[variation].image}`}\r\n            />\r\n          ) : (\r\n            <button\r\n              key={i}\r\n              onClick={() => setSelectedVariant(variation)}\r\n              className={`p-1 ${\r\n                selectedVariation === variation\r\n                  ? 'bg-main-color text-main-text'\r\n                  : ''\r\n              } rounded flex items-center justify-center`}\r\n            >\r\n              {item.new_variation_addons[variation].addon_item_value.substr(\r\n                0,\r\n                1\r\n              )}\r\n            </button>\r\n          );\r\n        });\r\n    }\r\n  };\r\n  const resolveImage = () => {\r\n    if (item.new_variation_addons[selectedVariation].options) {\r\n      return (\r\n        <LazyImage\r\n          src={\r\n            item.new_variation_addons[selectedVariation].options[\r\n              selectedOption[selectedVariation]\r\n            ]?.image || item.image?.link\r\n          }\r\n          origin=\"small\"\r\n          alt={item.translation[locale].title}\r\n          pb=\"calc(100% * 266/210)\"\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <LazyImage\r\n          src={\r\n            item.new_variation_addons[selectedVariation].image ||\r\n            item.image?.link\r\n          }\r\n          origin=\"small\"\r\n          alt={item.translation[locale].title}\r\n          pb=\"calc(100% * 266/210)\"\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const resolveName = () => {\r\n    const variationName =\r\n      item.new_variation_addons[selectedVariation].addon_item_value;\r\n    return `${item.translation[locale].title} ${variationName}`;\r\n  };\r\n  return (\r\n    <div\r\n      onMouseEnter={() => setShowAddButton(true)}\r\n      onMouseLeave={() => {\r\n        setShowAddButton(false);\r\n        if (showOptions) {\r\n          setShowOptions(false);\r\n        }\r\n      }}\r\n    >\r\n      <div className=\"relative\">\r\n        <Link\r\n          className=\"block relative\"\r\n          to={`/${locale}/products/${item.slug}/${item.id}`}\r\n        >\r\n          {resolveImage()}\r\n          {isSale && option.quantity > 0 && (\r\n            <div\r\n              className={`absolute bg-main-color px-1 text-main-text font-bold top-0   uppercase text-xs ${\r\n                locale === 'ar' ? 'pl-4 right-0' : 'pr-4 left-0'\r\n              }`}\r\n              style={{\r\n                clipPath:\r\n                  locale === 'ar'\r\n                    ? 'polygon(0 0, 100% 0, 100% 100%, 0 100%, 14% 50%)'\r\n                    : 'polygon(0% 0%, 100% 0, 86% 50%, 100% 100%, 0% 100%)',\r\n              }}\r\n            >\r\n              {calculateDiscountPrice(option.price, option.promotion_price)}{' '}\r\n              {formatMessage({ id: 'off' })}\r\n            </div>\r\n          )}\r\n          {option.quantity < 1 && (\r\n            <div\r\n              className={`absolute bg-main-color  text-main-text font-bold top-0   uppercase text-xs right-0 left-0 text-center`}\r\n            >\r\n              {formatMessage({ id: 'out-of-stock' })}\r\n            </div>\r\n          )}\r\n        </Link>\r\n\r\n        <AnimatePresence>\r\n          {showAddButton && option.quantity > 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => {\r\n                if (item.new_variation_addons[selectedVariation].options) {\r\n                  setShowOptions(true);\r\n                  setShowAddButton(false);\r\n                  return;\r\n                } else {\r\n                  handleAddToCart();\r\n                }\r\n              }}\r\n              className=\"flex items-center justify-center absolute w-full bottom-10\"\r\n            >\r\n              <button\r\n                className=\"flex items-center justify-center rounded uppercase p-2 bg-main-color text-main-text text-sm\"\r\n                style={{ width: '110px' }}\r\n              >\r\n                {addToCartButtonLoading ? (\r\n                  <Loader\r\n                    type=\"ThreeDots\"\r\n                    color=\"#fff\"\r\n                    height={21}\r\n                    width={21}\r\n                    visible={true}\r\n                  />\r\n                ) : (\r\n                  formatMessage({ id: 'add-to-cart' })\r\n                )}\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        <AnimatePresence>\r\n          {showOptions && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: -20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -20 }}\r\n              className=\"absolute top-0 z-2 bg-body-light w-full opacity-75 p-2 border\"\r\n            >\r\n              <h1>\r\n                {formatMessage({ id: 'select' })}{' '}\r\n                {\r\n                  item.new_variation_addons[selectedVariation].options?.[\r\n                    selectedOption[selectedVariation]\r\n                  ][`name_${locale}`]\r\n                }\r\n              </h1>\r\n              <div\r\n                style={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: 'repeat(auto-fill,minmax(20px,35px))',\r\n                  gap: '0.25rem',\r\n                  marginTop: '0.5rem',\r\n                  marginBottom: '0.5rem',\r\n                  width: '100%',\r\n                }}\r\n              >\r\n                {item.new_variation_addons[selectedVariation].options?.map(\r\n                  (option, i) => {\r\n                    const selected = selectedOption[selectedVariation] === i;\r\n                    return (\r\n                      <button\r\n                        onClick={() =>\r\n                          setSelectedOption(prev => {\r\n                            return {\r\n                              ...prev,\r\n                              [selectedVariation]: i,\r\n                            };\r\n                          })\r\n                        }\r\n                        key={option.addon_item_value}\r\n                        className={`hover:bg-main-color hover:text-main-text transition duration-150 p-2 uppercase border text-xs flex items-center justify-center ${\r\n                          selected\r\n                            ? 'bg-main-color text-main-text'\r\n                            : 'text-body-text-light'\r\n                        } `}\r\n                      >\r\n                        {option.addon_item_value.substr(0, 4)}\r\n                      </button>\r\n                    );\r\n                  }\r\n                )}\r\n              </div>\r\n              <div className=\"w-full flex justify-center items-center \">\r\n                <button\r\n                  className={`p-2 bg-green-700 rounded text-sm text-main-text `}\r\n                  onClick={handleAddToCart}\r\n                >\r\n                  {addToCartButtonLoading ? (\r\n                    <Loader\r\n                      type=\"ThreeDots\"\r\n                      color=\"#fff\"\r\n                      height={20}\r\n                      width={20}\r\n                      visible={true}\r\n                    />\r\n                  ) : (\r\n                    formatMessage({ id: 'submit' })\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        <AnimatePresence>\r\n          {message && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 0.5 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"absolute top-0 w-full h-full flex items-center justify-center text-main-text bg-gray-800 text-2xl\"\r\n            >\r\n              {message}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n      <div className={`bg-body-light text-body-text-light`}>\r\n        <div className=\"p-2\" style={{ height: '55px' }}>\r\n          <a\r\n            title={item.translation[locale].title}\r\n            className=\"hover:underline inline-block\"\r\n            href={`/${locale}/products/${item.slug}/${item.id}`}\r\n          >\r\n            <h1 className=\"font-semibold text-xs text-clamp-2\">\r\n              {resolveName()}\r\n            </h1>\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"p-2 flex items-center justify-between\">\r\n          {isSale ? (\r\n            <div className=\" flex items-center\">\r\n              <h1 className=\"font-bold text-lg text-main-color\">\r\n                {(\r\n                  option.promotion_price * deliveryCountry?.currency.value\r\n                ).toFixed(3)}\r\n                <span className=\"mx-1 text-sm\">\r\n                  {deliveryCountry?.currency.translation[locale].symbol}\r\n                </span>\r\n              </h1>\r\n              <h1 className=\" text-sm mx-1 italic  line-through text-gray-700\">\r\n                {(option.price * deliveryCountry?.currency.value).toFixed(3)}\r\n                <span className=\"\">\r\n                  {deliveryCountry?.currency.translation[locale].symbol}\r\n                </span>\r\n              </h1>\r\n            </div>\r\n          ) : (\r\n            <h1 className=\"font-bold text-lg text-main-color\">\r\n              {(option.price * deliveryCountry?.currency.value).toFixed(3)}\r\n              <span className=\"mx-1 text-sm\">\r\n                {deliveryCountry?.currency.translation[locale].symbol}\r\n              </span>\r\n            </h1>\r\n          )}\r\n        </div>\r\n        <div\r\n          className=\"p-1\"\r\n          style={{\r\n            display: 'grid',\r\n            gap: '0.2rem',\r\n            gridTemplateColumns: 'repeat(auto-fill,32px)',\r\n          }}\r\n        >\r\n          {resolveAddons()}\r\n          {Object.keys(item.new_variation_addons).length > 3 && (\r\n            <button\r\n              onClick={() =>\r\n                history.push(`/${locale}/products/${item.slug}/${item.id}`)\r\n              }\r\n              title={formatMessage({ id: 'show-more' })}\r\n              className={`p-1  border\r\n               rounded flex items-center justify-center`}\r\n            >\r\n              <BiListPlus className=\"text-main-color w-6 h-6\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useIntl } from 'react-intl';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Navigation } from 'swiper';\r\nimport 'swiper/swiper-bundle.css';\r\n\r\nimport { getStaticSwiperData } from '../../Queries/Queries';\r\nimport { useQuery } from 'react-query';\r\nimport SwiperLoader from '../Home/SwiperLoader';\r\nimport SwiperItem from './SwiperItem';\r\nimport VariantSwiperItem from './VariantSwiperItem';\r\nimport { Link } from 'react-router-dom';\r\nimport ErrorSnackbar from '../ErrorSnackbar';\r\nimport { useInView } from 'react-intersection-observer';\r\nSwiperCore.use([Navigation]);\r\nexport default function StaticSwiper({ type, cb, title, id }) {\r\n  const { formatMessage, locale } = useIntl();\r\n  const [errorOpen, setErrorOpen] = React.useState(false);\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const { inView, ref } = useInView({ threshold: 0.1 });\r\n  const closeError = () => {\r\n    setErrorOpen(false);\r\n  };\r\n  const { data, isLoading, isIdle } = useQuery(\r\n    ['staticSwiper', type],\r\n    getStaticSwiperData,\r\n    { retry: true, refetchOnWindowFocus: false, enabled: inView }\r\n  );\r\n\r\n  const breakpoints = {\r\n    // when window width is >= 320px\r\n    320: {\r\n      slidesPerView: 2,\r\n      spaceBetween: 20,\r\n    },\r\n    // when window width is >= 480px\r\n    480: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 20,\r\n    },\r\n    // when window width is >= 640px\r\n    640: {\r\n      slidesPerView: 4,\r\n      spaceBetween: 20,\r\n    },\r\n    768: {\r\n      slidesPerView: 5,\r\n      spaceBetween: 20,\r\n    },\r\n    1100: {\r\n      slidesPerView: 7,\r\n      spaceBetween: 20,\r\n    },\r\n    1440: {\r\n      slidesPerView: 8,\r\n      spaceBetween: 20,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div ref={ref} className=\"my-8\">\r\n      {errorOpen && (\r\n        <ErrorSnackbar message={errorMessage} closeFunction={closeError} />\r\n      )}\r\n      {(isLoading || isIdle) && (\r\n        <div className=\"mb-4 \" style={{ height: '30px' }}></div>\r\n      )}\r\n      {(isLoading || isIdle) && <SwiperLoader />}\r\n      {!isLoading && !isIdle && (\r\n        <div className=\"flex items-center mb-4\">\r\n          <h1 className=\"text-2xl  flex-1 font-bold \">\r\n            {data?.title[locale]?.name}\r\n          </h1>\r\n          {type !== 'latest_products' && type !== 'best_seller' && (\r\n            <Link\r\n              to={`/${locale}/category/${data?.slug}/${id}`}\r\n              className=\"py-1 px-2  bg-main-color text-second-nav-text-light rounded whitespace-no-wrap\"\r\n              style={{ fontWeight: '900' }}\r\n            >\r\n              {formatMessage({ id: 'seeAll' })}\r\n            </Link>\r\n          )}\r\n        </div>\r\n      )}\r\n      {!isLoading && !isIdle && (\r\n        <Swiper\r\n          freeMode\r\n          navigation\r\n          id=\"main\"\r\n          spaceBetween={5}\r\n          breakpoints={breakpoints}\r\n        >\r\n          {data.products.map(item => {\r\n            return (\r\n              <SwiperSlide\r\n                key={item.id}\r\n                className={`overflow-hidden   relative my-2 rounded`}\r\n              >\r\n                {item.type === 'variation' &&\r\n                Object.keys(item.new_variation_addons).length > 0 ? (\r\n                  <VariantSwiperItem\r\n                    item={item}\r\n                    setCartMenuOpen={cb}\r\n                    setErrorMessage={setErrorMessage}\r\n                    setErrorOpen={setErrorOpen}\r\n                  />\r\n                ) : (\r\n                  <SwiperItem\r\n                    item={item}\r\n                    setCartMenuOpen={cb}\r\n                    setErrorMessage={setErrorMessage}\r\n                    setErrorOpen={setErrorOpen}\r\n                  />\r\n                )}\r\n              </SwiperSlide>\r\n            );\r\n          })}\r\n        </Swiper>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\nimport { useIntl } from 'react-intl';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nexport default function SwiperLoader() {\r\n  const { locale } = useIntl();\r\n  const breakpoints = {\r\n    // when window width is >= 320px\r\n    320: {\r\n      slidesPerView: 2,\r\n      spaceBetween: 20,\r\n    },\r\n    // when window width is >= 480px\r\n    480: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 20,\r\n    },\r\n    // when window width is >= 640px\r\n    640: {\r\n      slidesPerView: 4,\r\n      spaceBetween: 20,\r\n    },\r\n    860: {\r\n      slidesPerView: 5,\r\n      spaceBetween: 20,\r\n    },\r\n    1100: {\r\n      slidesPerView: 7,\r\n      spaceBetween: 20,\r\n    },\r\n    1440: {\r\n      slidesPerView: 8,\r\n      spaceBetween: 20,\r\n    },\r\n  };\r\n  return (\r\n    <Swiper id=\"main\" spaceBetween={10} breakpoints={breakpoints}>\r\n      {[0, 1, 2, 3, 4, 5, 6, 7].map(i => (\r\n        <SwiperSlide key={i} className=\" my-1\">\r\n          <ContentLoader\r\n            speed={2}\r\n            viewBox=\"0 0 165 321\"\r\n            backgroundColor=\"#f3f3f3\"\r\n            foregroundColor=\"#ecebeb\"\r\n            rtl={locale === 'ar'}\r\n          >\r\n            <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"100%\" height=\"321\" />\r\n          </ContentLoader>\r\n        </SwiperSlide>\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}\r\n"],"sourceRoot":""}