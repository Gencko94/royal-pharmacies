(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[17],{463:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s(2);var c=s(104),a=s(78),n=s(1);function r(){var e=Object(a.a)().locale;return Object(n.jsx)("div",{className:"mt-4",children:Object(n.jsxs)(c.a,{speed:3,viewBox:"0 0 400 450",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",rtl:"ar"===e,children:[Object(n.jsx)("rect",{x:"0",y:"0",rx:"1",ry:"1",width:"28%",height:"85"}),Object(n.jsx)("rect",{x:"30%",y:"0",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"30px",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"60px",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"0",y:"105",rx:"1",ry:"1",width:"28%",height:"85"}),Object(n.jsx)("rect",{x:"30%",y:"105",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"135",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"165",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"0",y:"210",rx:"1",ry:"1",width:"28%",height:"85"}),Object(n.jsx)("rect",{x:"30%",y:"210",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"240",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"270",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"0",y:"315",rx:"1",ry:"1",width:"28%",height:"85"}),Object(n.jsx)("rect",{x:"30%",y:"315",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"345",rx:"1",ry:"1",width:"77%",height:"25"}),Object(n.jsx)("rect",{x:"30%",y:"375",rx:"1",ry:"1",width:"77%",height:"25"})]})})}},477:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s(2);var c=s(17),a=s.n(c),n=(s(38),s(1));function r(){return Object(n.jsx)("div",{className:"py-1 mx-2 flex items-center justify-center",style:{minHeight:"calc(-80px + 100vh)"},children:Object(n.jsx)(a.a,{type:"ThreeDots",color:"#b72b2b",height:30,width:30,visible:!0})})}},499:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return J}));var c=s(5),a=s(2),n=s.n(a),r=s(78),i=s(145),l=s(114),o=s(40),d=s(457),x=s(1);function u(e){var t=e.setCheckOutPopupOpen,s=Object(r.a)(),c=s.formatMessage,a=s.locale,n=Object(o.g)();return Object(x.jsxs)(l.a.div,{variants:{hidden:{y:"100%"},visible:{y:0,transition:{type:"tween"}},exited:{y:"100%"}},initial:"hidden",animate:"visible",exit:"exited",className:"cart-checkout-popup-mobile p-2 pb-6 bg-nav-cat-light shadow-lg border-t",children:[Object(x.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(x.jsxs)("h1",{className:"font-semibold",children:[c({id:"not-signed-in"})," ,",c({id:"you-can"})," :"]}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:Object(x.jsx)(d.b,{className:"w-5 h-5"})})]}),Object(x.jsxs)("div",{className:"text-white",style:{display:"grid",gridTemplateColumns:"0.5fr 0.5fr",gap:"0.25rem"},children:[Object(x.jsx)("div",{className:"flex-1",children:Object(x.jsx)("button",{onClick:function(){return n.push("/".concat(a,"/checkout/guest-checkout"))},className:"p-2 text-sm  bg-green-600 rounded w-full text-center uppercase",children:c({id:"guest-checkout"})})}),Object(x.jsx)("div",{className:"flex-1",children:Object(x.jsx)("button",{onClick:function(){return n.push("/".concat(a,"/app/login"))},className:"p-2 text-sm  text-center bg-blue-700 rounded w-full uppercase",children:c({id:"short-login"})})})]})]})}var j=s(18),b=s(4),h=s.n(b),m=s(9),p=s(39),O=s(10),y=s(104);function f(e){var t=e.locale;return Object(x.jsx)("div",{className:" rounded border bg-gray-100 p-2 flex justify-center flex-col mb-2 ",children:Object(x.jsxs)(y.a,{speed:3,viewBox:"0 0 400 240",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",rtl:"ar"===t,style:{alignSelf:"flex-start"},children:[Object(x.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"53"}),Object(x.jsx)("rect",{x:"0",y:"62",rx:"5",ry:"5",width:"100%",height:"53"}),Object(x.jsx)("rect",{x:"0",y:"124",rx:"5",ry:"5",width:"100%",height:"53"}),Object(x.jsx)("rect",{x:"0",y:"186",rx:"5",ry:"5",width:"100%",height:"53"})]})})}var g=s(17),v=s.n(g),N=(s(38),s(148)),w=s(147),k=s(149);function C(){var e=n.a.useContext(O.a).deliveryCountry,t=Object(r.a)().formatMessage;return Object(x.jsxs)("div",{className:"bg-gray-200 -mx-2 p-2 border-b",children:[Object(x.jsx)("h1",{className:"mb-2 text-center font-semibold",children:t({id:"accepted-payments"})}),Object(x.jsx)("div",{className:"flex items-center justify-evenly mb-2",children:function(){var t=[];if(e)return e.payment.forEach((function(e){if(0===e.status)return null;"knet"===e.key&&t.push(Object(x.jsx)("img",{src:w.a,alt:e.key},e.key)),"credit"===e.key&&t.push(Object(x.jsx)("img",{src:N.a,alt:e.key},e.key)),"amex"===e.key&&t.push(Object(x.jsx)("img",{src:k.a,alt:e.key},e.key))})),t}()})]})}function I(){var e=n.a.useContext(p.a),t=e.cartItems,s=e.cartItemsLoading,a=e.cartTotal,i=e.couponCost,l=e.shippingCost,d=e.cartItemsFetching,u=e.cartSubtotal,j=e.checkCouponMutation,b=e.isCheckingCoupon,y=e.setCoupon,g=e.note,N=n.a.useContext(O.a).deliveryCountry,w=n.a.useState(""),k=Object(c.a)(w,2),I=k[0],S=k[1],q=n.a.useState(!1),_=Object(c.a)(q,2),M=_[0],T=_[1],D=n.a.useState(""),F=Object(c.a)(D,2),L=F[0],W=F[1],P=n.a.useState(""),G=Object(c.a)(P,2),H=G[0],E=G[1],z=Object(r.a)(),A=z.formatMessage,B=z.locale,J=Object(o.g)(),K=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!M){e.next=7;break}T(!1),y(null),S(""),e.next=22;break;case 7:if(W(!1),I){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,j({code:I,subtotal:u.toString()});case 13:T(!0),y(I),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(10),T(!1),W(!0),"Coupon expired"===e.t0.response.data.message?E(A({id:"coupon-expired"})):"The selected code is invalid."===(null===(s=e.t0.response.data.message)||void 0===s||null===(c=s.code)||void 0===c?void 0:c[0])||"Coupon not exist"===e.t0.response.data.message?E(A({id:"coupon-invalid"})):"The amount is less then the minimum"===e.t0.response.data.message&&E(A({id:"coupon-conditions-not-met"}));case 22:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();return s?Object(x.jsx)("div",{className:"-mx-2 -mt-1",children:Object(x.jsx)(f,{locale:B})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"bg-gray-200 font-semibold p-2 -mx-2",children:[Object(x.jsxs)("form",{onSubmit:K,className:"rounded border w-full flex mb-1  overflow-hidden ".concat((L||g)&&"border-main-color"),children:[Object(x.jsx)("input",{type:"text",value:I,onChange:function(e){return S(e.target.value)},placeholder:A({id:"cart-enter-code-or-coupon"}),readOnly:M,className:"".concat(M&&"bg-gray-400 text-gray-200"," flex-1 placeholder-gray-700 min-w-0  p-2")}),Object(x.jsx)("button",{type:"submit",className:"bg-main-color flex items-center text-sm justify-center p-2 text-main-text uppercase ",style:{width:"80px"},children:b?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:!0}):A(M?{id:"remove"}:{id:"cart-code-button"})})]}),L&&Object(x.jsx)("h1",{className:"text-main-color text-xs",children:H}),g&&Object(x.jsx)("h1",{className:"text-main-color text-xs",children:A({id:"coupon-limit-reached"})})]}),Object(x.jsxs)("div",{className:"p-2 font-semibold bg-gray-200 -mx-2 border-b",style:{position:"sticky",top:0,zIndex:2},children:[Object(x.jsxs)("div",{className:" flex mb-2  ",children:[Object(x.jsx)("h1",{className:"text-gray-900",children:A({id:"cart-total"})}),Object(x.jsxs)("h1",{className:"mx-1 whitespace-no-wrap flex-1",children:["(","ar"===B?t.length>2&&t.length:"".concat(t.length," "),function(){switch(t.length){case 1:return A({id:"one-item"});case 2:return A({id:"two-items"});case t.length>10:return A({id:"one-items"});default:return A({id:"multiple-items"})}}(),")"]}),Object(x.jsx)("h1",{children:u}),Object(x.jsx)("span",{className:"mx-1",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]}),Object(x.jsxs)("div",{className:"flex items-center mb-2",children:[Object(x.jsx)("h1",{className:"flex-1",children:A({id:"delivery-cost"})}),Object(x.jsx)("h1",{children:0===l?Object(x.jsx)("span",{className:"text-green-700 uppercase font-semibold",children:A({id:"cart-free"})}):Object(x.jsxs)("span",{children:[l,Object(x.jsx)("span",{className:"mx-1",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]})})]}),M&&!g&&Object(x.jsxs)("div",{className:"flex text-green-700 items-center mb-2",children:[Object(x.jsx)("h1",{className:" flex-1",children:A({id:"coupon-sale"})}),d?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#b72b2b",height:22,width:22,visible:!0}):Object(x.jsxs)("h1",{children:[i,Object(x.jsx)("span",{className:"mx-1",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]})]}),Object(x.jsx)("hr",{className:"mb-3"}),Object(x.jsxs)("div",{className:"  flex mb-2 text-lg ",style:{fontWeight:900},children:[Object(x.jsx)("h1",{className:"flex-1 text-gray-900",children:A({id:"subtotal"})}),d?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#b72b2b",height:22,width:22,visible:!0}):Object(x.jsxs)("h1",{className:"text-green-700",children:[a," ",Object(x.jsx)("span",{className:"mx-1 text-green-700",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]})]}),Object(x.jsx)("hr",{className:"mb-3"}),Object(x.jsx)("button",{onClick:function(){J.push("/".concat(B,"/checkout/user-checkout"))},className:"".concat(0===t.length||g?"cursor-not-allowed  bg-gray-600":"bg-green-600"," p-2 rounded text-body-light uppercase w-full flex items-center justify-center  "),disabled:0===t.length||g,children:A({id:"checkout"})})]}),Object(x.jsx)(C,{deliveryCountry:N})]})}var S=s(477),q=s(451),_=s(21),M=s(129),T=s.n(M),D=s(8),F=s(62);function L(e){var t=e.item,s=n.a.useState(!1),a=Object(c.a)(s,2),i=a[0],o=a[1],d=n.a.useState(!1),u=Object(c.a)(d,2),b=u[0],y=u[1],f=n.a.useContext(p.a),g=f.editCartMutation,N=f.addToWishListMutation,w=f.removeFromWishListMutation,k=f.removeFromCartMutation,C=n.a.useContext(j.a).userId,I=n.a.useContext(O.a).deliveryCountry,S=n.a.useState(t.qty),q=Object(c.a)(S,2),M=q[0],L=q[1],W=n.a.useState(!1),P=Object(c.a)(W,2),G=P[0],H=P[1],E=Object(r.a)(),z=E.formatMessage,A=E.locale,B=function(){var e=Object(m.a)(h.a.mark((function e(t,s){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t),e.prev=1,e.next=4,k({id:t,userId:C,cart_id:s,deliveryCountry:I});case 4:o(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o(null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,s){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(h.a.mark((function e(s,c,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a>t.options.max_quantity||0===a||t.qty===a)){e.next=2;break}return e.abrupt("return");case 2:return H(!0),e.prev=3,e.next=6,g({cartId:s,itemId:c,userId:C,quantity:a});case 6:H(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),H(!1);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,s,c){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({id:t,userId:C});case 3:y(!1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N({id:t.id,userId:C});case 3:y(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(l.a.div,{layout:!0,variants:{hidden:{opacity:0},visible:{opacity:1},exited:{x:300,opacity:0,transition:{duration:.3,ease:"easeOut"}}},initial:"hidden",animate:"visible",exit:"exited",className:"border-b ",children:[Object(x.jsxs)("div",{className:"py-2 cart__item-mobile",children:[Object(x.jsx)(D.b,{to:"/".concat(A,"/products/").concat(t.slug,"/").concat(t.id,"}"),children:Object(x.jsx)(F.a,{src:t.image,origin:"small",alt:t["name_".concat(A)],height:"125px"})}),Object(x.jsxs)("div",{className:"text-sm",children:[Object(x.jsx)(D.b,{to:"/".concat(A,"/products/").concat(t.slug,"/").concat(t.id,"}"),children:Object(x.jsx)("h1",{className:"font-semibold ",children:"".concat(t["name_".concat(A)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(x.jsx)("h1",{className:" font-semibold",children:t.options.max_quantity<5?function(e){switch(e){case 0:return Object(x.jsx)("span",{className:"text-main-color",children:z({id:"no-items-left"})});case 1:return Object(x.jsx)("span",{className:" text-yellow-700",children:z({id:"one-item-left"})});case 2:return Object(x.jsx)("span",{className:" text-yellow-700",children:z({id:"two-items-left"})});default:return Object(x.jsxs)("span",{className:"text-yellow-700",children:[e," ",z({id:"items-left"})]})}}(t.options.max_quantity):Object(x.jsx)("span",{className:"text-green-700",children:z({id:"in-stock"})})}),Object(x.jsx)("div",{className:"",style:{fontWeight:"900"},children:Object(x.jsxs)("div",{className:"flex items-center",children:[Object(x.jsxs)("h1",{children:[z({id:"price"})," "]}),Object(x.jsxs)("span",{className:"mx-1",children:[t.price," ",null===I||void 0===I?void 0:I.currency.translation[A].symbol]})]})}),Object(x.jsx)("div",{className:"text-green-700 text-base",style:{fontWeight:"900"},children:Object(x.jsxs)("div",{className:"flex items-center",children:[Object(x.jsxs)("h1",{children:[z({id:"total"})," "]}),Object(x.jsxs)("span",{className:"mx-1",children:[t.total," ",null===I||void 0===I?void 0:I.currency.translation[A].symbol]})]})}),Object(x.jsxs)("div",{className:" flex items-center flex-wrap text-base ",children:[Object(x.jsxs)("h1",{className:" font-semibold",children:[z({id:"quantity"})," :"," "]}),Object(x.jsxs)("div",{className:" flex items-center justify-center mx-3",children:[Object(x.jsx)("button",{onClick:function(){1!==parseInt(M)&&L(parseInt(M)-1)},className:"p-1",children:Object(x.jsx)(_.p,{className:"w-6 h-6 ".concat(1===M?"text-gray-700":"text-blue-700")})}),Object(x.jsx)("input",{value:M,type:"number",onChange:function(e){e.target.value<1||e.target.value>t.options.max_quantity||L(e.target.value)},className:"mx-1 px-2 py-1 border rounded",style:{maxWidth:"40px",textAlign:"center"}}),Object(x.jsx)("button",{onClick:function(){L(parseInt(M)+1)},className:"p-1",children:Object(x.jsx)(_.r,{className:"w-6 h-6 text-blue-700"})})]})]}),Object(x.jsx)("button",{onClick:function(){return J(t.cart_id,t.id,M)},style:{width:"50px"},disabled:M>t.options.max_quantity||0===M||t.qty===M,className:"p-1 flex items-center justify-center text-xs rounded mt-1 ".concat(M>t.options.max_quantity||0===M||t.qty===M?"bg-gray-600 text-gray-400":"bg-main-color text-main-text"),children:G?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:!0}):z({id:"update-btn"})})]})]}),Object(x.jsxs)("div",{className:"flex justify-center text-sm  items-center my-2 ",children:[Object(x.jsx)("button",{onClick:function(){B(t.id,t.cart_id)},className:"bg-main-color\n            text-main-text text-sm flex items-center relative justify-center flex-1 p-2 rounded uppercase  font-semibold",children:i?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:!0}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T.a,{background:!0}),Object(x.jsx)("h1",{className:"mx-2 whitespace-no-wrap",children:z({id:"remove-from-cart"})})]})}),Object(x.jsx)("button",{onClick:function(){b?K(t.id):Q(t)},className:"\n              border mx-2\n            text-sm p-2 rounded-full uppercase bg-gray-100  flex items-center justify-center font-semibold",children:b?Object(x.jsx)(_.a,{className:"w-25p h-25p hover:scale-125 text-main-color  transition-all duration-150 "}):Object(x.jsx)(_.k,{className:"w-25p h-25p hover:scale-125 text-main-color  transition-all duration-150 "})})]})]})}var W=s(463);function P(e){var t=e.cartItems,s=e.cartItemsLoading,a=e.cartMessage,o=n.a.useState(!0),u=Object(c.a)(o,2),j=u[0],b=u[1],h=Object(r.a)(),m=h.formatMessage,p=h.locale;return s?Object(x.jsx)(W.a,{}):Object(x.jsxs)(q.a,{children:[a&&j&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"rounded text-sm bg-blue-400 p-3 relative",children:[m({id:a}),Object(x.jsx)("button",{onClick:function(){return b(!1)},className:"absolute rounded hover:bg-gray-100 transition duration-75",style:{top:"4px",right:"en"===p?"3px":"",left:"ar"===p?"3px":""},children:Object(x.jsx)(d.b,{className:"w-5 h-5"})})]}),Object(x.jsx)("hr",{className:"my-1"})]}),Object(x.jsxs)(l.a.div,{initial:!1,layout:!0,className:"mb-2",children:[Object(x.jsx)(l.a.div,{layout:!0,className:"px-2 py-3 border-b",children:Object(x.jsx)("h1",{className:"text-lg font-semibold",children:m({id:"cart"})})}),Object(x.jsx)(i.a,{children:t.map((function(e){return Object(x.jsx)(L,{item:e},e.id)}))})]}),Object(x.jsx)(l.a.h1,{layout:!0,className:"text-xs my-2 px-2",children:m({id:"cart-tos"})}),Object(x.jsx)(l.a.hr,{layout:!0})]})}var G=s(95);function H(){var e=n.a.useContext(j.a).userId,t=Object(r.a)(),s=t.formatMessage,c=t.locale,a={hidden:{opacity:0},visible:{opacity:1},exited:{opacity:0}}.variants;return Object(x.jsxs)(l.a.div,{variants:a,initial:"hidden",animate:"visible",exit:"exited",className:"flex flex-col items-center justify-center",style:{minHeight:"calc(-120px + 100vh)"},children:[Object(x.jsx)("div",{className:"p-2",children:Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("h1",{className:"text-2xl font-bold  ",children:s({id:"cart-empty"})})})}),!e&&Object(x.jsxs)("div",{className:"flex flex-col justify-center p-2",children:[Object(x.jsx)(D.b,{to:"/".concat(c,"/app/login"),className:"  text-center rounded py-2 px-4 text-sm  uppercase bg-green-700 text-second-nav-text-light ",children:s({id:"login"})}),Object(x.jsx)(D.b,{to:"/".concat(c,"/app/register"),className:" text-center  rounded py-2 px-4  text-sm uppercase bg-blue-700 text-second-nav-text-light mt-2 ",children:s({id:"register"})})]})]})}function E(e){var t=e.item,s=n.a.useContext(p.a),a=s.removeFromGuestCartMutation,i=s.editGuestCartMutation,o=s.coupon,d=n.a.useContext(O.a).deliveryCountry,u=n.a.useState(t.qty),j=Object(c.a)(u,2),b=j[0],y=j[1],f=n.a.useState(!1),g=Object(c.a)(f,2),N=g[0],w=g[1],k=n.a.useState(!1),C=Object(c.a)(k,2),I=C[0],S=C[1],q=Object(r.a)(),M=q.formatMessage,L=q.locale,W=function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,a({sku:t,deliveryCountry:d,coupon:o});case 4:S(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),S(!1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(h.a.mark((function e(s,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b>t.options.max_quantity||0===b||t.qty===b)){e.next=2;break}return e.abrupt("return");case 2:return w(!0),e.prev=3,e.next=6,i({sku:s,quantity:b,price:c,deliveryCountry:d,coupon:o});case 6:w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),w(!1);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,s){return e.apply(this,arguments)}}();return Object(x.jsxs)(l.a.div,{layout:!0,variants:{hidden:{opacity:0},visible:{opacity:1},exited:{x:300,opacity:0,transition:{duration:.3,ease:"easeOut"}}},initial:"hidden",animate:"visible",exit:"exited",className:"border-b ",children:[Object(x.jsxs)("div",{className:"py-2 cart__item-mobile",children:[Object(x.jsx)(D.b,{to:"/".concat(L,"/products/").concat(t.slug,"/").concat(t.id,"}"),children:Object(x.jsx)(F.a,{src:t.image,origin:"small",alt:t["name_".concat(L)],height:"125px"})}),Object(x.jsxs)("div",{className:"text-sm",children:[Object(x.jsx)(D.b,{to:"/".concat(L,"/products/").concat(t.slug,"/").concat(t.id,"}"),children:Object(x.jsx)("h1",{className:"font-semibold ",children:"".concat(t["name_".concat(L)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(x.jsx)("h1",{className:" font-semibold",children:t.options.max_quantity<5?function(e){switch(e){case 0:return Object(x.jsx)("span",{className:"text-main-color",children:M({id:"no-items-left"})});case 1:return Object(x.jsx)("span",{className:"text-yellow-700",children:M({id:"one-item-left"})});case 2:return Object(x.jsx)("span",{className:" text-yellow-700",children:M({id:"two-items-left"})});default:return Object(x.jsxs)("span",{className:"  text-yellow-700",children:[e," ",M({id:"items-left"})]})}}(t.options.max_quantity):Object(x.jsx)("span",{className:"text-green-700",children:M({id:"in-stock"})})}),Object(x.jsxs)("div",{className:"text-main-color text-base",style:{fontWeight:"900"},children:[t.total," ",null===d||void 0===d?void 0:d.currency.translation[L].symbol]}),Object(x.jsxs)("div",{className:" flex items-center flex-wrap ",children:[Object(x.jsxs)("h1",{className:" font-semibold",children:[M({id:"quantity"})," :"," "]}),Object(x.jsxs)("div",{className:" flex items-center justify-center mx-3",children:[Object(x.jsx)("button",{onClick:function(){1!==parseInt(b)&&y(parseInt(b)-1)},className:"p-1",children:Object(x.jsx)(_.p,{className:"w-6 h-6 ".concat(1===b?"text-gray-700":"text-blue-700")})}),Object(x.jsx)("input",{type:"number",value:b,onChange:function(e){e.target.value<1||e.target.value>t.options.max_quantity||y(e.target.value)},className:"mx-1 px-2 py-1 border rounded",style:{maxWidth:"40px",textAlign:"center"}}),Object(x.jsx)("button",{onClick:function(){y(parseInt(b)+1)},className:"p-1",children:Object(x.jsx)(_.r,{className:"w-6 h-6 text-blue-700"})})]}),Object(x.jsx)("button",{onClick:function(){return P(t.options.sku,t.price)},style:{width:"50px"},disabled:b>t.options.max_quantity||0===b||t.qty===b,className:"p-1 flex items-center justify-center text-xs rounded mt-1 ".concat(b>t.options.max_quantity||0===b||t.qty===b?"bg-gray-600 text-gray-400":"bg-main-color text-main-text"),children:N?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):M({id:"update-btn"})})]})]})]}),Object(x.jsx)("div",{className:"flex justify-center text-sm  items-center my-2 ",children:Object(x.jsx)("button",{onClick:function(){W(t.options.sku)},className:"\n              bg-main-color\n            text-main-text text-sm flex items-center relative justify-center flex-1 p-2 rounded uppercase  font-semibold",children:I?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:!0}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T.a,{background:!0}),Object(x.jsx)("h1",{className:"mx-2 whitespace-no-wrap",children:M({id:"remove-from-cart"})})]})})})]})}function z(e){var t=e.cartItemsLoading,s=e.cartItems,c=Object(r.a)().formatMessage;return t?Object(x.jsx)(W.a,{}):Object(x.jsxs)("div",{children:[0===s.length&&Object(x.jsx)(i.a,{children:0===s.length&&Object(x.jsx)(H,{})}),0!==s.length&&Object(x.jsxs)(q.a,{children:[Object(x.jsx)(l.a.div,{initial:!1,layout:!0,className:"mb-2",children:Object(x.jsx)(i.a,{children:s.map((function(e){var t;return Object(x.jsx)(E,{item:e},null===(t=e.options)||void 0===t?void 0:t.sku)}))})}),Object(x.jsx)(l.a.h1,{layout:!0,className:"text-xs my-2 px-2",children:c({id:"cart-tos"})}),Object(x.jsx)(l.a.hr,{layout:!0})]})]})}function A(e){var t=e.setCheckOutPopupOpen,s=n.a.useContext(p.a),a=s.guestCartItems,i=s.guestCartItemsLoading,l=s.guestCartTotal,o=s.guestCouponCost,d=s.guestCartSubtotal,u=s.checkCouponMutation,j=s.isCheckingCoupon,b=s.setCoupon,y=s.guestShippingCost,g=s.guestCartItemsFetching,N=n.a.useContext(O.a).deliveryCountry,w=n.a.useState(""),k=Object(c.a)(w,2),I=k[0],S=k[1],q=n.a.useState(!1),_=Object(c.a)(q,2),M=_[0],T=_[1],D=n.a.useState(""),F=Object(c.a)(D,2),L=F[0],W=F[1],P=n.a.useState(""),G=Object(c.a)(P,2),H=G[0],E=G[1],z=Object(r.a)(),A=z.formatMessage,B=z.locale,J=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!M){e.next=7;break}T(!1),b(null),S(""),e.next=22;break;case 7:if(W(!1),I){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,u({code:I,subtotal:d.toString()});case 13:T(!0),b(I),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(10),T(!1),W(!0),"Coupon expired"===e.t0.response.data.message?E(A({id:"coupon-expired"})):"The selected code is invalid."===(null===(s=e.t0.response.data.message)||void 0===s||null===(c=s.code)||void 0===c?void 0:c[0])||"Coupon not exist"===e.t0.response.data.message?E(A({id:"coupon-invalid"})):"The amount is less then the minimum"===e.t0.response.data.message&&E(A({id:"coupon-conditions-not-met"}));case 22:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();return i?Object(x.jsx)("div",{className:"-mx-2 -mt-1",children:Object(x.jsx)(f,{locale:B})}):i||0!==a.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"bg-gray-200 font-semibold p-2 -mx-2",children:[Object(x.jsxs)("form",{onSubmit:J,className:"rounded border w-full flex mb-1  overflow-hidden ".concat(L&&"border-main-color"),children:[Object(x.jsx)("input",{type:"text",value:I,onChange:function(e){return S(e.target.value)},placeholder:A({id:"cart-enter-code-or-coupon"}),readOnly:M,className:"".concat(M&&"bg-gray-400 text-gray-200"," flex-1 placeholder-gray-700  p-2")}),Object(x.jsx)("button",{type:"submit",className:"bg-main-color flex items-center text-sm justify-center p-2 text-main-text uppercase ",style:{width:"70px"},children:j?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:!0}):A(M?{id:"remove"}:{id:"cart-code-button"})})]}),L&&Object(x.jsx)("h1",{className:"text-main-color text-xs",children:H})]}),Object(x.jsxs)("div",{className:"p-2 font-semibold bg-gray-200 -mx-2 border-b",style:{position:"sticky",top:0,zIndex:2},children:[Object(x.jsxs)("div",{className:" flex mb-2  ",children:[Object(x.jsx)("h1",{className:"text-gray-900",children:A({id:"cart-total"})}),Object(x.jsxs)("h1",{className:"mx-1 whitespace-no-wrap flex-1",children:["(","ar"===B?a.length>2&&a.length:"".concat(a.length," "),function(){switch(a.length){case 1:return A({id:"one-item"});case 2:return A({id:"two-items"});case a.length>10&&a.length>10:return A({id:"more-than-10-items"});default:return A({id:"multiple-items"})}}(),")"]}),Object(x.jsx)("h1",{children:d}),Object(x.jsx)("span",{className:"mx-1",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]}),Object(x.jsxs)("div",{className:"flex items-center mb-2",children:[Object(x.jsx)("h1",{className:"flex-1",children:A({id:"delivery-cost"})}),Object(x.jsx)("h1",{children:0===y?Object(x.jsx)("span",{className:"text-green-700 uppercase font-semibold",children:A({id:"cart-free"})}):Object(x.jsxs)("span",{children:[y,Object(x.jsx)("span",{className:"mx-1",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]})})]}),M&&Object(x.jsxs)("div",{className:"flex text-green-700 items-center mb-2",children:[Object(x.jsx)("h1",{className:" flex-1",children:A({id:"coupon-sale"})}),g?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#b72b2b",height:22,width:22,visible:!0}):Object(x.jsxs)("h1",{children:[o,Object(x.jsx)("span",{className:"mx-1",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]})]}),Object(x.jsx)("hr",{className:"mb-3"}),Object(x.jsxs)("div",{className:"  flex mb-2 text-lg ",style:{fontWeight:900},children:[Object(x.jsx)("h1",{className:"flex-1 text-gray-900",children:A({id:"subtotal"})}),g?Object(x.jsx)(v.a,{type:"ThreeDots",color:"#b72b2b",height:22,width:22,visible:!0}):Object(x.jsxs)("h1",{className:"text-green-700",children:[l," ",Object(x.jsx)("span",{className:"mx-1 text-green-700",children:null===N||void 0===N?void 0:N.currency.translation[B].symbol})]})]}),Object(x.jsx)("hr",{className:"mb-3"}),Object(x.jsx)("button",{onClick:function(){t(!0)},className:"".concat(0===a.length?"cursor-not-allowed  bg-gray-600":"bg-green-600"," p-2 rounded text-body-light uppercase w-full flex items-center justify-center "),disabled:0===a.length,children:A({id:"checkout"})})]}),Object(x.jsx)(C,{deliveryCountry:N})]}):null}function B(e){var t=e.setCheckOutPopupOpen,s=Object(r.a)().formatMessage,c=n.a.useContext(p.a),a=c.guestCartItems,i=c.guestCartTotal,l=c.guestCartItemsLoading;return c.isGuestGetCartError?Object(x.jsx)(G.a,{children:Object(x.jsx)("div",{className:"py-1 mx-2 flex items-center justify-center",style:{minHeight:"calc(-80px + 100vh)"},children:Object(x.jsx)("h1",{children:s({id:"something-went-wrong-snackbar"})})})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(A,{setCheckOutPopupOpen:t}),Object(x.jsx)(z,{cartTotal:i,cartItems:a,cartItemsLoading:l})]})}function J(){var e=Object(r.a)().formatMessage,t=n.a.useContext(j.a),s=t.userId,a=t.authenticationLoading,l=n.a.useState(!1),o=Object(c.a)(l,2),d=o[0],b=o[1],h=n.a.useContext(p.a),m=h.cartItems,y=h.cartMessage,f=h.cartItemsLoading,g=h.isGetCartError,v=n.a.useContext(O.a).deliveryCountriesLoading;return g?Object(x.jsx)(G.a,{children:Object(x.jsx)("div",{className:"py-1 mx-2 flex items-center justify-center",style:{minHeight:"calc(-80px + 100vh)"},children:Object(x.jsx)("h1",{children:e({id:"something-went-wrong-snackbar"})})})}):Object(x.jsx)(G.a,{children:Object(x.jsxs)("div",{className:"py-1 px-2 relative text-body-text-light",style:{minHeight:"calc(-120px + 100vh)"},children:[Object(x.jsx)(i.a,{children:d&&Object(x.jsx)(u,{setCheckOutPopupOpen:b})}),(a||v)&&Object(x.jsx)(S.a,{}),Object(x.jsx)(i.a,{children:!a&&s&&!f&&!v&&!g&&0===m.length&&Object(x.jsx)(H,{})}),!a&&s&&!v&&!g&&0!==(null===m||void 0===m?void 0:m.length)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I,{}),Object(x.jsx)(P,{cartItems:m,cartItemsLoading:f,cartMessage:y})]}),!a&&!v&&!s&&Object(x.jsx)(B,{setCheckOutPopupOpen:b})]})})}}}]);
//# sourceMappingURL=17.21ee8b4b.chunk.js.map