(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[17],{451:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(2),i=a.n(n),c=a(76),s=a(8),o=a(28),r=a(197),l=a(103),d=a(129),u=a(39),b=a(10),x=a(4),j=a.n(x),m=a(9),p=a(5),v=a(19),h=a(17),f=a.n(h),O=(a(37),a(56)),y=a(1);function g(e){var t=e.item,a=e.setSideMenuOpen,n=i.a.useContext(u.a),o=n.removeFromCartMutation,r=n.removeFromGuestCartMutation,d=n.coupon,x=i.a.useContext(b.a).deliveryCountry,h=Object(c.a)(),g=h.formatMessage,w=h.locale,_=i.a.useState(!1),N=Object(p.a)(_,2),k=N[0],C=N[1],M=i.a.useContext(v.a).userId,B=function(){var e=Object(m.a)(j.a.mark((function e(){var a,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),e.prev=1,!M){e.next=10;break}return a=t.id,n=t.cart_id,e.next=7,o({id:a,cart_id:n,userId:M,deliveryCountry:x,coupon:d});case 7:C(!1),e.next=14;break;case 10:return i=t.options.sku,e.next=13,r({sku:i,deliveryCountry:x,coupon:d});case 13:C(!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),C(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),q={hidden:{x:"".concat("ar"===w?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return Object(y.jsxs)(l.a.div,{initial:"hidden",animate:"visible",exit:"exited",variants:q,className:" side-cart-menu__item mb-2 ",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)(s.b,{title:"".concat(t["name_".concat(w)]),to:"/".concat(w,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return a(!1)},children:Object(y.jsx)(O.a,{src:t.image,origin:"original",alt:t["name_".concat(w)],pb:"calc(100% * 210/210)"})})}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(s.b,{title:"".concat(t["name_".concat(w)]),className:"hover:underline",to:"/".concat(w,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return a(!1)},children:Object(y.jsx)("h1",{className:"font-semibold text-clamp-2 text-sm uppercase ",children:"".concat(t["name_".concat(w)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(y.jsxs)("div",{className:"flex items-center text-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("h1",{className:"text-xs font-semibold",children:g({id:"price"})}),Object(y.jsxs)("h1",{className:"text-xs font-bold mx-1",children:[t.total," ",null===x||void 0===x?void 0:x.currency.translation[w].symbol]})]}),Object(y.jsxs)("div",{className:"flex items-center text-xs mx-2",children:[Object(y.jsxs)("h1",{className:"font-semibold",children:[g({id:"qty"})," :"]}),Object(y.jsx)("h1",{className:"mx-1 font-bold",children:t.qty})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"\n                bg-main-color text-main-text\n            text-xs rounded p-1 my-1 flex uppercase items-center font-semibold justify-center ",style:{width:"140px"},onClick:B,children:k?Object(y.jsx)(f.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):g({id:"remove-from-cart"})})})]})]})}function w(e){var t=e.setSideMenuOpen,a=i.a.useContext(u.a),n=a.sideCartItems,x=a.sideCartSubTotal,j=a.sideCartCouponCost,m=i.a.useContext(b.a).deliveryCountry,p=Object(c.a)(),v=p.formatMessage,h=p.locale,f={hidden:{x:"".concat("ar"===h?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween"}},exited:{x:"".concat("ar"===h?"-100%":"100%"),transition:{when:"afterChildren"}}};return Object(y.jsx)(l.a.div,{variants:f,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===h?"left-0":"right-0"),children:Object(y.jsxs)("div",{className:" bg-body-light p-2 h-full flex flex-col ",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("h1",{className:"font-semibold",children:v({id:"shopping-cart"})}),Object(y.jsx)("button",{onClick:function(){return t(!1)},children:Object(y.jsx)(o.b,{className:"w-5 h-5 "})})]}),Object(y.jsx)("hr",{className:"my-2"}),0===(null===n||void 0===n?void 0:n.length)&&Object(y.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(y.jsx)("img",{src:r.a,alt:"Empty cart"}),Object(y.jsx)("h1",{className:"font-bold mb-2",children:v({id:"cart-empty"})}),Object(y.jsx)(s.b,{to:"/".concat(h),className:"text-sm text-blue-600 hover:underline",children:v({id:"check-today-deals"})})]}),n.length>0&&Object(y.jsx)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden",children:Object(y.jsx)(d.a,{children:n.map((function(e){return Object(y.jsx)(g,{item:e,setSideMenuOpen:t},e.options.sku)}))})}),Object(y.jsx)("hr",{className:"my-1"}),n.length>0&&Object(y.jsxs)("div",{children:["0.000"!==j&&Object(y.jsxs)("div",{className:"flex text-green-700 justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold ",children:v({id:"coupon-sale"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[j," ",null===m||void 0===m?void 0:m.currency.translation[h].symbol]})]}),Object(y.jsxs)("div",{className:"flex justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold",children:v({id:"subtotal"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[x," ",null===m||void 0===m?void 0:m.currency.translation[h].symbol]})]}),Object(y.jsx)("hr",{className:"my-1"}),Object(y.jsx)("div",{className:" flex items-center my-2 text-center text-main-text ",children:Object(y.jsx)(s.b,{to:"/".concat(h,"/cart"),className:"flex-1 py-2 px-3 border font-semibold border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded",children:v({id:"go-to-cart"})})})]})]})})}},463:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(2);var n=a(79),i=a.n(n),c=a(59),s=a.p+"static/media/DesktopBannerPlaceholder.800789ab.png",o=a.p+"static/media/MobileBannerPlaceholder.2796699e.png",r=a(1);function l(e){var t=e.src,a=e.pb,n=e.alt,l=e.origin,d=Object(c.useMediaQuery)({query:"(min-width:768px)"});return Object(r.jsx)("div",{style:{position:"relative",backgroundColor:"#fff",paddingBottom:a,width:"100%",borderRadius:!d&&"12px",overflow:"hidden"},children:Object(r.jsx)(i.a,{offset:400,placeholder:Object(r.jsx)("img",{src:d?s:o,alt:n}),className:"max-h-full",children:Object(r.jsx)("img",{src:t?"".concat("https://admin.royal-online.co/storage","/").concat(l||"original","/").concat(t):d?s:o,alt:n,style:{maxHeight:"100%",maxWidth:"100%",display:"block",left:0,right:0},className:"mx-auto my-0 absolute"})})})}},493:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Z}));var n=a(5),i=a(2),c=a.n(i),s=a(79),o=a.n(s),r=a(59),l=a(104),d=a(93),u=a(18),b=a(76),x=a(447),j=a(443),m=a(445),p=a(479),v=a(480),h=(a(196),a(463)),f=a(1);m.a.use([p.a,v.a]);var O=function(){var e=Object(r.useMediaQuery)({query:"(min-width: 668px)"}),t=Object(b.a)().locale,a=Object(d.a)(["mainCarousel",e],u.w,{refetchOnWindowFocus:!1,retry:!0}),n=a.data,i=a.isLoading;return console.log(n),Object(f.jsx)("div",{className:"my-6 bg-body-light",children:Object(f.jsxs)(x.a,{autoplay:{delay:5e3},pagination:{clickable:!0,dynamicBullets:!0},id:"main",slidesPerView:1,spaceBetween:10,centeredSlides:!0,children:[i&&[0,1,2].map((function(t){return Object(f.jsx)(j.a,{className:"",children:Object(f.jsx)(l.a,{speed:4,viewBox:"0 0 ".concat(e?"1440":"800"," ").concat(e?"300":"500"),backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(f.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"".concat(e?"300":"500")})})},t)})),!i&&n.map((function(a){var n,i,c;return Object(f.jsx)(j.a,{children:Object(f.jsx)("a",{href:"/".concat(t,"/category/").concat(null===(n=a.category)||void 0===n?void 0:n.slug,"/").concat(null===(i=a.category)||void 0===i?void 0:i.id),children:Object(f.jsx)(h.a,{src:null===(c=a.translation[t].image)||void 0===c?void 0:c.link,alt:"something",origin:"original",pb:"".concat(e?"calc(100% * 300/1440)":"calc(100% * 500/800)")})})},a.id)}))]})})};function y(e){var t=e.url,a=Object(r.useMediaQuery)({query:"(min-width: 768px)"});return Object(f.jsx)("div",{className:"",children:Object(f.jsx)(h.a,{src:t,origin:"original",alt:"banner",pb:a?"calc(100% * 300/1440)":"calc(100% * 300/800)"})})}var g=a(10),w=a(442),_=a(56),N=a(8);function k(){var e=c.a.useContext(g.a),t=e.categories,a=e.categoriesLoading,n=Object(b.a)(),i=n.locale,s=n.formatMessage;return Object(f.jsxs)("div",{className:"my-3 text-body-text-light",children:[Object(f.jsx)("div",{className:"flex items-center mb-8",children:Object(f.jsx)("h1",{className:"text-xl md:text-2xl flex-1 font-bold",children:s({id:"shop-by-category"})})}),Object(f.jsxs)(x.a,{freeMode:!0,id:"main",spaceBetween:10,breakpoints:{320:{slidesPerView:2.25,spaceBetween:10},480:{slidesPerView:3.5,spaceBetween:15},640:{slidesPerView:4.5,spaceBetween:15},860:{slidesPerView:6,spaceBetween:15},1100:{slidesPerView:8,spaceBetween:15},1440:{slidesPerView:10,spaceBetween:15}},children:[a&&[0,1,2,3,4,5,6,7,8].map((function(e){return Object(f.jsx)(j.a,{className:"overflow-hidden ",children:Object(f.jsx)(l.a,{speed:2,viewBox:"0 0 400 500",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(f.jsx)("circle",{cx:"50%",cy:"50%",r:"200",width:"100%"})})},e)})),t&&t.map((function(e){var t;return Object(f.jsx)(j.a,{className:"rounded-full",children:Object(f.jsx)("div",{className:"  overflow-hidden  relative ",children:Object(f.jsx)(N.b,{to:"/".concat(i,"/category/").concat(e.slug,"/").concat(e.id),children:Object(f.jsx)(_.a,{src:null===(t=e.translation[i].image)||void 0===t?void 0:t.link,alt:e.translation[i].name,origin:"small",pb:"calc(100% * 260/260)"})})})},e.id)}))]})]})}m.a.use([w.a]);var C=a(95);function M(){var e=Object(b.a)().locale;return Object(f.jsx)(x.a,{id:"main",spaceBetween:10,breakpoints:{320:{slidesPerView:2,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},860:{slidesPerView:5,spaceBetween:20},1100:{slidesPerView:7,spaceBetween:20},1440:{slidesPerView:8,spaceBetween:20}},children:[0,1,2,3,4,5,6,7].map((function(t){return Object(f.jsx)(j.a,{className:" my-1",children:Object(f.jsx)(l.a,{speed:2,viewBox:"0 0 165 321",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",rtl:"ar"===e,children:Object(f.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"321"})})},t)}))})}var B=a(4),q=a.n(B),P=a(9),S=a(129),V=a(103),I=a(19),E=a(17),F=a.n(E),T=(a(37),a(39)),L=a(149),D=a(21);function Q(e){var t,a,i,s,o,r,l,d,u,x,j,m=e.item,p=e.setCartMenuOpen,v=e.setErrorOpen,h=e.setErrorMessage,O=Object(b.a)(),y=O.formatMessage,w=O.locale,k=c.a.useContext(g.a).deliveryCountry,C=c.a.useState(!1),M=Object(n.a)(C,2),B=M[0],E=M[1],Q=c.a.useState(!1),W=Object(n.a)(Q,2),G=W[0],A=W[1],H=c.a.useContext(I.a).userId,J=c.a.useState(""),R=Object(n.a)(J,2),z=R[0],K=R[1],U=c.a.useState(0),X=Object(n.a)(U,2),Y=X[0],Z=X[1],$=c.a.useContext(T.a),ee=$.addToGuestCartMutation,te=$.addToCartMutation,ae=$.coupon,ne=function(){var e=Object(P.a)(q.a.mark((function e(){var t,a,n,i,c,s,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Y){e.next=2;break}return e.abrupt("return");case 2:if(!((null===(t=m.simple_addons)||void 0===t?void 0:t.quantity)<1)){e.next=5;break}return K(y({id:"out-of-stock"})),e.abrupt("return");case 5:if(A(!0),!H){e.next=21;break}return e.prev=7,a={id:m.id,quantity:Y},e.next=11,te({newItem:a,userId:H,deliveryCountry:k,coupon:ae});case 11:A(!1),p(!0),K(y({id:"added-to-cart"})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),"Item founded on the Cart"===(null===(n=e.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)?(K(y({id:"added-to-cart"})),A(!1)):(A(!1),v(!0),h(y({id:"something-went-wrong-snackbar"})));case 19:e.next=37;break;case 21:return e.prev=21,c=m.simple_addons.promotion_price?m.simple_addons.promotion_price:m.simple_addons.price,s=m.simple_addons.sku,o={id:m.id,quantity:Y,price:c,sku:s},e.next=27,ee({newItem:o,deliveryCountry:k,coupon:ae});case 27:A(!1),p(!0),K(y({id:"added-to-cart"})),e.next=37;break;case 32:e.prev=32,e.t1=e.catch(21),v(!0),h(y({id:"something-went-wrong-snckbar"})),A(!1);case 37:case"end":return e.stop()}}),e,null,[[7,16],[21,32]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{onMouseEnter:function(){z||E(!0)},onMouseLeave:function(){E(!1)},children:[Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsxs)(N.b,{className:"block relative border rounded",to:"/".concat(w,"/products/").concat(m.slug,"/").concat(m.id),children:[Object(f.jsx)(_.a,{src:null===(t=m.image)||void 0===t?void 0:t.link,alt:m.translation[w].title,height:"175px",origin:"small"}),(null===(a=m.simple_addons)||void 0===a?void 0:a.promotion_price)&&m.simple_addons.quantity>0&&Object(f.jsxs)("div",{className:"absolute bg-green-800 px-1 text-main-text font-bold top-0   uppercase text-xs ".concat("ar"===w?"pl-4 right-0":"pr-4 left-0"),style:{clipPath:"ar"===w?"polygon(0 0, 100% 0, 100% 100%, 0 100%, 14% 50%)":"polygon(0% 0%, 100% 0, 86% 50%, 100% 100%, 0% 100%)"},children:[Object(L.a)(null===(i=m.simple_addons)||void 0===i?void 0:i.price,null===(s=m.simple_addons)||void 0===s?void 0:s.promotion_price)," ",y({id:"off"})]}),(null===(o=m.simple_addons)||void 0===o?void 0:o.quantity)<1&&Object(f.jsx)("div",{className:"absolute bg-main-color  text-main-text font-bold top-0   uppercase text-xs right-0 left-0 text-center",children:y({id:"out-of-stock"})})]}),Object(f.jsx)(S.a,{children:B&&(null===(r=m.simple_addons)||void 0===r?void 0:r.quantity)>0&&Object(f.jsx)(V.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ne,className:"flex items-center justify-center absolute w-full bottom-10",children:Object(f.jsx)("button",{className:" flex items-center justify-center rounded uppercase p-2 bg-main-color text-main-text text-sm",style:{width:"110px"},children:G?Object(f.jsx)(F.a,{type:"ThreeDots",color:"#fff",height:21,width:21,visible:!0}):y({id:"add-to-cart"})})})}),Object(f.jsx)(S.a,{children:z&&Object(f.jsx)(V.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"absolute top-0 w-full h-full flex items-center justify-center text-main-text bg-gray-800 text-2xl",children:Object(f.jsx)("h1",{className:"text-center",children:z})})})]}),Object(f.jsxs)("div",{className:"bg-body-light text-body-text-light",children:[Object(f.jsx)("div",{className:"p-2",style:{height:"18px"},children:Object(f.jsx)(N.b,{title:m.translation[w].title,className:"hover:underline inline-block text-main-color underline",to:"/".concat(w,"/brands/").concat(null===(l=m.brand)||void 0===l?void 0:l.slug),children:Object(f.jsx)("h1",{className:"text-clamp-1 text-xs uppercase font-bold",children:null===(d=m.brand)||void 0===d?void 0:d.translation[w].name})})}),Object(f.jsx)("div",{className:"p-2",style:{height:"55px"},children:Object(f.jsx)(N.b,{title:m.translation[w].title,className:"hover:underline inline-block",to:"/".concat(w,"/products/").concat(m.slug,"/").concat(m.id),children:Object(f.jsx)("h1",{className:"text-clamp-2  text-sm uppercase font-semibold",children:m.translation[w].title})})}),Object(f.jsx)("div",{className:"p-2 flex items-center font-bold justify-between",children:(null===(u=m.simple_addons)||void 0===u?void 0:u.promotion_price)?Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("h1",{className:" text-lg text-main-color",children:(m.simple_addons.promotion_price*(null===k||void 0===k?void 0:k.currency.value)).toFixed(3)}),Object(f.jsx)("span",{className:"mx-1 text-sm  text-main-color",children:null===k||void 0===k?void 0:k.currency.translation[w].symbol}),Object(f.jsxs)("h1",{className:" text-xs mx-1 italic line-through text-gray-700",children:[((null===(x=m.simple_addons)||void 0===x?void 0:x.price)*(null===k||void 0===k?void 0:k.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"",children:null===k||void 0===k?void 0:k.currency.translation[w].symbol})]})]}):Object(f.jsxs)("h1",{className:"text-lg text-main-color",children:[((null===(j=m.simple_addons)||void 0===j?void 0:j.price)*(null===k||void 0===k?void 0:k.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"mx-1 text-sm",children:null===k||void 0===k?void 0:k.currency.translation[w].symbol})]})}),Object(f.jsxs)("div",{className:"flex w-full",children:[Object(f.jsx)("button",{onClick:function(){1!==Y&&0!==Y&&Z(parseInt(Y)-1)},className:" flex-1 p-2 border flex items-center justify-center",children:Object(f.jsx)(D.o,{})}),Object(f.jsx)("p",{className:"p-2 flex-1 border-t border-b flex items-center justify-center",children:Y}),Object(f.jsx)("button",{onClick:function(){console.log(m.simple_addons.quantity,"q"),console.log(Y,"qq"),m.simple_addons.quantity!==Y&&Z(parseInt(Y)+1)},className:"p-2 flex-1 border flex items-center justify-center",children:Object(f.jsx)(D.q,{})})]})]})]})}var W=a(34),G=a(6),A=a(22),H=a(40);function J(e){var t,a,i,s,o=e.item,r=e.setCartMenuOpen,l=e.setErrorMessage,d=e.setErrorOpen,u=c.a.useContext(T.a),x=u.addToCartMutation,j=u.addToGuestCartMutation,m=u.coupon,p=Object(b.a)(),v=p.formatMessage,h=p.locale,O=c.a.useContext(g.a).deliveryCountry,y=c.a.useState(!1),w=Object(n.a)(y,2),k=w[0],C=w[1],M=c.a.useState(!1),B=Object(n.a)(M,2),E=B[0],D=B[1],Q=Object(H.g)(),J=c.a.useState((function(){return Object.keys(o.new_variation_addons)[0]})),R=Object(n.a)(J,2),z=R[0],K=R[1],U=c.a.useState((function(){var e={};return Object.keys(o.new_variation_addons).forEach((function(t){e[t]=0})),e})),X=Object(n.a)(U,2),Y=X[0],Z=X[1],$=c.a.useContext(I.a).userId,ee=c.a.useState(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],ie=c.a.useState(null),ce=Object(n.a)(ie,2),se=ce[0],oe=ce[1],re=!o.new_variation_addons[z].options,le=re?o.new_variation_addons[z]:o.new_variation_addons[z].options[Y[z]],de=o.new_variation_addons[z].options?!!o.new_variation_addons[z].options[Y[z]].promotion_price:!!o.new_variation_addons[z].promotion_price,ue=function(){var e=Object(P.a)(q.a.mark((function e(){var t,a,n,i,c,s,u,b,p,h,f,y,g,w,_,N;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(le.quantity<1)){e.next=3;break}return ne(v({id:"out-of-stock"})),e.abrupt("return");case 3:if(oe(!0),!$){e.next=19;break}return e.prev=5,u={id:o.id,quantity:1,variation:{id:null===(t=o.new_variation_addons)||void 0===t?void 0:t[z].id,item_id:null===(a=o.new_variation_addons)||void 0===a?void 0:a[z].addon_item_value},option:{id:null===(n=o.new_variation_addons)||void 0===n||null===(i=n[z].options)||void 0===i?void 0:i[Y[z]].id,item_id:null===(c=o.new_variation_addons)||void 0===c||null===(s=c[z].options)||void 0===s?void 0:s[Y[z]].addon_item_value}},e.next=9,x({newItem:u,userId:$,deliveryCountry:O,coupon:m});case 9:oe(!1),r(!0),ne(v({id:"added-to-cart"})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),"Item founded on the Cart"===e.t0.response.data.message?(ne(v({id:"added-to-cart"})),oe(!1)):(d(!0),l(v({id:"something-went-wrong-snackbar"})),oe(!1));case 17:e.next=34;break;case 19:return e.prev=19,w=de?le.promotion_price:le.price,_=le.sku,N={id:o.id,quantity:1,variation:{id:null===(b=o.new_variation_addons)||void 0===b?void 0:b[z].id,item_id:null===(p=o.new_variation_addons)||void 0===p?void 0:p[z].addon_item_value},option:{id:null===(h=o.new_variation_addons)||void 0===h||null===(f=h[z].options)||void 0===f?void 0:f[Y[z]].id,item_id:null===(y=o.new_variation_addons)||void 0===y||null===(g=y[z].options)||void 0===g?void 0:g[Y[z]].addon_item_value},price:w,sku:_},e.next=25,j({newItem:N,deliveryCountry:O,coupon:m});case 25:oe(!1),r(!0),ne(v({id:"added-to-cart"})),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(19),d(!0),l(v({id:"something-went-wrong-snackbar"}));case 34:case"end":return e.stop()}}),e,null,[[5,14],[19,30]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{onMouseEnter:function(){return C(!0)},onMouseLeave:function(){C(!1),E&&D(!1)},children:[Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsxs)(N.b,{className:"block relative border rounded",to:"/".concat(h,"/products/").concat(o.slug,"/").concat(o.id),children:[function(){var e,t,a;return o.new_variation_addons[z].options?Object(f.jsx)(_.a,{src:(null===(e=o.new_variation_addons[z].options[Y[z]])||void 0===e?void 0:e.image)||(null===(t=o.image)||void 0===t?void 0:t.link),origin:"small",alt:o.translation[h].title,height:"175px"}):Object(f.jsx)(_.a,{src:o.new_variation_addons[z].image||(null===(a=o.image)||void 0===a?void 0:a.link),origin:"small",alt:o.translation[h].title,height:"175px"})}(),de&&le.quantity>0&&Object(f.jsxs)("div",{className:"absolute bg-main-color px-1 text-main-text font-bold top-0   uppercase text-xs ".concat("ar"===h?"pl-4 right-0":"pr-4 left-0"),style:{clipPath:"ar"===h?"polygon(0 0, 100% 0, 100% 100%, 0 100%, 14% 50%)":"polygon(0% 0%, 100% 0, 86% 50%, 100% 100%, 0% 100%)"},children:[Object(L.a)(le.price,le.promotion_price)," ",v({id:"off"})]}),le.quantity<1&&Object(f.jsx)("div",{className:"absolute bg-main-color  text-main-text font-bold top-0   uppercase text-xs right-0 left-0 text-center",children:v({id:"out-of-stock"})})]}),Object(f.jsx)(S.a,{children:k&&le.quantity>0&&Object(f.jsx)(V.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:function(){if(o.new_variation_addons[z].options)return D(!0),void C(!1);ue()},className:"flex items-center justify-center absolute w-full bottom-10",children:Object(f.jsx)("button",{className:"flex items-center justify-center rounded uppercase p-2 bg-main-color text-main-text text-sm",style:{width:"110px"},children:se?Object(f.jsx)(F.a,{type:"ThreeDots",color:"#fff",height:21,width:21,visible:!0}):v({id:"add-to-cart"})})})}),Object(f.jsx)(S.a,{children:E&&Object(f.jsxs)(V.a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 z-2 bg-body-light w-full opacity-75 p-2 border",children:[Object(f.jsxs)("h1",{children:[v({id:"select"})," ",null===(t=o.new_variation_addons[z].options)||void 0===t?void 0:t[Y[z]]["name_".concat(h)]]}),Object(f.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(20px,35px))",gap:"0.25rem",marginTop:"0.5rem",marginBottom:"0.5rem",width:"100%"},children:null===(a=o.new_variation_addons[z].options)||void 0===a?void 0:a.map((function(e,t){var a=Y[z]===t;return Object(f.jsx)("button",{onClick:function(){return Z((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(W.a)({},z,t))}))},className:"hover:bg-main-color hover:text-main-text transition duration-150 p-2 uppercase border text-xs flex items-center justify-center ".concat(a?"bg-main-color text-main-text":"text-body-text-light"," "),children:e.addon_item_value.substr(0,4)},e.addon_item_value)}))}),Object(f.jsx)("div",{className:"w-full flex justify-center items-center ",children:Object(f.jsx)("button",{className:"p-2 bg-green-700 rounded text-sm text-main-text ",onClick:ue,children:se?Object(f.jsx)(F.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:!0}):v({id:"submit"})})})]})}),Object(f.jsx)(S.a,{children:ae&&Object(f.jsx)(V.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"absolute top-0 w-full h-full flex items-center justify-center text-main-text bg-gray-800 text-2xl",children:ae})})]}),Object(f.jsxs)("div",{className:"bg-body-light text-body-text-light",children:[Object(f.jsx)("div",{className:"p-2",style:{height:"18px"},children:Object(f.jsx)(N.b,{title:o.translation[h].title,className:"hover:underline inline-block text-main-color underline",to:"/".concat(h,"/brands/").concat(null===(i=o.brand)||void 0===i?void 0:i.slug),children:Object(f.jsx)("h1",{className:"text-clamp-1 text-xs uppercase font-bold",children:null===(s=o.brand)||void 0===s?void 0:s.translation[h].name})})}),Object(f.jsx)("div",{className:"p-2",style:{height:"55px"},children:Object(f.jsx)(N.b,{title:o.translation[h].title,className:"hover:underline inline-block",to:"/".concat(h,"/products/").concat(o.slug,"/").concat(o.id),children:Object(f.jsx)("h1",{className:"text-clamp-2  text-sm uppercase font-semibold",children:function(){var e=o.new_variation_addons[z].addon_item_value;return"".concat(o.translation[h].title," ").concat(e)}()})})}),Object(f.jsx)("div",{className:"p-2 flex items-center justify-between",children:de?Object(f.jsxs)("div",{className:" flex items-center",children:[Object(f.jsxs)("h1",{className:"font-bold text-lg text-main-color",children:[(le.promotion_price*(null===O||void 0===O?void 0:O.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"mx-1 text-sm",children:null===O||void 0===O?void 0:O.currency.translation[h].symbol})]}),Object(f.jsxs)("h1",{className:" text-sm mx-1 italic  line-through text-gray-700",children:[(le.price*(null===O||void 0===O?void 0:O.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"",children:null===O||void 0===O?void 0:O.currency.translation[h].symbol})]})]}):Object(f.jsxs)("h1",{className:"font-bold text-lg text-main-color",children:[(le.price*(null===O||void 0===O?void 0:O.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"mx-1 text-sm",children:null===O||void 0===O?void 0:O.currency.translation[h].symbol})]})}),Object(f.jsxs)("div",{className:"p-1",style:{display:"grid",gap:"0.2rem",gridTemplateColumns:"repeat(auto-fill,32px)"},children:[re?Object.keys(o.new_variation_addons).slice(0,3).map((function(e,t){return o.new_variation_addons[e].image?Object(f.jsx)("img",{onClick:function(){K(e)},className:"cursor-pointer ".concat(z===e&&"border"),alt:le.id,src:"".concat("https://admin.royal-online.co/storage","/small/").concat(o.new_variation_addons[e].image)},t):Object(f.jsx)("button",{onClick:function(){return K(e)},className:"p-1 ".concat(z===e?"bg-main-color text-main-text":""," rounded flex items-center justify-center"),children:o.new_variation_addons[e].addon_item_value.substr(0,1)},t)})):Object.keys(o.new_variation_addons).slice(0,3).map((function(e,t){var a;return o.new_variation_addons[e].options[Y[e]].image?Object(f.jsx)("img",{onClick:function(){return K(e)},className:"cursor-pointer ".concat(z===e&&"border"),alt:o.new_variation_addons[e].id,src:"".concat("https://admin.royal-online.co/storage","/small/").concat(null===(a=o.new_variation_addons[e].options[Y[e]])||void 0===a?void 0:a.image)},t):Object(f.jsx)("button",{onClick:function(){return K(e)},className:"p-1 ".concat(z===e?"bg-main-color text-main-text":""," rounded flex items-center justify-center"),children:o.new_variation_addons[e].addon_item_value.substr(0,1)})})),Object.keys(o.new_variation_addons).length>3&&Object(f.jsx)("button",{onClick:function(){return Q.push("/".concat(h,"/products/").concat(o.slug,"/").concat(o.id))},title:v({id:"show-more"}),className:"p-1  border\n               rounded flex items-center justify-center",children:Object(f.jsx)(A.h,{className:"text-main-color w-6 h-6"})})]})]})]})}var R=a(54),z=a(464);function K(e){var t,a=e.type,i=e.cb,s=(e.title,e.id),o=Object(b.a)(),r=o.formatMessage,l=o.locale,m=c.a.useState(!1),p=Object(n.a)(m,2),v=p[0],h=p[1],O=c.a.useState(""),y=Object(n.a)(O,2),g=y[0],w=y[1],_=Object(z.a)({threshold:.1}),k=_.inView,C=_.ref,B=Object(d.a)(["staticSwiper",a],(function(){return Object(u.F)(a)}),{retry:!0,enabled:k}),q=B.data,P=B.isLoading,S=B.isIdle;return Object(f.jsxs)("div",{ref:C,className:"my-8",children:[v&&Object(f.jsx)(R.a,{message:g,closeFunction:function(){h(!1)}}),(P||S)&&Object(f.jsx)("div",{className:"mb-4 ",style:{height:"30px"}}),(P||S)&&Object(f.jsx)(M,{}),!P&&!S&&Object(f.jsxs)("div",{className:"flex items-center mb-4",children:[Object(f.jsx)("h1",{className:"text-xl  flex-1 font-bold ",children:null===q||void 0===q||null===(t=q.title[l])||void 0===t?void 0:t.name}),"latest_products"!==a&&"best_seller"!==a&&Object(f.jsx)(N.b,{to:"/".concat(l,"/category/").concat(null===q||void 0===q?void 0:q.slug,"/").concat(s),className:"py-1 px-2  bg-main-color text-second-nav-text-light rounded whitespace-no-wrap",style:{fontWeight:"900"},children:r({id:"seeAll"})})]}),!P&&!S&&Object(f.jsx)(x.a,{freeMode:!0,id:"main",spaceBetween:5,breakpoints:{320:{slidesPerView:2.25,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:4,spaceBetween:20},1100:{slidesPerView:4,spaceBetween:20},1440:{slidesPerView:4,spaceBetween:20}},children:q.products.map((function(e){return Object(f.jsx)(j.a,{className:"overflow-hidden   relative my-2 rounded",children:"variation"===e.type&&Object.keys(e.new_variation_addons).length>0?Object(f.jsx)(J,{item:e,setCartMenuOpen:i,setErrorMessage:w,setErrorOpen:h}):Object(f.jsx)(Q,{item:e,setCartMenuOpen:i,setErrorMessage:w,setErrorOpen:h})},e.id)}))})]})}m.a.use([w.a]);var U=a(451),X=a(202),Y=a(195);function Z(){var e=Object(r.useMediaQuery)({query:"(min-width:768px)"}),t=Object(d.a)("homeShowcase",u.v,{retry:!0,refetchOnWindowFocus:!1}),a=t.data,i=t.isLoading,s=Object(b.a)().locale,l=c.a.useState(!1),x=Object(n.a)(l,2),j=x[0],m=x[1],p=function(){m(!0)};return Object(f.jsxs)(C.a,{children:[Object(f.jsx)(Y.a,{children:Object(f.jsx)("title",{children:"Royal Pharmacies | \u0635\u064a\u062f\u0644\u064a\u0627\u062a \u0631\u0648\u064a\u0627\u0644"})}),Object(f.jsxs)("div",{className:"mb-5 overflow-hidden bg-body-light text-body-text-light",style:{minHeight:"calc(100vh - 140px)"},children:[Object(f.jsxs)(S.a,{children:[j&&(e?Object(f.jsx)(U.a,{setSideMenuOpen:m},"side-cart"):Object(f.jsx)(X.a,{setSideMenuOpen:m},998)),j&&Object(f.jsx)(V.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return m(!1)},className:"side__addCart-bg"},"sidecart-bg")]}),Object(f.jsxs)("div",{className:"px-2 py-4 sm:px-2 md:px-4 lg:px-8  mx-auto max-w-default",children:[Object(f.jsx)(O,{}),Object(f.jsx)(k,{}),Object(f.jsx)(K,{type:"latest_products",title:"New Arrivals",cb:p}),i&&Object(f.jsx)("div",{className:"my-8",children:Object(f.jsx)(M,{})}),i&&Object(f.jsx)("div",{className:"my-8",children:Object(f.jsx)(M,{})}),i&&Object(f.jsx)("div",{className:"my-8",children:Object(f.jsx)(M,{})}),!i&&(null===a||void 0===a?void 0:a.map((function(t,a){return function(t,a){switch(t.type){case"best_seller":return Object(f.jsx)(K,{type:t.type,title:t["title_".concat(s)],cb:p},a);case"product_by_category":return Object(f.jsx)(K,{type:t.key,id:t.id,title:t["title_".concat(s)],cb:p},a);case"categories":return Object(f.jsx)(K,{id:t.id,type:t.slug,title:t["title_".concat(s)],cb:p},a);case"latest_products":return Object(f.jsx)(K,{type:t.type,title:t["title_".concat(s)],cb:p},a);case"banner":return Object(f.jsx)(o.a,{offset:500,children:Object(f.jsx)("div",{className:"my-16",children:Object(f.jsx)(y,{url:e?t.data.banner_desktop.link:t.data.banner_mobile.link})})},a);default:return null}}(t,a)})))]})]})]})}m.a.use([w.a])}}]);
//# sourceMappingURL=17.578f147a.chunk.js.map