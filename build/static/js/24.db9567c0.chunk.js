(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[24],{498:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return ie}));var a=s(144),c=s(2),i=s.n(c),n=s(200),r=s(78),l=s(40),d=s(95),o=s(8),j=s(1);function x(){var e=Object(r.a)().formatMessage,t=Object(l.j)().url;return Object(j.jsx)("div",{className:"overflow-hidden",children:Object(j.jsx)("ul",{className:" mobile-tabs overflow-x-scroll  whitespace-no-wrap bg-red-100 p-2",children:[{url:"",name:"my-profile"},{url:"/addresses",name:"my-addresses"},{url:"/orders",name:"my-orders"}].map((function(s){return Object(j.jsx)("li",{className:"inline-block mx-1  ",children:Object(j.jsx)(o.c,{exact:!0,className:"w-full font-semibold p-3 rounded inline-block text-center ",activeClassName:"font-bold bg-main-color text-main-text ",to:"".concat(t).concat(s.url),children:e({id:s.name})})},s.name)}))})})}var b=s(6),m=s(17),h=s.n(m),u=(s(37),s(484)),p=s(463),O=s(4),f=s.n(O),v=s(9),y=s(21),g=s(452),N=s(115),w=s(467);function k(e){var t=e.address,s=e.handleRemoveLocation,c=e.deleteButtonLoading,n=i.a.useState(!1),l=Object(b.a)(n,2),d=l[0],o=l[1],x=Object(r.a)().formatMessage;return Object(j.jsxs)(N.a.div,{className:"flex flex-col  rounded border bg-body-light layout",variants:{hidden:{opacity:0},visible:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"},exited:{opacity:0,clipPath:"polygon(0 54%, 100% 53%, 100% 53%, 0 54%)"}},initial:"hidden",animate:"visible",exit:"exited",children:[Object(j.jsxs)("div",{style:{position:"relative"},children:["map"===t.type?Object(j.jsx)(w.a,{height:150,width:200,lat:t.lat,lng:t.lng,alt:t.address_name}):Object(j.jsxs)("div",{className:"p-2 text-sm border-b",style:{height:"150px"},children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[x({id:"maps-detailed-address-apartment-short"}),":"]}),Object(j.jsx)("h1",{children:t.apartment_house_number})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[x({id:"maps-detailed-address-building-short"}),":"]}),Object(j.jsx)("h1",{children:t.building_tower_number})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[x({id:"maps-detailed-address-phone-short"}),":"]}),Object(j.jsx)("h1",{children:t.phone_number})]})]}),"map"===t.type&&Object(j.jsxs)(N.a.div,{variants:{partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}},initial:"partial",animate:d?"full":"partial",layout:!0,exit:"partial",onClick:function(){return t.id,void o(!d)},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-75 bg-gray-800",children:[Object(j.jsx)(y.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),Object(j.jsx)(a.a,{children:d&&Object(j.jsxs)(N.a.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-xs",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[x({id:"maps-detailed-address-apartment-short"}),":"]}),Object(j.jsx)("h1",{children:t.apartment_house_number})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[x({id:"maps-detailed-address-building-short"}),":"]}),Object(j.jsx)("h1",{children:t.building_tower_number})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:[x({id:"maps-detailed-address-phone-short"}),":"]}),Object(j.jsx)("h1",{children:t.phone_number})]})]})})]})]}),Object(j.jsxs)("div",{className:"p-1 flex flex-1 flex-col",children:[Object(j.jsx)("div",{className:"text-xs text-gray-600 font-semibold",children:Object(j.jsx)("h1",{children:t.address_name})}),Object(j.jsx)("div",{className:"text-sm mb-2 font-semibold",children:Object(j.jsxs)("h1",{children:[" ","text"===t.type?t.userTyped_address:t.marked_address]})}),Object(j.jsx)("button",{onClick:function(){return s(t.id)},className:" \n                  bg-main-color\n               text-main-text rounded uppercase mt-auto   px-2 py-1 text-sm w-full flex justify-center",children:c===t.id?Object(j.jsx)(h.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:!0}):Object(j.jsx)("h1",{children:x({id:"remove-location"})})})]})]})}var S=s(18),_=s(56),M=s(130),C=s.n(M);function P(e){var t=e.locations,s=e.setShowMap,c=i.a.useContext(S.a).deleteAddressMutation,n=Object(r.a)().formatMessage,l=i.a.useState(null),d=Object(b.a)(l,2),o=d[0],x=d[1],m=i.a.useState(!1),h=Object(b.a)(m,2),u=h[0],p=h[1],O=i.a.useState(""),w=Object(b.a)(O,2),M=w[0],P=w[1],D=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(t),e.next=4,c(t);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),x(null),p(!0),P({id:"something-went-wrong-snackbar"});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{minHeight:"calc(-173px + 100vh)"},children:[u&&Object(j.jsx)(_.a,{message:M,closeFunction:function(){p(!1)}}),Object(j.jsx)("div",{className:"p-3 font-semibold bg-main-color text-main-text",children:Object(j.jsxs)("h1",{className:"",children:[n({id:"we-have-found"}),Object(j.jsx)("span",{className:"mx-1",children:t.length}),1===t.length?n({id:"one-address"}):n({id:"addresses"})]})}),Object(j.jsx)(g.a,{children:Object(j.jsxs)(N.a.div,{layout:!0,initial:!1,className:"p-2 locations-grid__mobile",children:[Object(j.jsx)(a.a,{children:t.map((function(e){return Object(j.jsx)(k,{address:e,handleRemoveLocation:D,deleteButtonLoading:o},e.id)}))}),Object(j.jsxs)(N.a.button,{layout:!0,onClick:function(){return s(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text",children:[Object(j.jsx)(C.a,{background:!0}),Object(j.jsx)(y.q,{className:"h-8 w-8"})]},"add-button")]})})]})}function D(){var e=i.a.useContext(S.a),t=e.userAddresses,s=e.userAddressesLoading,a=i.a.useState(!1),c=Object(b.a)(a,2),n=c[0],r=c[1];if(s)return Object(j.jsx)("div",{className:" p-4 flex justify-center items-center ",style:{minHeight:"calc(-173px + 100vh)"},children:Object(j.jsx)(h.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})});return Object(j.jsxs)(N.a.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",children:[!n&&(0===t.length?Object(j.jsx)(u.a,{setShowMap:r}):Object(j.jsx)(P,{locations:t,setShowMap:r})),n&&Object(j.jsx)("div",{className:"relative",style:{minHeight:"calc(-176px + 100vh)"},children:Object(j.jsx)(p.a,{setShowMap:r})})]})}var F=s(482);function R(){var e=Object(r.a)(),t=e.formatMessage,s=e.locale;return Object(j.jsx)("div",{className:"  flex flex-col justify-center items-center p-4 ",style:{minHeight:"calc(-176px + 100vh)"},children:Object(j.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(j.jsx)("img",{className:"mt-b",style:{height:"200px"},src:F.a,alt:"lostManWallet"}),Object(j.jsx)("h1",{className:"text-lg text-center font-bold",children:t({id:"no-orders-placed"})}),Object(j.jsxs)(o.b,{to:"/".concat(s,"/"),className:" mt-3 uppercase font-semibold flex items-center rounded px-3 py-2 bg-main-color text-main-text",children:[Object(j.jsx)("h1",{className:"uppercase mx-2",children:t({id:"start-shopping-now"})}),Object(j.jsx)("span",{className:"text-main-text ",children:Object(j.jsx)(y.c,{className:"w-20p h-20p"})})]})]})})}var H=s(458),z=s.n(H);function A(e){var t=e.order,s=e.handleShowOrderDetails,a=e.handleShowAddReviews,c=e.index,i=Object(r.a)().formatMessage;return Object(j.jsxs)("div",{className:" bg-body-light border overflow-hidden rounded-lg ",children:[function(){switch(t.status){case"completed":return Object(j.jsxs)("div",{className:" text-body-text-dark flex items-center   px-2 py-1 font-semibold bg-green-700  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-completed"})})]});case"canceled":return Object(j.jsxs)("div",{className:" text-body-text-dark flex items-center px-2 py-1 font-semibold bg-main-color  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-cancelled"})})]});case"pending":return Object(j.jsxs)("div",{className:" text-body-text-dark  flex items-center   px-2 py-1 font-semibold bg-yellow-600  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-pending"})})]});case"delivery":return Object(j.jsxs)("div",{className:" text-body-text-dark  flex items-center   px-2 py-1 font-semibold bg-blue-600  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-delivery"})})]});case"waiting_for_payment":return Object(j.jsxs)("div",{className:" text-body-text-dark flex items-center  px-2 py-1 font-semibold bg-yellow-600  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-waiting-for-payment"})})]});case"confirmed":return Object(j.jsxs)("div",{className:" text-body-text-dark flex items-center  px-2 py-1 font-semibold bg-blue-600  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-confirmed"})})]});case"new":return Object(j.jsxs)("div",{className:"text-body-text-dark  px-2 py-1 font-semibold flex items-center  bg-blue-600  ",children:[Object(j.jsx)("h1",{children:i({id:"order-status"})}),":",Object(j.jsx)("h1",{className:"mx-1",children:i({id:"order-new"})})]})}}(),Object(j.jsx)("div",{className:" text-sm mr-2 p-2 ",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"font-semibold flex items-center",children:[Object(j.jsxs)("h1",{className:"text-gray-700",children:[i({id:"order-number"})," :"]}),Object(j.jsx)("h1",{className:"mx-1",children:t.id})]}),Object(j.jsxs)("div",{className:"font-semibold flex items-center",children:[Object(j.jsxs)("h1",{className:"text-gray-700",children:[i({id:"order-date"})," :"]}),Object(j.jsxs)("h1",{className:"mx-1",children:[" ",z()(t.created_at).format("DD/MM/YYYY - HH:MM")]})]}),Object(j.jsxs)("div",{className:" mt-8 flex items-center",children:[Object(j.jsx)("button",{onClick:function(){return s(t)},className:"px-3 py-1 text-body-text-dark bg-blue-700 uppercase  rounded font-semibold",children:i({id:"order-details"})}),"canceled"!==(null===t||void 0===t?void 0:t.status)&&Object(j.jsx)("button",{onClick:function(){return a(c)},className:"px-3 py-1 mx-3 text-body-text-dark bg-green-700 uppercase  rounded font-semibold",children:i({id:"add-reviews"})})]})]})})]})}var T=s(145),E=s(146),L=s(149),Y=s(147),q=s(10);function B(e){var t=e.orderDetailsOpen,s=e.selectedOrder,a=e.handleOrderDetailsClose,c=Object(r.a)(),n=c.formatMessage,l=c.locale,d=i.a.useContext(q.a).deliveryCountry;i.a.useEffect((function(){return t&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow="unset"}}),[t]);return Object(j.jsxs)(N.a.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed top-0 left-0 right-0 bottom-0 overflow-y-auto bg-body-light z-30 h-screen",children:[Object(j.jsxs)("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1",children:[Object(j.jsx)("button",{className:"text-white text-center",onClick:a,children:"en"===l?Object(j.jsx)(y.f,{className:"w-6 h-6 "}):Object(j.jsx)(y.g,{className:"w-6 h-6 "})}),Object(j.jsx)("h1",{className:"font-semibold text-lg mx-4",children:n({id:"order-details"})})]}),s&&Object(j.jsxs)("div",{className:"px-1 py-2 ",children:[Object(j.jsxs)("div",{className:"mb-3 p-3 mx-1 rounded-lg flex bg-gray-900 text-main-text",children:[Object(j.jsxs)("div",{className:"flex-1",children:[Object(j.jsxs)("div",{className:"flex items-center font-bold",children:[Object(j.jsx)("h1",{children:n({id:"order-number"})}),Object(j.jsx)("h1",{className:"mx-1",children:s.id})]}),Object(j.jsxs)("div",{className:"flex items-center text-sm",children:[Object(j.jsxs)("h1",{className:"font-semibold  text-gray-600",children:[n({id:"order-date"})," :"]}),Object(j.jsxs)("h1",{className:"mx-1",children:[" ",z()(s.created_at).format("DD/MM/YYYY - HH:MM")]})]}),Object(j.jsxs)("div",{className:"flex items-center text-sm",children:[Object(j.jsxs)("h1",{className:"text-gray-600",children:["completed"===s.status?n({id:"delivered-at"}):n({id:"expected-delivery"})," ",":"]}),Object(j.jsx)("h1",{className:"mx-1",children:"completed"===s.status?s.deliveryDate:"Soon"})]}),Object(j.jsxs)("div",{className:" text-sm",children:[Object(j.jsxs)("h1",{className:"text-gray-600 ",children:["completed"===s.status?n({id:"delivered-to"}):n({id:"deliver-to"}),":"," "]}),Object(j.jsx)("h1",{className:"mx-1",children:"map"===s.address.type?s.address.marked_address:s.address.userTyped_address})]}),Object(j.jsxs)("div",{className:"text-sm",children:[Object(j.jsxs)("h1",{className:"text-gray-600",children:[n({id:"payment-method"})," :"]}),"knet"===s.payment_method?Object(j.jsxs)("div",{className:"  flex  items-center justify-start  p-2 font-semibold",children:[Object(j.jsx)("img",{src:T.a,alt:s.payment_method}),Object(j.jsx)("div",{className:"flex-1 mx-3 text-left",children:"K-net"})]}):"credit"===s.payment_method?Object(j.jsxs)("div",{className:"  flex  items-center justify-start  p-2 font-semibold",children:[Object(j.jsx)("img",{src:E.a,alt:s.payment_method}),Object(j.jsx)("div",{className:"flex-1 mx-3 text-left",children:"Credit Card"})]}):"amex"===s.payment_method?Object(j.jsxs)("div",{className:" flex  items-center justify-start  p-2 font-semibold",children:[Object(j.jsx)("img",{src:Y.a,alt:s.payment_method}),Object(j.jsx)("div",{className:"flex-1 mx-3 text-left",children:"American Express"})]}):"cod"===s.payment_method?Object(j.jsxs)("div",{className:"  flex  items-center justify-start  p-2 font-semibold",children:[Object(j.jsx)("img",{src:L.a,alt:s.payment_method}),Object(j.jsx)("div",{className:"flex-1 mx-3 text-left",children:n({id:"cash-on-delivery"})})]}):void 0]})]}),Object(j.jsxs)("div",{className:" text-sm flex flex-col justify-center font-semibold",children:[function(){switch(s.status){case"completed":return Object(j.jsx)("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-green-700  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-completed"})})});case"canceled":return Object(j.jsx)("div",{className:"uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-main-color  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-cancelled"})})});case"pending":return Object(j.jsx)("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-yellow-600  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-pending"})})});case"delivery":return Object(j.jsx)("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-blue-600  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-delivery"})})});case"waiting_for_payment":return Object(j.jsx)("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-yellow-600  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-waiting-for-payment"})})});case"confirmed":return Object(j.jsx)("div",{className:" uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold bg-blue-600  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-confirmed"})})});case"new":return Object(j.jsx)("div",{className:"uppercase text-body-text-dark flex justify-center items-center rounded    px-2 py-1 font-semibold  bg-blue-600  ",children:Object(j.jsx)("h1",{className:"mx-1",children:n({id:"order-new"})})})}}(),Object(j.jsxs)("div",{className:"mt-auto text-center font-bold",children:[Object(j.jsx)("h1",{children:n({id:"subtotal"})}),Object(j.jsxs)("h1",{className:"text-green-700",children:[s.subtotal," ",null===d||void 0===d?void 0:d.currency.translation[l].symbol]})]})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("h1",{className:"font-bold",children:n({id:"order-receipt"})})}),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsxs)("div",{className:"my-orders-items__grid-mobile",children:[Object(j.jsxs)("div",{className:"my-orders-items__table-mobile font-semibold ",children:[Object(j.jsx)("h1",{children:"#"}),Object(j.jsx)("h1",{children:n({id:"the-item"})}),Object(j.jsx)("h1",{children:n({id:"qty"})}),Object(j.jsx)("h1",{children:n({id:"price"})}),Object(j.jsx)("h1",{children:n({id:"total"})})]}),s.items.map((function(e,t){return Object(j.jsxs)("div",{className:"my-orders-item-mobile text-sm",children:[Object(j.jsx)("div",{className:"text-center ",children:Object(j.jsx)("h1",{className:"",children:t+1})}),Object(j.jsx)(o.b,{to:"/".concat(l,"/products/").concat(e.product.slug,"/").concat(e.id),className:"hover:underline truncate uppercase text-center font-semibold block text-xs",children:e.product.translation[l].title}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("h1",{className:"",children:e.qty})}),Object(j.jsx)("div",{style:{fontWeight:900},children:Object(j.jsxs)("h1",{className:"text-center",children:[e.price," "]})}),Object(j.jsx)("div",{style:{fontWeight:900},className:"text-green-700",children:Object(j.jsxs)("h1",{className:"text-center",children:[(e.price*e.qty).toFixed(3)," ",null===d||void 0===d?void 0:d.currency.translation[l].symbol]})})]},e.id)})),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsxs)("div",{className:"my-orders-receipt-summary-mobile font-bold rounded-lg border bg-gray-100 p-2 text-sm",children:[Object(j.jsx)("h1",{children:n({id:"cart-total"})}),Object(j.jsx)("h1",{children:s.total}),Object(j.jsx)("h1",{children:n({id:"cart-delivery-cost"})}),Object(j.jsxs)("h1",{className:"mb-2",children:[" ","0"===s.shipping_cost?n({id:"cart-free"}):s.shipping_cost]}),s.coupon&&Object(j.jsx)("h1",{className:"mb-2 text-center",children:n({id:"coupon-sale"})}),s.coupon&&Object(j.jsxs)("h1",{className:"mb-2 text-center",children:[s.coupon_cost,Object(j.jsx)("span",{className:"mx-1",children:null===d||void 0===d?void 0:d.currency.translation[l].symbol})]}),Object(j.jsx)("h1",{className:"text-green-700 text-base",children:n({id:"subtotal"})}),Object(j.jsxs)("h1",{className:"text-green-700 text-base",children:[s.subtotal," ",null===d||void 0===d?void 0:d.currency.translation[l].symbol]})]})]})]})]})}var W=s(94),J=s(19),V=s(466),K=s(455);function G(e){var t=e.product,s=e.handleCloseReviewPage,a=Object(r.a)(),c=a.formatMessage,n=a.locale,l=i.a.useState(""),d=Object(b.a)(l,2),o=d[0],x=d[1],m=i.a.useState(2.5),u=Object(b.a)(m,2),p=u[0],O=u[1],g=i.a.useContext(S.a).addReviewMutation,w=i.a.useState(!1),k=Object(b.a)(w,2),M=k[0],C=k[1],P=i.a.useState(""),D=Object(b.a)(P,2),F=D[0],R=D[1],H=i.a.useState(!1),z=Object(b.a)(H,2),A=z[0],T=z[1],E=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,g({id:t.id,review:o,rating:p});case 4:s("success"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),C(!0),R(c({id:"something-went-wrong-snackbar"})),T(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(N.a.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed  top-0 left-0 right-0 bottom-0 overflow-y-auto overflow-x-hidden bg-body-light z-40",style:{height:"calc(100vh - 62px)"},children:[M&&Object(j.jsx)(_.a,{message:F,closeFunction:function(){C(!1)}}),Object(j.jsxs)("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1",children:[Object(j.jsx)("button",{className:"text-white text-center",onClick:s,children:"en"===n?Object(j.jsx)(y.f,{className:"w-6 h-6 "}):Object(j.jsx)(y.g,{className:"w-6 h-6 "})}),Object(j.jsxs)("h1",{className:"font-semibold text-lg mx-4 text-clamp-2",children:[c({id:"add-review"})," ",t.translation[n].title]})]}),Object(j.jsxs)("div",{className:"p-2",children:[Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("h1",{className:"font-bold text-xl",children:c({id:"what-is-your-rating"})}),Object(j.jsx)(K.a,{emptySymbol:Object(j.jsx)(y.t,{className:"text-main-color w-6 h-6"}),fullSymbol:Object(j.jsx)(y.d,{className:"text-main-color w-6 h-6"}),className:"pt-1 mx-2",initialRating:p,onChange:function(e){return O(e)},fractions:2})]}),Object(j.jsxs)("h1",{className:"font-semibold my-2",children:[c({id:"add-feedback"})," :"]}),Object(j.jsx)("textarea",{rows:"6",id:"location",className:" mt-1 w-full rounded border  p-1  ",type:"textarea",value:o,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("div",{className:"flex justify-end",children:Object(j.jsxs)("button",{onClick:E,className:"p-2 uppercase text-sm font-semibold rounded ".concat(o?"bg-main-color text-main-text":"bg-gray-600 text-gray-400"," flex items-center justify-center "),style:{width:"80px"},children:[A&&Object(j.jsx)(h.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:!0}),!A&&c({id:"submit"})]})})]})]})}function I(e){var t=e.handleAddReviewClose,s=e.data,c=e.selectedOrder,n=e.showAddReview,l=Object(r.a)(),d=l.formatMessage,o=l.locale,x=i.a.useState(!1),m=Object(b.a)(x,2),h=m[0],u=m[1],p=i.a.useState(null),O=Object(b.a)(p,2),f=O[0],v=O[1],g=i.a.useState(!1),w=Object(b.a)(g,2),k=w[0],S=w[1],_=i.a.useState(""),M=Object(b.a)(_,2),C=M[0],P=M[1];i.a.useEffect((function(){return n&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow="unset"}}),[n]);return Object(j.jsxs)(N.a.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed  top-0 left-0 right-0 bottom-0 \n      overflow-y-auto overflow-x-hidden h-full\n       bg-body-light z-30",children:[k&&Object(j.jsx)(V.a,{message:C,closeFunction:function(){S(!1)}}),!h&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1",children:[Object(j.jsx)("button",{className:"text-white text-center",onClick:t,children:"en"===o?Object(j.jsx)(y.f,{className:"w-6 h-6 "}):Object(j.jsx)(y.g,{className:"w-6 h-6 "})}),Object(j.jsx)("h1",{className:"font-semibold text-lg mx-4",children:d({id:"add-reviews"})})]}),Object(j.jsx)("div",{className:"font-bold text-lg p-2",children:Object(j.jsx)("h1",{children:d({id:"select-product-to-review"})})}),Object(j.jsx)("div",{className:"grid grid-cols-1 gap-2 p-2",children:s[c].items.map((function(e){var t;return Object(j.jsxs)("div",{onClick:function(){return function(e){u(!0),v(e)}(e.product)},className:"p-3 border cursor-pointer flex items-center hover:shadow hover:bg-gray-100  transition duration-150  rounded-lg",children:[Object(j.jsx)("img",{src:"".concat("https://admin.royal-online.co/storage","/small/").concat(null===(t=e.product.image)||void 0===t?void 0:t.link),alt:e.product.translation[o].title,style:{width:"50px",height:"50px"}}),Object(j.jsx)("h1",{className:"mx-4",children:e.product.translation[o].title})]},e.id)}))})]}),Object(j.jsx)(a.a,{children:h&&Object(j.jsx)(G,{product:f,handleCloseReviewPage:function(e){u(!1),"success"===e&&setTimeout((function(){S(!0),P(d({id:"review-added"}))}),300)}})})]})}function Q(){var e=i.a.useState(!1),t=Object(b.a)(e,2),s=t[0],c=t[1],n=i.a.useState(null),r=Object(b.a)(n,2),l=r[0],d=r[1],o=i.a.useState(null),x=Object(b.a)(o,2),m=x[0],u=x[1],p=Object(W.a)("userOrders",Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.F)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),O=p.data,y=p.isLoading,g=function(e){d(e),c(!0)},w=i.a.useCallback((function(){d(null),c(!1)}),[]),k=i.a.useState(!1),S=Object(b.a)(k,2),_=S[0],M=S[1],C=function(e){M(!0),u(e)};return y?Object(j.jsx)("div",{className:"flex  justify-center items-center",style:{minHeight:"calc(-176px + 100vh)"},children:Object(j.jsx)(h.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:y})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N.a.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"",style:{minHeight:"calc(-176px + 100vh)"},children:0===O.length?Object(j.jsx)(R,{}):Object(j.jsx)("div",{className:"p-3 my-orders-items__grid-mobile",children:O.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsx)(A,{order:e,handleShowOrderDetails:g,handleShowAddReviews:C,index:t})},e.id)}))})}),Object(j.jsx)(a.a,{children:s&&Object(j.jsx)(B,{selectedOrder:l,handleOrderDetailsClose:w,orderDetailsOpen:s},"order-details")}),Object(j.jsx)(a.a,{children:_&&Object(j.jsx)(I,{handleAddReviewClose:function(){M(!1)},data:O,selectedOrder:m,showAddReview:_},"order-review")})]})}var U=s(5),X=s(45),Z=s(38),$=s(25);function ee(e){var t=e.changePasswordMutation,s=e.setPasswordChangeModalOpen,a=Object(r.a)(),c=a.formatMessage,n=a.locale,l=i.a.useState(!1),d=Object(b.a)(l,2),o=d[0],x=d[1],m=i.a.useState(""),u=Object(b.a)(m,2),p=u[0],O=u[1],g=i.a.useState(!1),w=Object(b.a)(g,2),k=w[0],S=w[1],M=i.a.useState(""),C=Object(b.a)(M,2),P=C[0],D=C[1],F=function(){x(!1)},R=$.a({newPassword:$.c().required(c({id:"password-empty"})).min(6,c({id:"password-min-6"})).max(15,c({id:"password-max-15"})),confirmPassword:$.c().required(c({id:"password-empty"})).when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:$.c().oneOf([$.b("newPassword")],c({id:"same-password"}))})});return i.a.useEffect((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]),Object(j.jsxs)(N.a.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed top-0 left-0 right-0 bottom-0  bg-body-light z-30 h-screen",children:[o&&Object(j.jsx)(_.a,{message:p,closeFunction:F}),k&&Object(j.jsx)(V.a,{message:P,closeFunction:F}),Object(j.jsxs)("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1",children:[Object(j.jsx)("button",{className:"text-main-text text-center",onClick:function(){return s(!1)},children:"en"===n?Object(j.jsx)(y.f,{className:"w-6 h-6 "}):Object(j.jsx)(y.g,{className:"w-6 h-6 "})}),Object(j.jsx)("h1",{className:"font-semibold text-lg mx-4",children:c({id:"change-password"})})]}),Object(j.jsx)(Z.a,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:R,onSubmit:function(){var e=Object(v.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.prev=1,e.next=4,t(s);case 4:D(c({id:"password-change-success"})),S(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),x(!0),O("Something went wrong, Please try again");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,s=e.values,a=e.isSubmitting;return Object(j.jsxs)("form",{className:"px-3 py-2 ",onSubmit:t,children:[Object(j.jsx)(te,{label:c({id:"old-password"}),name:"oldPassword",value:s.oldPassword,type:"password"}),Object(j.jsx)(te,{label:c({id:"new-password"}),name:"newPassword",value:s.newPassword,type:"password"}),Object(j.jsx)(te,{label:c({id:"confirm-password"}),name:"confirmPassword",value:s.confirmPassword,type:"password"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsxs)("button",{type:"submit",className:"\n                  \n                      bg-main-color text-main-text\n                   w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase ",children:[a&&Object(j.jsx)(h.a,{type:"ThreeDots",color:"#fff",height:22,width:22,visible:a}),!a&&c({id:"save-button"})]})})]})}})]})}var te=function(e){var t=e.label,s=(e.value,e.name),a=Object(X.a)(e,["label","value","name"]),c=Object(Z.b)(s),i=Object(b.a)(c,2),n=i[0],r=i[1];return Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)("label",{htmlFor:s,className:" font-semibold ",children:t}),Object(j.jsx)("input",Object(U.a)(Object(U.a)(Object(U.a)({},n),a),{},{onBlur:function(e){n.onBlur(e)},className:" ".concat(r.error&&r.touched&&"border-main-color"," w-full rounded-lg border p-2 mt-1")})),r.touched&&r.error?Object(j.jsx)("h1",{className:"text-xs text-main-color mt-1",children:r.error}):Object(j.jsx)("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"},children:" "})]})};function se(e){var t=e.setProfileEditModalOpen,s=e.userData,a=e.editMutation,c=i.a.useState(!1),n=Object(b.a)(c,2),l=n[0],d=n[1],o=i.a.useState(""),x=Object(b.a)(o,2),m=x[0],u=x[1],p=Object(r.a)(),O=p.formatMessage,g=p.locale;i.a.useEffect((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]);var w=$.a({email:$.c().email(O({id:"email-validation"})),name:$.c().required(O({id:"fullname-empty"}))});return Object(j.jsxs)(N.a.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed top-0 left-0 right-0 bottom-0 overflow-y-scroll bg-body-light z-30 h-screen",children:[l&&Object(j.jsx)(_.a,{message:m,closeFunction:function(){d(!1)}}),Object(j.jsxs)("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1",children:[Object(j.jsx)("button",{className:"text-main-text text-center",onClick:function(){return t(!1)},children:"en"===g?Object(j.jsx)(y.f,{className:"w-6 h-6 "}):Object(j.jsx)(y.g,{className:"w-6 h-6 "})}),Object(j.jsx)("h1",{className:"font-semibold text-lg mx-4",children:O({id:"edit-personal-information"})})]}),Object(j.jsx)(Z.a,{initialValues:{email:s.email||"",name:s.name},validationSchema:w,onSubmit:function(){var e=Object(v.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.prev=1,e.next=4,a(s);case 4:t(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),d(!0),u("Something went wrong, Please try again");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleSubmit,s=e.values,a=e.isSubmitting;return Object(j.jsxs)("form",{className:"px-3 py-2 ",onSubmit:t,children:[Object(j.jsx)(ae,{label:O({id:"full-name"}),name:"name",value:s.name,type:"text"}),Object(j.jsx)(ae,{label:O({id:"email-address"}),name:"email",value:s.email,type:"email"}),Object(j.jsx)("div",{className:"mt-1",children:Object(j.jsxs)("button",{type:"submit",className:" bg-main-color text-main-text hover:bg-red-800 w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase ",children:[a&&Object(j.jsx)(h.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:a}),!a&&O({id:"save-button"})]})})]})}})]})}var ae=function(e){var t=e.label,s=(e.value,e.name),a=Object(X.a)(e,["label","value","name"]),c=Object(Z.b)(s),i=Object(b.a)(c,2),n=i[0],r=i[1];return Object(j.jsxs)("div",{className:"mb-2",children:[Object(j.jsx)("label",{htmlFor:s,className:" font-semibold ",children:t}),Object(j.jsx)("input",Object(U.a)(Object(U.a)(Object(U.a)({},n),a),{},{onBlur:function(e){n.onBlur(e)},className:" w-full rounded-lg border p-2 mt-1"})),r.touched&&r.error?Object(j.jsx)("h1",{className:"text-xs text-main-color mt-1",children:r.error}):Object(j.jsx)("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"},children:" "})]})};function ce(){var e=Object(r.a)().formatMessage,t=i.a.useState(!1),s=Object(b.a)(t,2),c=s[0],n=s[1],l=i.a.useState(!1),d=Object(b.a)(l,2),o=d[0],x=d[1],m=i.a.useContext(S.a),u=m.userData,p=m.editMutation,O=m.authenticationLoading,f=m.authenticationFetching,v=m.changePasswordMutation;return O||f?Object(j.jsx)("div",{className:" p-4 ",style:{height:"calc(-173px + 100vh)"},children:Object(j.jsx)("div",{className:"flex h-full justify-center items-center",children:Object(j.jsx)(h.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(N.a.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",children:[Object(j.jsxs)("div",{className:"",children:[Object(j.jsxs)("div",{className:"px-3 py-3 flex justify-between  text-gray-900",children:[Object(j.jsxs)("h1",{className:"text-xl font-semibold",children:[" ",e({id:"general-information"})]}),Object(j.jsx)("button",{onClick:function(){return n(!0)},className:"px-2 py-1 text-sm  font-semibold bg-main-color text-main-text rounded uppercase",children:e({id:"edit"})})]}),Object(j.jsxs)("div",{className:" ",children:[Object(j.jsxs)("div",{className:"py-4 px-3 flex  ",children:[Object(j.jsx)("h1",{className:" font-semibold w-2/4",children:e({id:"full-name"})}),Object(j.jsx)("h1",{className:"",children:u.name})]}),Object(j.jsxs)("div",{className:"py-4 px-3 flex  bg-red-100",children:[Object(j.jsx)("h1",{className:" font-semibold w-2/4",children:e({id:"phone-number"})}),Object(j.jsx)("h1",{className:"",children:u.mobile})]}),Object(j.jsxs)("div",{className:"py-4 px-3 flex  ",children:[Object(j.jsx)("h1",{className:" font-semibold w-2/4",children:e({id:"email-address"})}),Object(j.jsx)("h1",{className:"",children:u.email})]})]})]}),Object(j.jsx)("hr",{className:"my-4"}),Object(j.jsx)("div",{className:"px-3 py-3 flex items-center justify-end",children:Object(j.jsx)("button",{onClick:function(){return x(!0)},className:"py-2 px-3 text-sm  font-semibold bg-main-color text-main-text rounded uppercase",children:e({id:"change-password"})})})]}),Object(j.jsx)(a.a,{children:c&&Object(j.jsx)(se,{userData:u,setProfileEditModalOpen:n,editMutation:p})}),Object(j.jsx)(a.a,{children:o&&Object(j.jsx)(ee,{setPasswordChangeModalOpen:x,changePasswordMutation:v})})]})}function ie(){var e=Object(r.a)().formatMessage,t=Object(l.h)(),s=Object(l.j)().path;return Object(j.jsxs)(d.a,{children:[Object(j.jsx)(n.a,{children:Object(j.jsx)("title",{children:e({id:"my-account"})})}),Object(j.jsxs)("div",{className:"relative",children:[Object(j.jsx)(x,{}),Object(j.jsx)("div",{style:{minHeight:"calc(-176px + 100vh)"},children:Object(j.jsx)(a.a,{exitBeforeEnter:!0,children:Object(j.jsxs)(l.d,{location:t,children:[Object(j.jsx)(l.b,{path:"".concat(s),exact:!0,component:ce}),Object(j.jsx)(l.b,{path:"".concat(s,"/addresses"),component:D}),Object(j.jsx)(l.b,{path:"".concat(s,"/orders"),component:Q})]},t.key)})})]})]})}}}]);
//# sourceMappingURL=24.db9567c0.chunk.js.map