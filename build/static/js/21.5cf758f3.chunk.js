(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[21],{451:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(2),s=n.n(a),i=n(76),c=n(8),o=n(28),l=n(197),r=n(103),d=n(129),m=n(39),b=n(10),u=n(4),x=n.n(u),j=n(9),h=n(5),p=n(19),v=n(17),O=n.n(v),f=(n(37),n(56)),y=n(1);function g(e){var t=e.item,n=e.setSideMenuOpen,a=s.a.useContext(m.a),o=a.removeFromCartMutation,l=a.removeFromGuestCartMutation,d=a.coupon,u=s.a.useContext(b.a).deliveryCountry,v=Object(i.a)(),g=v.formatMessage,N=v.locale,C=s.a.useState(!1),_=Object(h.a)(C,2),k=_[0],w=_[1],M=s.a.useContext(p.a).userId,S=function(){var e=Object(j.a)(x.a.mark((function e(){var n,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,!M){e.next=10;break}return n=t.id,a=t.cart_id,e.next=7,o({id:n,cart_id:a,userId:M,deliveryCountry:u,coupon:d});case 7:w(!1),e.next=14;break;case 10:return s=t.options.sku,e.next=13,l({sku:s,deliveryCountry:u,coupon:d});case 13:w(!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),w(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),L={hidden:{x:"".concat("ar"===N?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return Object(y.jsxs)(r.a.div,{initial:"hidden",animate:"visible",exit:"exited",variants:L,className:" side-cart-menu__item mb-2 ",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)(c.b,{title:"".concat(t["name_".concat(N)]),to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)(f.a,{src:t.image,origin:"original",alt:t["name_".concat(N)],pb:"calc(100% * 210/210)"})})}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(c.b,{title:"".concat(t["name_".concat(N)]),className:"hover:underline",to:"/".concat(N,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)("h1",{className:"font-semibold text-clamp-2 text-sm uppercase ",children:"".concat(t["name_".concat(N)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(y.jsxs)("div",{className:"flex items-center text-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("h1",{className:"text-xs font-semibold",children:g({id:"price"})}),Object(y.jsxs)("h1",{className:"text-xs font-bold mx-1",children:[t.total," ",null===u||void 0===u?void 0:u.currency.translation[N].symbol]})]}),Object(y.jsxs)("div",{className:"flex items-center text-xs mx-2",children:[Object(y.jsxs)("h1",{className:"font-semibold",children:[g({id:"qty"})," :"]}),Object(y.jsx)("h1",{className:"mx-1 font-bold",children:t.qty})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"\n                bg-main-color text-main-text\n            text-xs rounded p-1 my-1 flex uppercase items-center font-semibold justify-center ",style:{width:"140px"},onClick:S,children:k?Object(y.jsx)(O.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):g({id:"remove-from-cart"})})})]})]})}function N(e){var t=e.setSideMenuOpen,n=s.a.useContext(m.a),a=n.sideCartItems,u=n.sideCartSubTotal,x=n.sideCartCouponCost,j=s.a.useContext(b.a).deliveryCountry,h=Object(i.a)(),p=h.formatMessage,v=h.locale,O={hidden:{x:"".concat("ar"===v?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween"}},exited:{x:"".concat("ar"===v?"-100%":"100%"),transition:{when:"afterChildren"}}};return Object(y.jsx)(r.a.div,{variants:O,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===v?"left-0":"right-0"),children:Object(y.jsxs)("div",{className:" bg-body-light p-2 h-full flex flex-col ",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("h1",{className:"font-semibold",children:p({id:"shopping-cart"})}),Object(y.jsx)("button",{onClick:function(){return t(!1)},children:Object(y.jsx)(o.b,{className:"w-5 h-5 "})})]}),Object(y.jsx)("hr",{className:"my-2"}),0===(null===a||void 0===a?void 0:a.length)&&Object(y.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(y.jsx)("img",{src:l.a,alt:"Empty cart"}),Object(y.jsx)("h1",{className:"font-bold mb-2",children:p({id:"cart-empty"})}),Object(y.jsx)(c.b,{to:"/".concat(v),className:"text-sm text-blue-600 hover:underline",children:p({id:"check-today-deals"})})]}),a.length>0&&Object(y.jsx)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden",children:Object(y.jsx)(d.a,{children:a.map((function(e){return Object(y.jsx)(g,{item:e,setSideMenuOpen:t},e.options.sku)}))})}),Object(y.jsx)("hr",{className:"my-1"}),a.length>0&&Object(y.jsxs)("div",{children:["0.000"!==x&&Object(y.jsxs)("div",{className:"flex text-green-700 justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold ",children:p({id:"coupon-sale"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[x," ",null===j||void 0===j?void 0:j.currency.translation[v].symbol]})]}),Object(y.jsxs)("div",{className:"flex justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold",children:p({id:"subtotal"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[u," ",null===j||void 0===j?void 0:j.currency.translation[v].symbol]})]}),Object(y.jsx)("hr",{className:"my-1"}),Object(y.jsx)("div",{className:" flex items-center my-2 text-center text-main-text ",children:Object(y.jsx)(c.b,{to:"/".concat(v,"/cart"),className:"flex-1 py-2 px-3 border font-semibold border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded",children:p({id:"go-to-cart"})})})]})]})})}},483:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var a=n(5),s=n(129),i=n(103),c=n(2),o=n.n(c),l=n(195),r=n(131),d=n(76),m=n(200),b=n.n(m),u=n(93),x=n(40),j=n(145),h=n(201),p=n(198),v=n(199),O=n(95),f=n(451),y=n(10),g=n(18),N=n(1);function C(){var e,t,n,c,m,C=Object(d.a)(),_=C.formatMessage,k=C.locale,w=Object(x.i)().slug,M=o.a.useState(1),S=Object(a.a)(M,2),L=S[0],I=S[1],D=o.a.useState(!1),P=Object(a.a)(D,2),F=P[0],q=P[1],H=o.a.useContext(y.a),J=H.deliveryCountriesLoading,T=H.deliveryCountriesIdle,z=H.settings,E=Object(u.a)(["single-brand",{slug:w,page:L,number:42}],(function(){return Object(g.z)({slug:w,page:L,number:42})}),{retry:!0,refetchOnWindowFocus:!1,keepPreviousData:!0}),G=E.data,R=E.isLoading,W=E.status;return console.log(G),console.log(R),console.log(W),Object(N.jsxs)(O.a,{children:[Object(N.jsxs)(l.a,{children:[Object(N.jsx)("title",{children:G?"".concat(G.brandName[k].name):null===z||void 0===z?void 0:z.store_name_en}),Object(N.jsx)("meta",{name:"description",content:G?"".concat(_({id:"shop"})," ").concat(null===G||void 0===G||null===(e=G.brandName)||void 0===e?void 0:e[k].name):null===z||void 0===z?void 0:z.store_name_en}),Object(N.jsx)("meta",{property:"og:title",content:G?"".concat(G.brandName[k].name," }"):null===z||void 0===z?void 0:z.store_name_en}),Object(N.jsx)("meta",{property:"og:description",content:G?"".concat(_({id:"shop"})," ").concat(null===G||void 0===G||null===(t=G.full_translation)||void 0===t?void 0:t[k].title):null===z||void 0===z?void 0:z.store_name_en})]}),Object(N.jsxs)(s.a,{children:[F&&Object(N.jsx)(f.a,{setSideMenuOpen:q},"side-cart"),F&&Object(N.jsx)(i.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return q(!1)},className:"side__addCart-bg"},"sidecart-bg")]}),Object(N.jsxs)("div",{className:"max-w-default mx-auto p-4 overflow-hidden",style:{minHeight:"calc(100vh - 150px)"},children:[!R&&Object(N.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[Object(N.jsxs)("h1",{className:"font-bold text-2xl mb-3",children:[_({id:"shop-brands"})," ",null===G||void 0===G||null===(n=G.brandName)||void 0===n?void 0:n[k].name]}),Object(N.jsx)("img",{src:"".concat("https://admin.royal-online.co/storage","/original/").concat(null===G||void 0===G?void 0:G.brandLogo),alt:null===G||void 0===G||null===(c=G.brandName)||void 0===c?void 0:c[k].name,style:{maxHeight:"200px",width:"auto"}})]}),(R||J||T)&&Object(N.jsx)("div",{className:"brand-grid__desktop py-2 ",children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27].map((function(e){return Object(N.jsx)(h.a,{},e)}))}),Object(N.jsx)("div",{className:"brand-grid__desktop py-2 ",children:null===G||void 0===G||null===(m=G.products)||void 0===m?void 0:m.map((function(e){return"variation"===e.type&&Object.entries(e.new_variation_addons).length>0?Object(N.jsx)(v.a,{setCartMenuOpen:q,item:e},e.id):Object(N.jsx)(p.a,{setCartMenuOpen:q,item:e},e.id)}))})]}),Object(N.jsx)(b.a,{previousLabel:Object(N.jsx)(r.a,{className:"w-6 h-6 inline"}),nextLabel:Object(N.jsx)(r.b,{className:"w-6 h-6 inline"}),breakLabel:"...",breakClassName:"inline",pageCount:null===G||void 0===G?void 0:G.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:2,initialPage:L-1,disableInitialCallback:!0,onPageChange:function(e){Object(j.b)(window,{top:500}),I(e.selected+1)},containerClassName:"my-2 w-full text-center",subContainerClassName:"p-3 inline",pageLinkClassName:"p-3",activeClassName:"bg-main-color font-bold text-main-text",pageClassName:" inline-block mx-2 rounded-full text-lg",previousClassName:"p-3 inline font-bold",nextClassName:"p-3 inline font-bold",disabledClassName:"text-gray-500"})]})}}}]);
//# sourceMappingURL=21.5cf758f3.chunk.js.map