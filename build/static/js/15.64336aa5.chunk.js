(this["webpackJsonproyal-pharmacy"]=this["webpackJsonproyal-pharmacy"]||[]).push([[15],{454:function(e,t,n){"use strict";t.a=n.p+"static/media/cartEmpty.4e6c2887.png"},455:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(2),i=n.n(a),c=n(78),s=n(8),r=n(29),o=n(454),l=n(114),d=n(145),u=n(39),b=n(10),m=n(4),x=n.n(m),p=n(9),j=n(5),v=n(18),h=n(17),f=n.n(h),O=(n(38),n(62)),y=n(1);function g(e){var t=e.item,n=e.setSideMenuOpen,a=i.a.useContext(u.a),r=a.removeFromCartMutation,o=a.removeFromGuestCartMutation,d=a.coupon,m=i.a.useContext(b.a).deliveryCountry,h=Object(c.a)(),g=h.formatMessage,_=h.locale,w=i.a.useState(!1),k=Object(j.a)(w,2),N=k[0],C=k[1],I=i.a.useContext(v.a).userId,M=function(){var e=Object(p.a)(x.a.mark((function e(){var n,a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),e.prev=1,!I){e.next=10;break}return n=t.id,a=t.cart_id,e.next=7,r({id:n,cart_id:a,userId:I,deliveryCountry:m,coupon:d});case 7:C(!1),e.next=14;break;case 10:return i=t.options.sku,e.next=13,o({sku:i,deliveryCountry:m,coupon:d});case 13:C(!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),C(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),q={hidden:{x:"".concat("ar"===_?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return Object(y.jsxs)(l.a.div,{initial:"hidden",animate:"visible",exit:"exited",variants:q,className:" side-cart-menu__item mb-2 ",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)(s.b,{title:"".concat(t["name_".concat(_)]),to:"/".concat(_,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)(O.a,{src:t.image,origin:"original",alt:t["name_".concat(_)],pb:"calc(100% * 210/210)"})})}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(s.b,{title:"".concat(t["name_".concat(_)]),className:"hover:underline",to:"/".concat(_,"/products/").concat(t.slug,"/").concat(t.id),onClick:function(){return n(!1)},children:Object(y.jsx)("h1",{className:"font-semibold text-clamp-2 text-sm uppercase ",children:"".concat(t["name_".concat(_)]).concat(t.options.addons?" - ".concat(Object.keys(t.options.addons).map((function(e){return t.options.addons[e]})).join(" - ")):"")})}),Object(y.jsxs)("div",{className:"flex items-center text-gray-700",children:[Object(y.jsxs)("div",{className:"flex items-center",children:[Object(y.jsx)("h1",{className:"text-xs font-semibold",children:g({id:"price"})}),Object(y.jsxs)("h1",{className:"text-xs font-bold mx-1",children:[t.total," ",null===m||void 0===m?void 0:m.currency.translation[_].symbol]})]}),Object(y.jsxs)("div",{className:"flex items-center text-xs mx-2",children:[Object(y.jsxs)("h1",{className:"font-semibold",children:[g({id:"qty"})," :"]}),Object(y.jsx)("h1",{className:"mx-1 font-bold",children:t.qty})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"\n                bg-main-color text-main-text\n            text-xs rounded p-1 my-1 flex uppercase items-center font-semibold justify-center ",style:{width:"140px"},onClick:M,children:N?Object(y.jsx)(f.a,{type:"ThreeDots",color:"#fff",height:18,width:18,visible:!0}):g({id:"remove-from-cart"})})})]})]})}function _(e){var t=e.setSideMenuOpen,n=i.a.useContext(u.a),a=n.sideCartItems,m=n.sideCartSubTotal,x=n.sideCartCouponCost,p=i.a.useContext(b.a).deliveryCountry,j=Object(c.a)(),v=j.formatMessage,h=j.locale,f={hidden:{x:"".concat("ar"===h?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween"}},exited:{x:"".concat("ar"===h?"-100%":"100%"),transition:{when:"afterChildren"}}};return Object(y.jsx)(l.a.div,{variants:f,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===h?"left-0":"right-0"),children:Object(y.jsxs)("div",{className:" bg-body-light p-2 h-full flex flex-col ",children:[Object(y.jsxs)("div",{className:"flex items-center justify-between",children:[Object(y.jsx)("h1",{className:"font-semibold",children:v({id:"shopping-cart"})}),Object(y.jsx)("button",{onClick:function(){return t(!1)},children:Object(y.jsx)(r.b,{className:"w-5 h-5 "})})]}),Object(y.jsx)("hr",{className:"my-2"}),0===(null===a||void 0===a?void 0:a.length)&&Object(y.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(y.jsx)("img",{src:o.a,alt:"Empty cart"}),Object(y.jsx)("h1",{className:"font-bold mb-2",children:v({id:"cart-empty"})}),Object(y.jsx)(s.b,{to:"/".concat(h),className:"text-sm text-blue-600 hover:underline",children:v({id:"check-today-deals"})})]}),a.length>0&&Object(y.jsx)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden",children:Object(y.jsx)(d.a,{children:a.map((function(e){return Object(y.jsx)(g,{item:e,setSideMenuOpen:t},e.options.sku)}))})}),Object(y.jsx)("hr",{className:"my-1"}),a.length>0&&Object(y.jsxs)("div",{children:["0.000"!==x&&Object(y.jsxs)("div",{className:"flex text-green-700 justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold ",children:v({id:"coupon-sale"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[x," ",null===p||void 0===p?void 0:p.currency.translation[h].symbol]})]}),Object(y.jsxs)("div",{className:"flex justify-between semibold items-center  my-2",children:[Object(y.jsx)("h1",{className:"font-bold",children:v({id:"subtotal"})}),Object(y.jsxs)("h1",{className:" font-bold",children:[m," ",null===p||void 0===p?void 0:p.currency.translation[h].symbol]})]}),Object(y.jsx)("hr",{className:"my-1"}),Object(y.jsx)("div",{className:" flex items-center my-2 text-center text-main-text ",children:Object(y.jsx)(s.b,{to:"/".concat(h,"/cart"),className:"flex-1 py-2 px-3 border font-semibold border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded",children:v({id:"go-to-cart"})})})]})]})})}},468:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(2);var a=n(79),i=n.n(a),c=n(56),s=n.p+"static/media/DesktopBannerPlaceholder.800789ab.png",r=n.p+"static/media/MobileBannerPlaceholder.2796699e.png",o=n(1);function l(e){var t=e.src,n=e.pb,a=e.alt,l=e.origin,d=Object(c.useMediaQuery)({query:"(min-width:768px)"});return Object(o.jsx)("div",{style:{position:"relative",backgroundColor:"#fff",paddingBottom:n,width:"100%",borderRadius:!d&&"12px",overflow:"hidden"},children:Object(o.jsx)(i.a,{offset:400,placeholder:Object(o.jsx)("img",{src:d?s:r,alt:a}),className:"max-h-full",children:Object(o.jsx)("img",{src:t?"".concat("https://admin.royal-online.co/storage","/").concat(l||"original","/").concat(t):d?s:r,alt:a,style:{maxHeight:"100%",maxWidth:"100%",display:"block",left:0,right:0},className:"mx-auto my-0 absolute"})})})}},502:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return te}));var a=n(5),i=n(2),c=n.n(i),s=n(79),r=n.n(s),o=n(56),l=n(104),d=n(94),u=n(19),b=n(78),m=n(450),x=n(446),p=n(448),j=n(485),v=n(486),h=(n(199),n(468)),f=n(1);p.a.use([j.a,v.a]);var O=function(){var e=Object(o.useMediaQuery)({query:"(min-width: 668px)"}),t=Object(b.a)().locale,n=Object(d.a)(["mainCarousel",e],u.v,{refetchOnWindowFocus:!1,retry:!0}),a=n.data,i=n.isLoading;return Object(f.jsx)("div",{className:"mb-6 bg-body-light",children:Object(f.jsxs)(m.a,{autoplay:{delay:5e3},pagination:{clickable:!0,dynamicBullets:!0},id:"main",slidesPerView:1,spaceBetween:10,centeredSlides:!0,children:[i&&[0,1,2].map((function(t){return Object(f.jsx)(x.a,{className:"",children:Object(f.jsx)(l.a,{speed:4,viewBox:"0 0 ".concat(e?"1440":"800"," ").concat(e?"300":"500"),backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(f.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"".concat(e?"300":"500")})})},t)})),!i&&a.map((function(n){var a,i,c;return Object(f.jsx)(x.a,{children:Object(f.jsx)("a",{href:"/".concat(t,"/category/").concat(null===(a=n.category)||void 0===a?void 0:a.slug,"/").concat(null===(i=n.category)||void 0===i?void 0:i.id),children:Object(f.jsx)(h.a,{src:null===(c=n.translation[t].image)||void 0===c?void 0:c.link,alt:"something",origin:"original",pb:"".concat(e?"calc(100% * 300/1440)":"calc(100% * 500/800)")})})},n.id)}))]})})};function y(e){var t=e.url,n=Object(o.useMediaQuery)({query:"(min-width: 768px)"});return Object(f.jsx)("div",{className:"",children:Object(f.jsx)(h.a,{src:t,origin:"original",alt:"banner",pb:n?"calc(100% * 300/1440)":"calc(100% * 300/800)"})})}var g=n(10),_=n(445),w=n(62),k=n(8);function N(){var e=c.a.useContext(g.a),t=e.categories,n=e.categoriesLoading,a=Object(b.a)(),i=a.locale,s=a.formatMessage;return Object(f.jsxs)("div",{className:"my-3 text-body-text-light",children:[Object(f.jsx)("div",{className:"flex items-center mb-8",children:Object(f.jsx)("h1",{className:"text-xl md:text-2xl flex-1 font-bold",children:s({id:"shop-by-category"})})}),Object(f.jsxs)(m.a,{freeMode:!0,id:"main",spaceBetween:10,breakpoints:{320:{slidesPerView:2.25,spaceBetween:10},480:{slidesPerView:3.5,spaceBetween:15},640:{slidesPerView:4.5,spaceBetween:15},860:{slidesPerView:6,spaceBetween:15},1100:{slidesPerView:8,spaceBetween:15},1440:{slidesPerView:10,spaceBetween:15}},children:[n&&[0,1,2,3,4,5,6,7,8].map((function(e){return Object(f.jsx)(x.a,{className:"overflow-hidden ",children:Object(f.jsx)(l.a,{speed:2,viewBox:"0 0 400 500",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:Object(f.jsx)("circle",{cx:"50%",cy:"50%",r:"200",width:"100%"})})},e)})),t&&t.map((function(e){var t;return Object(f.jsx)(x.a,{className:"rounded-full",children:Object(f.jsx)("div",{className:"  overflow-hidden  relative ",children:Object(f.jsx)(k.b,{to:"/".concat(i,"/category/").concat(e.slug,"/").concat(e.id),children:Object(f.jsx)(w.a,{src:null===(t=e.translation[i].image)||void 0===t?void 0:t.link,alt:e.translation[i].name,origin:"small",pb:"calc(100% * 260/260)"})})})},e.id)}))]})]})}p.a.use([_.a]);var C=n(95);function I(){var e=Object(b.a)().locale;return Object(f.jsx)(m.a,{id:"main",spaceBetween:10,breakpoints:{320:{slidesPerView:2,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},860:{slidesPerView:5,spaceBetween:20},1100:{slidesPerView:7,spaceBetween:20},1440:{slidesPerView:8,spaceBetween:20}},children:[0,1,2,3,4,5,6,7].map((function(t){return Object(f.jsx)(x.a,{className:" my-1",children:Object(f.jsx)(l.a,{speed:2,viewBox:"0 0 165 321",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",rtl:"ar"===e,children:Object(f.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"321"})})},t)}))})}var M=n(51),q=n(6),B=n(4),S=n.n(B),P=n(9),V=n(145),F=n(114),E=n(18),T=n(17),D=n.n(T),Q=(n(38),n(39)),L=n(150),G=n(21),W=n(102),H=n(487);function J(e){var t,n,i,s,r,l,d,u,m,x,p,j=e.item,v=e.setCartMenuOpen,h=e.setErrorOpen,O=e.setErrorMessage,y=Object(W.b)(),_=Object(b.a)(),N=_.formatMessage,C=_.locale,I=c.a.useContext(g.a),B=I.deliveryCountry,T=I.setMobileCartPopupOpen,J=c.a.useState(!1),R=Object(a.a)(J,2),z=R[0],A=R[1],K=c.a.useState(!1),U=Object(a.a)(K,2),X=U[0],Y=U[1],Z=c.a.useState(!1),$=Object(a.a)(Z,2),ee=$[0],te=$[1],ne=c.a.useState(!1),ae=Object(a.a)(ne,2),ie=ae[0],ce=ae[1],se=c.a.useContext(E.a).userId,re=c.a.useState(""),oe=Object(a.a)(re,2),le=oe[0],de=oe[1],ue=c.a.useState(0),be=Object(a.a)(ue,2),me=be[0],xe=be[1],pe=Object(o.useMediaQuery)({query:"(min-width: 768px)"}),je=c.a.useContext(Q.a),ve=je.addToGuestCartMutation,he=je.addToCartMutation,fe=je.coupon,Oe=je.guestCartItems,ye=je.cartItems,ge=je.removeFromGuestCartMutation,_e=je.removeFromCartMutation,we=je.editGuestCartMutation,ke=je.editCartMutation,Ne=Object(H.a)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newItem,a=t.deliveryCountry,i=t.coupon,e.next=3,ve({newItem:n,deliveryCountry:a,coupon:i});case 3:de(N({id:"added-to-cart"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),750),Ce=Object(H.a)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newItem,e.next=3,he({newItem:n,userId:se,deliveryCountry:B,coupon:fe});case 3:de(N({id:"added-to-cart"})),A(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),0),Ie=Object(H.a)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.quantity,a=null===ye||void 0===ye?void 0:ye.find((function(e){return e.options.sku===j.simple_addons.sku})),e.next=4,ke({cartId:a.cart_id,itemId:j.id,userId:se,quantity:n,coupon:fe});case 4:A(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),0),Me=Object(H.a)(function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.quantity,a=j.simple_addons.promotion_price?j.simple_addons.promotion_price:j.simple_addons.price,e.next=4,we({sku:j.simple_addons.sku,quantity:n,price:a,deliveryCountry:B,coupon:fe});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),750),qe=function(){var e=Object(P.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(),!pe){e.next=7;break}if(1!==me&&0!==me){e.next=4;break}return e.abrupt("return");case 4:xe(parseInt(me)-1),e.next=36;break;case 7:if(0!==me){e.next=9;break}return e.abrupt("return");case 9:if(1!==me){e.next=24;break}if(!se){e.next=18;break}return t=null===ye||void 0===ye?void 0:ye.find((function(e){return e.options.sku===j.simple_addons.sku})),e.next=14,_e({id:j.id,userId:se,cart_id:t.cart_id,deliveryCountry:B,coupon:fe});case 14:de(""),xe(0),e.next=22;break;case 18:return e.next=20,ge({sku:j.simple_addons.sku,deliveryCountry:B,coupon:fe});case 20:de(""),xe(0);case 22:e.next=36;break;case 24:if(n=j.simple_addons.promotion_price?j.simple_addons.promotion_price:j.simple_addons.price,!se){e.next=32;break}return A(!0),e.next=29,Ie({quantity:me-1});case 29:xe(me-1),e.next=36;break;case 32:return y.setQueryData(["guestCartItems",B,fe],(function(e){var t=e.cartItems.find((function(e){return e.options.sku===j.simple_addons.sku})),a=e.cartItems.find((function(e){return e.options.sku===j.simple_addons.sku}));return e.cartItems[a]=Object(q.a)(Object(q.a)({},t),{},{qty:me-1}),Object(q.a)(Object(q.a)({},e),{},{cartSubtotal:(parseFloat(e.cartSubtotal)-parseFloat(n)).toFixed(3)})})),xe(me-1),e.next=36,Me({quantity:me-1});case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(P.a)(S.a.mark((function e(){var t,n,a,i,c,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.simple_addons.quantity===me){e.next=44;break}if(pe){e.next=44;break}if(T(!0),!se){e.next=25;break}if(e.prev=4,t={id:j.id,quantity:me+1},0!==me){e.next=13;break}return A(!0),e.next=10,Ce({newItem:t});case 10:xe(parseInt(me)+1),e.next=17;break;case 13:return A(!0),e.next=16,Ie({quantity:me+1});case 16:xe(parseInt(me)+1);case 17:pe&&(v(!0),de(N({id:"added-to-cart"}))),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),"Item founded on the Cart"===(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)?de(N({id:"added-to-cart"})):(h(!0),O(N({id:"something-went-wrong-snackbar"})));case 23:e.next=44;break;case 25:if(xe(parseInt(me)+1),e.prev=26,i=j.simple_addons.promotion_price?j.simple_addons.promotion_price:j.simple_addons.price,c=j.simple_addons.sku,s={id:j.id,quantity:me+1,price:i,sku:c},y.setQueryData(["guestCartItems",B,fe],(function(e){return Object(q.a)(Object(q.a)({},e),{},{cartItems:[].concat(Object(M.a)(e.cartItems),[{id:j.id,image:j.image.link,message:null,name_ar:j.translation.ar.title,name_en:j.translation.en.title,options:{max_quantity:j.max_quantity,addons:null,sku:j.sku},price:j.simple_addons.promotion_price?j.simple_addons.promotion_price:j.simple_addons.price,qty:me+1,slug:j.slug,status:!0}]),cartSubtotal:(parseFloat(e.cartSubtotal)+parseFloat(i)).toFixed(3)})})),0!==me){e.next=36;break}return e.next=34,Ne({newItem:s,deliveryCountry:B,coupon:fe});case 34:e.next=38;break;case 36:return e.next=38,Me({quantity:me+1});case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(26),h(!0),O(N({id:"something-went-wrong-snackbar"}));case 44:case"end":return e.stop()}}),e,null,[[4,20],[26,40]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(P.a)(S.a.mark((function e(){var t,n,a,i,c,s,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==me){e.next=2;break}return e.abrupt("return");case 2:if(!((null===(t=j.simple_addons)||void 0===t?void 0:t.quantity)<1)){e.next=5;break}return de(N({id:"out-of-stock"})),e.abrupt("return");case 5:if(te(!0),!se){e.next=20;break}return e.prev=7,n={id:j.id,quantity:me},e.next=11,he({newItem:n,userId:se,deliveryCountry:B,coupon:fe});case 11:te(!1),pe&&(v(!0),de(N({id:"added-to-cart"}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),"Item founded on the Cart"===(null===(a=e.t0.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)?(de(N({id:"added-to-cart"})),te(!1)):(te(!1),h(!0),O(N({id:"something-went-wrong-snackbar"})));case 18:e.next=35;break;case 20:return e.prev=20,c=j.simple_addons.promotion_price?j.simple_addons.promotion_price:j.simple_addons.price,s=j.simple_addons.sku,r={id:j.id,quantity:me,price:c,sku:s},e.next=26,ve({newItem:r,deliveryCountry:B,coupon:fe});case 26:te(!1),pe&&(v(!0),de(N({id:"added-to-cart"}))),e.next=35;break;case 30:e.prev=30,e.t1=e.catch(20),h(!0),O(N({id:"something-went-wrong-snackbar"})),te(!1);case 35:case"end":return e.stop()}}),e,null,[[7,15],[20,30]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){if(!ie&&!pe)if(se){if(ye){var e=null===ye||void 0===ye?void 0:ye.find((function(e){return e.options.sku===j.simple_addons.sku}));e&&xe(e.qty),ce(!0)}}else if(!se&&Oe){var t=null===Oe||void 0===Oe?void 0:Oe.find((function(e){return e.options.sku===j.simple_addons.sku}));t&&t.qty!==me&&xe(t.qty),ce(!0)}}),[se,Oe,ye]),c.a.useEffect((function(){return function(){T(!1)}}),[]),Object(f.jsxs)("div",{onMouseEnter:function(){!le&&pe&&Y(!0)},onMouseLeave:function(){pe&&Y(!1)},children:[Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsxs)(k.b,{className:"block relative border rounded",to:"/".concat(C,"/products/").concat(j.slug,"/").concat(j.id),children:[Object(f.jsx)(w.a,{src:null===(t=j.image)||void 0===t?void 0:t.link,alt:j.translation[C].title,height:"175px",origin:"small"}),(null===(n=j.simple_addons)||void 0===n?void 0:n.promotion_price)&&j.simple_addons.quantity>0&&Object(f.jsxs)("div",{className:"absolute bg-green-800 px-1 text-main-text font-bold top-0   uppercase text-xs ".concat("ar"===C?"pl-4 right-0":"pr-4 left-0"),style:{clipPath:"ar"===C?"polygon(0 0, 100% 0, 100% 100%, 0 100%, 14% 50%)":"polygon(0% 0%, 100% 0, 86% 50%, 100% 100%, 0% 100%)"},children:[Object(L.a)(null===(i=j.simple_addons)||void 0===i?void 0:i.price,null===(s=j.simple_addons)||void 0===s?void 0:s.promotion_price)," ",N({id:"off"})]}),(null===(r=j.simple_addons)||void 0===r?void 0:r.quantity)<1&&Object(f.jsx)("div",{className:"absolute bg-main-color  text-main-text font-bold top-0   uppercase text-xs right-0 left-0 text-center",children:N({id:"out-of-stock"})})]}),Object(f.jsx)(V.a,{children:X&&(null===(l=j.simple_addons)||void 0===l?void 0:l.quantity)>0&&Object(f.jsx)(F.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:Se,className:"flex items-center justify-center absolute w-full bottom-10",children:Object(f.jsx)("button",{className:" flex items-center justify-center rounded uppercase p-2 bg-main-color text-main-text text-sm",style:{width:"110px"},children:ee?Object(f.jsx)(D.a,{type:"ThreeDots",color:"#fff",height:21,width:21,visible:!0}):N({id:"add-to-cart"})})})}),Object(f.jsx)(V.a,{children:le&&Object(f.jsx)(F.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"absolute top-0 w-full h-full flex items-center justify-center text-main-text bg-gray-800 text-2xl",children:Object(f.jsx)("h1",{className:"text-center",children:le})})})]}),Object(f.jsxs)("div",{className:"bg-body-light text-body-text-light",children:[Object(f.jsx)("div",{className:"p-2",style:{height:"18px"},children:Object(f.jsx)(k.b,{title:j.translation[C].title,className:"hover:underline inline-block text-main-color underline",to:"/".concat(C,"/brands/").concat(null===(d=j.brand)||void 0===d?void 0:d.slug),children:Object(f.jsx)("h1",{className:"text-clamp-1 text-xs uppercase font-bold",children:null===(u=j.brand)||void 0===u?void 0:u.translation[C].name})})}),Object(f.jsx)("div",{className:"p-2",style:{height:"55px"},children:Object(f.jsx)(k.b,{title:j.translation[C].title,className:"hover:underline inline-block",to:"/".concat(C,"/products/").concat(j.slug,"/").concat(j.id),children:Object(f.jsx)("h1",{className:"text-clamp-2  text-sm uppercase font-semibold",children:j.translation[C].title})})}),Object(f.jsx)("div",{className:"p-2 flex items-center font-bold justify-between",children:(null===(m=j.simple_addons)||void 0===m?void 0:m.promotion_price)?Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("h1",{className:" text-lg text-main-color",children:(j.simple_addons.promotion_price*(null===B||void 0===B?void 0:B.currency.value)).toFixed(3)}),Object(f.jsx)("span",{className:"mx-1 text-sm  text-main-color",children:null===B||void 0===B?void 0:B.currency.translation[C].symbol}),Object(f.jsxs)("h1",{className:" text-xs mx-1 italic line-through text-gray-700",children:[((null===(x=j.simple_addons)||void 0===x?void 0:x.price)*(null===B||void 0===B?void 0:B.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"",children:null===B||void 0===B?void 0:B.currency.translation[C].symbol})]})]}):Object(f.jsxs)("h1",{className:"text-lg text-main-color",children:[((null===(p=j.simple_addons)||void 0===p?void 0:p.price)*(null===B||void 0===B?void 0:B.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"mx-1 text-sm",children:null===B||void 0===B?void 0:B.currency.translation[C].symbol})]})}),Object(f.jsxs)("div",{className:"flex w-full",children:[Object(f.jsx)("button",{onClick:qe,className:" flex-1 p-2 border flex items-center justify-center",disabled:z,children:Object(f.jsx)(G.o,{})}),Object(f.jsx)("p",{className:"p-2 flex-1 border-t border-b flex items-center justify-center",children:me}),Object(f.jsx)("button",{onClick:function(){Be()},disabled:z,className:"p-2 flex-1 border flex items-center justify-center",children:Object(f.jsx)(G.q,{})})]})]})]})}var R=n(34),z=n(22),A=n(40);function K(e){var t,n,i,s,r=e.item,o=e.setCartMenuOpen,l=e.setErrorMessage,d=e.setErrorOpen,u=c.a.useContext(Q.a),m=u.addToCartMutation,x=u.addToGuestCartMutation,p=u.coupon,j=Object(b.a)(),v=j.formatMessage,h=j.locale,O=c.a.useContext(g.a).deliveryCountry,y=c.a.useState(!1),_=Object(a.a)(y,2),N=_[0],C=_[1],I=c.a.useState(!1),M=Object(a.a)(I,2),B=M[0],T=M[1],G=Object(A.g)(),W=c.a.useState((function(){return Object.keys(r.new_variation_addons)[0]})),H=Object(a.a)(W,2),J=H[0],K=H[1],U=c.a.useState((function(){var e={};return Object.keys(r.new_variation_addons).forEach((function(t){e[t]=0})),e})),X=Object(a.a)(U,2),Y=X[0],Z=X[1],$=c.a.useContext(E.a).userId,ee=c.a.useState(""),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],ie=c.a.useState(null),ce=Object(a.a)(ie,2),se=ce[0],re=ce[1],oe=!r.new_variation_addons[J].options,le=oe?r.new_variation_addons[J]:r.new_variation_addons[J].options[Y[J]],de=r.new_variation_addons[J].options?!!r.new_variation_addons[J].options[Y[J]].promotion_price:!!r.new_variation_addons[J].promotion_price,ue=function(){var e=Object(P.a)(S.a.mark((function e(){var t,n,a,i,c,s,u,b,j,h,f,y,g,_,w,k;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(le.quantity<1)){e.next=3;break}return ae(v({id:"out-of-stock"})),e.abrupt("return");case 3:if(re(!0),!$){e.next=19;break}return e.prev=5,u={id:r.id,quantity:1,variation:{id:null===(t=r.new_variation_addons)||void 0===t?void 0:t[J].id,item_id:null===(n=r.new_variation_addons)||void 0===n?void 0:n[J].addon_item_value},option:{id:null===(a=r.new_variation_addons)||void 0===a||null===(i=a[J].options)||void 0===i?void 0:i[Y[J]].id,item_id:null===(c=r.new_variation_addons)||void 0===c||null===(s=c[J].options)||void 0===s?void 0:s[Y[J]].addon_item_value}},e.next=9,m({newItem:u,userId:$,deliveryCountry:O,coupon:p});case 9:re(!1),o(!0),ae(v({id:"added-to-cart"})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),"Item founded on the Cart"===e.t0.response.data.message?(ae(v({id:"added-to-cart"})),re(!1)):(d(!0),l(v({id:"something-went-wrong-snackbar"})),re(!1));case 17:e.next=34;break;case 19:return e.prev=19,_=de?le.promotion_price:le.price,w=le.sku,k={id:r.id,quantity:1,variation:{id:null===(b=r.new_variation_addons)||void 0===b?void 0:b[J].id,item_id:null===(j=r.new_variation_addons)||void 0===j?void 0:j[J].addon_item_value},option:{id:null===(h=r.new_variation_addons)||void 0===h||null===(f=h[J].options)||void 0===f?void 0:f[Y[J]].id,item_id:null===(y=r.new_variation_addons)||void 0===y||null===(g=y[J].options)||void 0===g?void 0:g[Y[J]].addon_item_value},price:_,sku:w},e.next=25,x({newItem:k,deliveryCountry:O,coupon:p});case 25:re(!1),o(!0),ae(v({id:"added-to-cart"})),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(19),d(!0),l(v({id:"something-went-wrong-snackbar"}));case 34:case"end":return e.stop()}}),e,null,[[5,14],[19,30]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{onMouseEnter:function(){return C(!0)},onMouseLeave:function(){C(!1),B&&T(!1)},children:[Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsxs)(k.b,{className:"block relative border rounded",to:"/".concat(h,"/products/").concat(r.slug,"/").concat(r.id),children:[function(){var e,t,n;return r.new_variation_addons[J].options?Object(f.jsx)(w.a,{src:(null===(e=r.new_variation_addons[J].options[Y[J]])||void 0===e?void 0:e.image)||(null===(t=r.image)||void 0===t?void 0:t.link),origin:"small",alt:r.translation[h].title,height:"175px"}):Object(f.jsx)(w.a,{src:r.new_variation_addons[J].image||(null===(n=r.image)||void 0===n?void 0:n.link),origin:"small",alt:r.translation[h].title,height:"175px"})}(),de&&le.quantity>0&&Object(f.jsxs)("div",{className:"absolute bg-main-color px-1 text-main-text font-bold top-0   uppercase text-xs ".concat("ar"===h?"pl-4 right-0":"pr-4 left-0"),style:{clipPath:"ar"===h?"polygon(0 0, 100% 0, 100% 100%, 0 100%, 14% 50%)":"polygon(0% 0%, 100% 0, 86% 50%, 100% 100%, 0% 100%)"},children:[Object(L.a)(le.price,le.promotion_price)," ",v({id:"off"})]}),le.quantity<1&&Object(f.jsx)("div",{className:"absolute bg-main-color  text-main-text font-bold top-0   uppercase text-xs right-0 left-0 text-center",children:v({id:"out-of-stock"})})]}),Object(f.jsx)(V.a,{children:N&&le.quantity>0&&Object(f.jsx)(F.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:function(){if(r.new_variation_addons[J].options)return T(!0),void C(!1);ue()},className:"flex items-center justify-center absolute w-full bottom-10",children:Object(f.jsx)("button",{className:"flex items-center justify-center rounded uppercase p-2 bg-main-color text-main-text text-sm",style:{width:"110px"},children:se?Object(f.jsx)(D.a,{type:"ThreeDots",color:"#fff",height:21,width:21,visible:!0}):v({id:"add-to-cart"})})})}),Object(f.jsx)(V.a,{children:B&&Object(f.jsxs)(F.a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 z-2 bg-body-light w-full opacity-75 p-2 border",children:[Object(f.jsxs)("h1",{children:[v({id:"select"})," ",null===(t=r.new_variation_addons[J].options)||void 0===t?void 0:t[Y[J]]["name_".concat(h)]]}),Object(f.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(20px,35px))",gap:"0.25rem",marginTop:"0.5rem",marginBottom:"0.5rem",width:"100%"},children:null===(n=r.new_variation_addons[J].options)||void 0===n?void 0:n.map((function(e,t){var n=Y[J]===t;return Object(f.jsx)("button",{onClick:function(){return Z((function(e){return Object(q.a)(Object(q.a)({},e),{},Object(R.a)({},J,t))}))},className:"hover:bg-main-color hover:text-main-text transition duration-150 p-2 uppercase border text-xs flex items-center justify-center ".concat(n?"bg-main-color text-main-text":"text-body-text-light"," "),children:e.addon_item_value.substr(0,4)},e.addon_item_value)}))}),Object(f.jsx)("div",{className:"w-full flex justify-center items-center ",children:Object(f.jsx)("button",{className:"p-2 bg-green-700 rounded text-sm text-main-text ",onClick:ue,children:se?Object(f.jsx)(D.a,{type:"ThreeDots",color:"#fff",height:20,width:20,visible:!0}):v({id:"submit"})})})]})}),Object(f.jsx)(V.a,{children:ne&&Object(f.jsx)(F.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"absolute top-0 w-full h-full flex items-center justify-center text-main-text bg-gray-800 text-2xl",children:ne})})]}),Object(f.jsxs)("div",{className:"bg-body-light text-body-text-light",children:[Object(f.jsx)("div",{className:"p-2",style:{height:"18px"},children:Object(f.jsx)(k.b,{title:r.translation[h].title,className:"hover:underline inline-block text-main-color underline",to:"/".concat(h,"/brands/").concat(null===(i=r.brand)||void 0===i?void 0:i.slug),children:Object(f.jsx)("h1",{className:"text-clamp-1 text-xs uppercase font-bold",children:null===(s=r.brand)||void 0===s?void 0:s.translation[h].name})})}),Object(f.jsx)("div",{className:"p-2",style:{height:"55px"},children:Object(f.jsx)(k.b,{title:r.translation[h].title,className:"hover:underline inline-block",to:"/".concat(h,"/products/").concat(r.slug,"/").concat(r.id),children:Object(f.jsx)("h1",{className:"text-clamp-2  text-sm uppercase font-semibold",children:function(){var e=r.new_variation_addons[J].addon_item_value;return"".concat(r.translation[h].title," ").concat(e)}()})})}),Object(f.jsx)("div",{className:"p-2 flex items-center justify-between",children:de?Object(f.jsxs)("div",{className:" flex items-center",children:[Object(f.jsxs)("h1",{className:"font-bold text-lg text-main-color",children:[(le.promotion_price*(null===O||void 0===O?void 0:O.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"mx-1 text-sm",children:null===O||void 0===O?void 0:O.currency.translation[h].symbol})]}),Object(f.jsxs)("h1",{className:" text-sm mx-1 italic  line-through text-gray-700",children:[(le.price*(null===O||void 0===O?void 0:O.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"",children:null===O||void 0===O?void 0:O.currency.translation[h].symbol})]})]}):Object(f.jsxs)("h1",{className:"font-bold text-lg text-main-color",children:[(le.price*(null===O||void 0===O?void 0:O.currency.value)).toFixed(3),Object(f.jsx)("span",{className:"mx-1 text-sm",children:null===O||void 0===O?void 0:O.currency.translation[h].symbol})]})}),Object(f.jsxs)("div",{className:"p-1",style:{display:"grid",gap:"0.2rem",gridTemplateColumns:"repeat(auto-fill,32px)"},children:[oe?Object.keys(r.new_variation_addons).slice(0,3).map((function(e,t){return r.new_variation_addons[e].image?Object(f.jsx)("img",{onClick:function(){K(e)},className:"cursor-pointer ".concat(J===e&&"border"),alt:le.id,src:"".concat("https://admin.royal-online.co/storage","/small/").concat(r.new_variation_addons[e].image)},t):Object(f.jsx)("button",{onClick:function(){return K(e)},className:"p-1 ".concat(J===e?"bg-main-color text-main-text":""," rounded flex items-center justify-center"),children:r.new_variation_addons[e].addon_item_value.substr(0,1)},t)})):Object.keys(r.new_variation_addons).slice(0,3).map((function(e,t){var n;return r.new_variation_addons[e].options[Y[e]].image?Object(f.jsx)("img",{onClick:function(){return K(e)},className:"cursor-pointer ".concat(J===e&&"border"),alt:r.new_variation_addons[e].id,src:"".concat("https://admin.royal-online.co/storage","/small/").concat(null===(n=r.new_variation_addons[e].options[Y[e]])||void 0===n?void 0:n.image)},t):Object(f.jsx)("button",{onClick:function(){return K(e)},className:"p-1 ".concat(J===e?"bg-main-color text-main-text":""," rounded flex items-center justify-center"),children:r.new_variation_addons[e].addon_item_value.substr(0,1)})})),Object.keys(r.new_variation_addons).length>3&&Object(f.jsx)("button",{onClick:function(){return G.push("/".concat(h,"/products/").concat(r.slug,"/").concat(r.id))},title:v({id:"show-more"}),className:"p-1  border\n               rounded flex items-center justify-center",children:Object(f.jsx)(z.h,{className:"text-main-color w-6 h-6"})})]})]})]})}var U=n(55),X=n(469);function Y(e){var t,n=e.type,i=e.cb,s=(e.title,e.id),r=Object(b.a)(),o=r.formatMessage,l=r.locale,p=c.a.useState(!1),j=Object(a.a)(p,2),v=j[0],h=j[1],O=c.a.useState(""),y=Object(a.a)(O,2),g=y[0],_=y[1],w=Object(X.a)({threshold:.1}),N=w.inView,C=w.ref,M=Object(d.a)(["staticSwiper",n],(function(){return Object(u.E)(n)}),{retry:!0,enabled:N}),q=M.data,B=M.isLoading,S=M.isIdle;return Object(f.jsxs)("div",{ref:C,className:"my-8",children:[v&&Object(f.jsx)(U.a,{message:g,closeFunction:function(){h(!1)}}),(B||S)&&Object(f.jsx)("div",{className:"mb-4 ",style:{height:"30px"}}),(B||S)&&Object(f.jsx)(I,{}),!B&&!S&&Object(f.jsxs)("div",{className:"flex items-center mb-4",children:[Object(f.jsx)("h1",{className:"text-xl  flex-1 font-bold ",children:null===q||void 0===q||null===(t=q.title[l])||void 0===t?void 0:t.name}),"latest_products"!==n&&"best_seller"!==n&&Object(f.jsx)(k.b,{to:"/".concat(l,"/category/").concat(null===q||void 0===q?void 0:q.slug,"/").concat(s),className:"py-1 px-2  bg-main-color text-second-nav-text-light rounded whitespace-no-wrap",style:{fontWeight:"900"},children:o({id:"seeAll"})})]}),!B&&!S&&Object(f.jsx)(m.a,{freeMode:!0,id:"main",spaceBetween:5,breakpoints:{320:{slidesPerView:2.25,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:4,spaceBetween:20},1100:{slidesPerView:4,spaceBetween:20},1440:{slidesPerView:4,spaceBetween:20}},children:q.products.map((function(e){return Object(f.jsx)(x.a,{className:"overflow-hidden   relative my-2 rounded",children:"variation"===e.type&&Object.keys(e.new_variation_addons).length>0?Object(f.jsx)(K,{item:e,setCartMenuOpen:i,setErrorMessage:_,setErrorOpen:h}):Object(f.jsx)(J,{item:e,setCartMenuOpen:i,setErrorMessage:_,setErrorOpen:h})},e.id)}))})]})}p.a.use([_.a]);var Z=n(455),$=n(198),ee=n(206);function te(){var e=Object(o.useMediaQuery)({query:"(min-width:768px)"}),t=Object(d.a)("homeShowcase",u.u,{retry:!0,refetchOnWindowFocus:!1}),n=t.data,s=t.isLoading,l=Object(b.a)().locale,m=c.a.useState(!1),x=Object(a.a)(m,2),p=x[0],j=x[1],v=function(){j(!0)},h=Object(i.useContext)(g.a),_=h.mobileCartPopupOpen,w=h.sideMenuOpen,k=Object(i.useContext)(E.a).userId,M=Object(i.useContext)(Q.a),q=M.cartItems,B=M.guestCartItems;return Object(f.jsxs)(C.a,{children:[Object(f.jsx)($.a,{children:Object(f.jsx)("title",{children:"Royal Pharmacies | \u0635\u064a\u062f\u0644\u064a\u0627\u062a \u0631\u0648\u064a\u0627\u0644"})}),Object(f.jsxs)("div",{className:"mb-5 overflow-hidden bg-body-light text-body-text-light",style:{minHeight:"calc(100vh - 140px)"},children:[Object(f.jsxs)(V.a,{children:[p&&Object(f.jsx)(Z.a,{setSideMenuOpen:j},"side-cart"),p&&Object(f.jsx)(F.a.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return j(!1)},className:"side__addCart-bg"},"sidecart-bg")]}),Object(f.jsxs)("div",{className:"px-2 py-4 sm:px-2 md:px-4 lg:px-8  mx-auto max-w-default",children:[Object(f.jsx)(O,{}),Object(f.jsx)(N,{}),s&&Object(f.jsx)("div",{className:"my-8",children:Object(f.jsx)(I,{})}),s&&Object(f.jsx)("div",{className:"my-8",children:Object(f.jsx)(I,{})}),s&&Object(f.jsx)("div",{className:"my-8",children:Object(f.jsx)(I,{})}),!s&&(null===n||void 0===n?void 0:n.map((function(t,n){return function(t,n){switch(t.type){case"best_seller":return Object(f.jsx)(Y,{type:t.type,title:t["title_".concat(l)],cb:v},n);case"product_by_category":return Object(f.jsx)(Y,{type:t.key,id:t.id,title:t["title_".concat(l)],cb:v},n);case"categories":return Object(f.jsx)(Y,{id:t.id,type:t.slug,title:t["title_".concat(l)],cb:v},n);case"latest_products":return Object(f.jsx)(Y,{type:t.type,title:t["title_".concat(l)],cb:v},n);case"banner":return Object(f.jsx)(r.a,{offset:500,children:Object(f.jsx)("div",{className:"my-16",children:Object(f.jsx)(y,{url:e?t.data.banner_desktop.link:t.data.banner_mobile.link})})},n);default:return null}}(t,n)})))]}),Object(f.jsx)(V.a,{children:function(){if(w)return!1;if(k){if((null===q||void 0===q?void 0:q.length)>0)return!0}else{if((null===B||void 0===B?void 0:B.length)>0)return!0;if(_)return!0}return!1}()&&Object(f.jsx)(ee.a,{})})]})]})}}}]);
//# sourceMappingURL=15.64336aa5.chunk.js.map